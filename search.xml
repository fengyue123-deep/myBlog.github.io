<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>scrapy框架</title>
      <link href="/myBlog.github.io/2024/06/16/scrapy%E6%A1%86%E6%9E%B6/"/>
      <url>/myBlog.github.io/2024/06/16/scrapy%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="scrapy-练手案例"><a href="#scrapy-练手案例" class="headerlink" title="scrapy 练手案例"></a>scrapy 练手案例</h1><h2 id="spider"><a href="#spider" class="headerlink" title="spider"></a>spider</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy,re</span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> DangdangItem</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PythonbookSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&quot;pythonbook&quot;</span></span><br><span class="line">    start_urls = [<span class="string">&quot;http://search.dangdang.com/?key=python&amp;act=input&quot;</span>]</span><br><span class="line">    p = <span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">        disc = response.xpath(<span class="string">&quot;.//ul[@class=&#x27;bigimg&#x27;]/li&quot;</span>)</span><br><span class="line">        item = DangdangItem()</span><br><span class="line">        <span class="keyword">for</span> date <span class="keyword">in</span> disc:</span><br><span class="line">            item[<span class="string">&#x27;name&#x27;</span>] = date.xpath(<span class="string">&quot;./a/@title&quot;</span>).extract_first()</span><br><span class="line">            price = date.xpath(<span class="string">&quot;.//span[@class=&#x27;search_now_price&#x27;]&quot;</span>).extract_first()</span><br><span class="line">            price = re.findall(<span class="string">&quot;.*?([0-9]*\.[0-9]*)&quot;</span>,price)</span><br><span class="line">            <span class="keyword">if</span>(price[<span class="number">0</span>]):</span><br><span class="line">                item[<span class="string">&#x27;price&#x27;</span>] = price[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                item[<span class="string">&#x27;price&#x27;</span>] = <span class="literal">None</span></span><br><span class="line">            item[<span class="string">&#x27;pic&#x27;</span>] = date.xpath(<span class="string">&quot;.//img/@data-original|.//img/@src&quot;</span>).extract_first()</span><br><span class="line">            item[<span class="string">&#x27;author&#x27;</span>] = date.xpath(<span class="string">&quot;.//p[@class=&#x27;search_book_author&#x27;]/span[1]/a[1]/@title&quot;</span>).extract_first()</span><br><span class="line">            item[<span class="string">&#x27;publisher&#x27;</span>] = date.xpath(<span class="string">&quot;.//p[@class=&#x27;search_book_author&#x27;]/span[3]/a/@title&quot;</span>).extract_first()</span><br><span class="line">            item[<span class="string">&#x27;comments&#x27;</span>] = date.xpath(<span class="string">&quot;.//a[@class=&#x27;search_comment_num&#x27;]/text()&quot;</span>).extract_first()</span><br><span class="line">            item[<span class="string">&#x27;pubdate&#x27;</span>] = date.re_first(<span class="string">&quot;(([0-9]&#123;4&#125;)-([0-9]&#123;2&#125;)-([0-9]&#123;2&#125;))&quot;</span>)</span><br><span class="line">            item[<span class="string">&#x27;description&#x27;</span>] = date.xpath(<span class="string">&quot;.//p[@class=&#x27;detail&#x27;]/text()&quot;</span>).extract_first()</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line">        <span class="keyword">if</span>(self.p&lt;<span class="number">20</span>):</span><br><span class="line">            self.p+=<span class="number">1</span></span><br><span class="line">            path = response.xpath(<span class="string">&quot;.//li[@class=&#x27;next&#x27;]/a/@href&quot;</span>).extract_first()</span><br><span class="line">            path = <span class="string">&quot;http://search.dangdang.com&#123;&#125;&quot;</span>.<span class="built_in">format</span>(path)</span><br><span class="line">            request = scrapy.Request(path)</span><br><span class="line">            <span class="keyword">yield</span> request</span><br></pre></td></tr></table></figure><h2 id="pipline"><a href="#pipline" class="headerlink" title="pipline"></a>pipline</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="comment"># useful for handling different item types with a single interface</span></span><br><span class="line"><span class="keyword">from</span> itemadapter <span class="keyword">import</span> ItemAdapter</span><br><span class="line"><span class="keyword">from</span> dangdang.settings <span class="keyword">import</span> mysql_local</span><br><span class="line"><span class="keyword">from</span> dangdang.settings <span class="keyword">import</span> IMAGES_STORE</span><br><span class="line"><span class="keyword">from</span> scrapy.pipelines.images <span class="keyword">import</span> ImagesPipeline</span><br><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> Request</span><br><span class="line"><span class="keyword">from</span> scrapy.exceptions <span class="keyword">import</span> DropItem</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DangdangPipeline</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open_spider</span>(<span class="params">self,spider</span>):</span><br><span class="line">        self.conn = pymysql.connect(**mysql_local)</span><br><span class="line">        self.cursor  = self.conn.cursor()</span><br><span class="line">        sql = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        create table if not exists booktable(</span></span><br><span class="line"><span class="string">            id int primary key auto_increment,</span></span><br><span class="line"><span class="string">            author varchar(50) ,</span></span><br><span class="line"><span class="string">            comments varchar(10) ,</span></span><br><span class="line"><span class="string">            description varchar(200) ,</span></span><br><span class="line"><span class="string">            name varchar(100) ,</span></span><br><span class="line"><span class="string">            pic varchar(50) ,</span></span><br><span class="line"><span class="string">            price varchar(10) ,</span></span><br><span class="line"><span class="string">            publisher varchar(20) </span></span><br><span class="line"><span class="string">)&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.cursor.execute(sql)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;管道接收到的数据:&quot;</span>,<span class="built_in">tuple</span>(<span class="built_in">list</span>(item.values())))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;名字:&quot;</span>,item[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">        sql = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        insert into booktable(author,comments,description,name,pic,price,publisher) </span></span><br><span class="line"><span class="string">        values (%s,%s,%s,%s,%s,%s,%s)</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        self.cursor.execute(sql,(</span><br><span class="line">            item[<span class="string">&#x27;author&#x27;</span>], item[<span class="string">&#x27;comments&#x27;</span>], item[<span class="string">&#x27;description&#x27;</span>], item[<span class="string">&#x27;name&#x27;</span>], item[<span class="string">&#x27;pic&#x27;</span>]</span><br><span class="line">            , item[<span class="string">&#x27;price&#x27;</span>], item[<span class="string">&#x27;publisher&#x27;</span>]</span><br><span class="line">        ))</span><br><span class="line">        self.conn.commit()</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close_spider</span>(<span class="params">self,spider</span>):</span><br><span class="line">        self.cursor.close()</span><br><span class="line">        self.conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyImagesPipeline</span>(<span class="title class_ inherited__">ImagesPipeline</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_media_requests</span>(<span class="params">self, item, info</span>):</span><br><span class="line">        <span class="comment"># 提取我们在item中封装的链接，生成request，下载对应的数据</span></span><br><span class="line">        <span class="comment"># 这里Request的回调由框架进行处理</span></span><br><span class="line">        path = item[<span class="string">&#x27;pic&#x27;</span>]</span><br><span class="line">        path = <span class="string">&quot;https:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(path)</span><br><span class="line">        <span class="keyword">yield</span> Request(url=path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载完后，对文件重命名，否则默认文件名为hash码的形式</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">item_completed</span>(<span class="params">self, results, item, info</span>):</span><br><span class="line">        image_paths = [x[<span class="string">&#x27;path&#x27;</span>] <span class="keyword">for</span> ok, x <span class="keyword">in</span> results <span class="keyword">if</span> ok]</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> image_paths:</span><br><span class="line">            <span class="keyword">raise</span> DropItem(<span class="string">&quot;Item contains no images&quot;</span>)</span><br><span class="line">        os.rename(IMAGES_STORE + <span class="string">&#x27;/&#x27;</span> + image_paths[<span class="number">0</span>],IMAGES_STORE+<span class="string">&quot;/full/&quot;</span>+item[<span class="string">&quot;name&quot;</span>]+<span class="string">&quot;.jpg&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="item"><a href="#item" class="headerlink" title="item"></a>item</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DangdangItem</span>(scrapy.Item):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">      当当图书的Item 类，包含所有要爬取的信息</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line"></span><br><span class="line">    name = scrapy.Field()  <span class="comment"># 书名</span></span><br><span class="line">    price = scrapy.Field()  <span class="comment"># 价格</span></span><br><span class="line">    pic = scrapy.Field()  <span class="comment"># 图片链接</span></span><br><span class="line">    author = scrapy.Field()  <span class="comment"># 作者</span></span><br><span class="line">    publisher = scrapy.Field()  <span class="comment"># 出版商</span></span><br><span class="line">    comments = scrapy.Field()  <span class="comment"># 评论数量</span></span><br><span class="line">    pubdate = scrapy.Field()  <span class="comment"># 发行日期</span></span><br><span class="line">    description = scrapy.Field()  <span class="comment"># 描述</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="setting"><a href="#setting" class="headerlink" title="setting"></a>setting</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">BOT_NAME = <span class="string">&quot;dangdang&quot;</span></span><br><span class="line"></span><br><span class="line">SPIDER_MODULES = [<span class="string">&quot;dangdang.spiders&quot;</span>]</span><br><span class="line">NEWSPIDER_MODULE = <span class="string">&quot;dangdang.spiders&quot;</span></span><br><span class="line">DEFAULT_REQUEST_HEADERS = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36&#x27;</span>,</span><br><span class="line">   <span class="string">&quot;Accept&quot;</span>: <span class="string">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;</span>,</span><br><span class="line">   <span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;en&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&quot;dangdang.pipelines.DangdangPipeline&quot;</span>: <span class="number">300</span>,</span><br><span class="line">   <span class="string">&quot;dangdang.pipelines.MyImagesPipeline&quot;</span>: <span class="number">500</span>,</span><br><span class="line">&#125;</span><br><span class="line">REQUEST_FINGERPRINTER_IMPLEMENTATION = <span class="string">&quot;2.7&quot;</span></span><br><span class="line">TWISTED_REACTOR = <span class="string">&quot;twisted.internet.asyncioreactor.AsyncioSelectorReactor&quot;</span></span><br><span class="line">FEED_EXPORT_ENCODING = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">mysql_local=&#123;</span><br><span class="line">   <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">   <span class="string">&#x27;user&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;db&#x27;</span>:<span class="string">&#x27;pythonbook&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">IMAGES_STORE =<span class="string">&quot;./imgs&quot;</span></span><br><span class="line">MEDIA_ALLOW_REDIRECTS =<span class="literal">True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>echarts异步数据加载,事件,主题,多表联动</title>
      <link href="/myBlog.github.io/2024/06/16/echarts%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-%E4%BA%8B%E4%BB%B6-%E4%B8%BB%E9%A2%98-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%8A%A8/"/>
      <url>/myBlog.github.io/2024/06/16/echarts%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-%E4%BA%8B%E4%BB%B6-%E4%B8%BB%E9%A2%98-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="异步加载数据"><a href="#异步加载数据" class="headerlink" title="异步加载数据"></a>异步加载数据</h2><p><img src="/myBlog.github.io/img/pyecharts/%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../jquery/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> option =&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>:<span class="string">&quot;标题&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtext</span>:<span class="string">&quot;副标题&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">left</span>:<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">trigger</span>:<span class="string">&quot;item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">formatter</span>:<span class="string">&quot;&#123;a&#125;&lt;/br&gt;&#123;b&#125;:&#123;c&#125;(&#123;d&#125;%)&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">x</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">calculable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">showLoading</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">text</span>:<span class="string">&quot;请你稍稍休息片刻,loading data...&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> showData = []</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> legent = []</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        $.<span class="title function_">get</span>(<span class="string">&quot;data_pie.json&quot;</span>).<span class="title function_">done</span>(<span class="keyword">function</span>(<span class="params">data</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        showData = data.<span class="property">data_pie</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">data_pie</span>.<span class="property">length</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;data.<span class="property">data_pie</span>.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">data_pie</span>[i].<span class="property">name</span>)</span></span><br><span class="line"><span class="language-javascript">            legent.<span class="title function_">push</span>(data.<span class="property">data_pie</span>[i].<span class="property">name</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        option.<span class="property">legend</span>.<span class="property">data</span>=legent</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(showData)</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;访问来源&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:showData</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">hideLoading</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">3000</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&#x27;echarts.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 800px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>));</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> option = &#123; </span></span><br><span class="line"><span class="language-javascript"><span class="attr">backgroundColor</span>: <span class="string">&#x27;rgba(128, 128, 128, 0.1)&#x27;</span>,  </span></span><br><span class="line"><span class="language-javascript"><span class="attr">title</span>: &#123; <span class="attr">text</span>: <span class="string">&#x27;22级电子商务学院各专业招生情况&#x27;</span>, <span class="attr">left</span>: <span class="string">&#x27;center&#x27;</span>, <span class="attr">top</span>: <span class="number">9</span> &#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">legend</span>:&#123;<span class="attr">left</span>:<span class="string">&#x27;70%&#x27;</span>,<span class="attr">top</span>:<span class="number">100</span>,<span class="attr">orient</span>:<span class="string">&#x27;vertical&#x27;</span>,&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">tooltip</span>: &#123;  </span></span><br><span class="line"><span class="language-javascript"><span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>, <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">formatter</span>: <span class="string">&quot;&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125;&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">series</span>: [  </span></span><br><span class="line"><span class="language-javascript">&#123;   </span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: <span class="string">&#x27;招生专业比例&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;软件技术&#x27;</span>,<span class="attr">value</span>:<span class="number">180</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;大数据&#x27;</span>,<span class="attr">value</span>:<span class="number">85</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;计算机网络&#x27;</span>,<span class="attr">value</span>:<span class="number">88</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;电子商务&#x27;</span>,<span class="attr">value</span>:<span class="number">350</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;软件工程&#x27;</span>,<span class="attr">value</span>:<span class="number">165</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">myChart.<span class="title function_">setOption</span>(option); </span></span><br><span class="line"><span class="language-javascript">myChart.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">params</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">alert</span>(params.<span class="property">name</span>+<span class="string">&quot;的专业招生比例为:&quot;</span>+params.<span class="property">data</span>.<span class="property">value</span>+<span class="string">&quot;\n&quot;</span></span></span><br><span class="line"><span class="language-javascript">+<span class="string">&quot;--seriesName:&quot;</span>+params.<span class="property">seriesName</span>+<span class="string">&quot;\n&quot;</span></span></span><br><span class="line"><span class="language-javascript">+<span class="string">&quot;--color:&quot;</span>+params.<span class="property">color</span>+<span class="string">&quot;\n&quot;</span></span></span><br><span class="line"><span class="language-javascript">+<span class="string">&quot;--seriesType:&quot;</span>+params.<span class="property">seriesType</span></span></span><br><span class="line"><span class="language-javascript">)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(params.<span class="property">name</span>==<span class="string">&quot;软件技术&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=1&amp;tn=baidu&amp;wd=%E8%BD%AF%E4%BB%B6%E6%8A%80%E6%9C%AF&amp;fenlei=256&amp;oq=%25E8%25B6%2585%25E6%2598%259F&amp;rsv_pq=a72f8e3e000fe0bb&amp;rsv_t=550fLLawVAjY9HKEF5eFvZfVRpFSLlQFxE%2BGpxtkqzwKIA%2FemhOInmppPK0&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_dl=tb&amp;rsv_sug3=3&amp;rsv_sug1=3&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;rsv_btype=t&amp;inputT=4628&amp;rsv_sug4=5366&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">myChart.<span class="title function_">resize</span>()</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">myChart.<span class="title function_">on</span>(<span class="string">&quot;legendselectchanged&quot;</span>,<span class="keyword">function</span>(<span class="params">params</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(params.<span class="property">selected</span>[params.<span class="property">name</span>])&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(params.<span class="property">name</span>+<span class="string">&quot;被你选中了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(params.<span class="property">name</span>+<span class="string">&quot;被你取消选中了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;theme/dark.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;theme/infographic.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;theme/macarons.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;theme/shine.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;theme/vintage.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>切换主题<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">&quot;sel&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;dark&quot;</span>&gt;</span>dark<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;infographic&quot;</span>&gt;</span>infographic<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;macarons&quot;</span>&gt;</span>macarons<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shine&quot;</span>&gt;</span>shine<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;vintage&quot;</span>&gt;</span>vintage<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box,<span class="string">&quot;dark&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&#x27;Stacked Area Chart&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;cross&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">backgroundColor</span>: <span class="string">&#x27;#6a7985&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;Email&#x27;</span>, <span class="string">&#x27;Union Ads&#x27;</span>, <span class="string">&#x27;Video Ads&#x27;</span>, <span class="string">&#x27;Direct&#x27;</span>, <span class="string">&#x27;Search Engine&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">saveAsImage</span>: &#123;&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>: <span class="string">&#x27;4%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">bottom</span>: <span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">containLabel</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>: [</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">boundaryGap</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;Mon&#x27;</span>, <span class="string">&#x27;Tue&#x27;</span>, <span class="string">&#x27;Wed&#x27;</span>, <span class="string">&#x27;Thu&#x27;</span>, <span class="string">&#x27;Fri&#x27;</span>, <span class="string">&#x27;Sat&#x27;</span>, <span class="string">&#x27;Sun&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>: [</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;Email&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>: <span class="string">&#x27;Total&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">areaStyle</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">focus</span>: <span class="string">&#x27;series&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;Union Ads&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>: <span class="string">&#x27;Total&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">areaStyle</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">focus</span>: <span class="string">&#x27;series&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;Video Ads&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>: <span class="string">&#x27;Total&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">areaStyle</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">focus</span>: <span class="string">&#x27;series&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">150</span>, <span class="number">232</span>, <span class="number">201</span>, <span class="number">154</span>, <span class="number">190</span>, <span class="number">330</span>, <span class="number">410</span>]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;Direct&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>: <span class="string">&#x27;Total&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">areaStyle</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">focus</span>: <span class="string">&#x27;series&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">320</span>, <span class="number">332</span>, <span class="number">301</span>, <span class="number">334</span>, <span class="number">390</span>, <span class="number">330</span>, <span class="number">320</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;Search Engine&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>: <span class="string">&#x27;Total&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">position</span>: <span class="string">&#x27;top&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">areaStyle</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">focus</span>: <span class="string">&#x27;series&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">820</span>, <span class="number">932</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sel = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.sel&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sel.<span class="title function_">addEventListener</span>(<span class="string">&quot;change&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">dispose</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> s = <span class="variable language_">this</span>.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(s)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            myChart = echarts.<span class="title function_">init</span>(box,s)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="多表联动"><a href="#多表联动" class="headerlink" title="多表联动"></a>多表联动</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> box2 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> myChart2 = echarts.<span class="title function_">init</span>(box2)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>:<span class="string">&quot;标题一&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtext</span>:<span class="string">&quot;副标题&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: [<span class="string">&#x27;Mon&#x27;</span>, <span class="string">&#x27;Tue&#x27;</span>, <span class="string">&#x27;Wed&#x27;</span>, <span class="string">&#x27;Thu&#x27;</span>, <span class="string">&#x27;Fri&#x27;</span>, <span class="string">&#x27;Sat&#x27;</span>, <span class="string">&#x27;Sun&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;销售&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:[<span class="number">320</span>, <span class="number">302</span>, <span class="number">301</span>, <span class="number">334</span>, <span class="number">390</span>, <span class="number">330</span>, <span class="number">320</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> option2=&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>:<span class="string">&#x27;饼图&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtext</span>:<span class="string">&quot;副标题&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">left</span>:<span class="string">&#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">trigger</span>:<span class="string">&#x27;item&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;Access From&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">radius</span>:[<span class="string">&quot;45%&quot;</span>,<span class="string">&quot;75%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">center</span>: [<span class="string">&#x27;58%&#x27;</span>, <span class="string">&#x27;55%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>: <span class="number">60</span>, <span class="attr">name</span>: <span class="string">&#x27;Mon&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">40</span>,<span class="attr">name</span>:<span class="string">&#x27;Tue&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">30</span>,<span class="attr">name</span>:<span class="string">&#x27;Wed&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">80</span>,<span class="attr">name</span>:<span class="string">&#x27;Thu&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">90</span>,<span class="attr">name</span>:<span class="string">&#x27;Fri&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">34</span>,<span class="attr">name</span>:<span class="string">&#x27;Sat&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">value</span>:<span class="number">65</span>,<span class="attr">name</span>:<span class="string">&#x27;Sun&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    myChart2.<span class="title function_">setOption</span>(option2)</span></span><br><span class="line"><span class="language-javascript">    echarts.<span class="title function_">connect</span>([myChart,myChart2])</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pyecharts异步数据加载,事件,主题,多表联动</title>
      <link href="/myBlog.github.io/2024/06/16/pyecharts%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-%E4%BA%8B%E4%BB%B6-%E4%B8%BB%E9%A2%98-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%8A%A8/"/>
      <url>/myBlog.github.io/2024/06/16/pyecharts%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-%E4%BA%8B%E4%BB%B6-%E4%B8%BB%E9%A2%98-%E5%A4%9A%E8%A1%A8%E8%81%94%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pyecharts个别图</title>
      <link href="/myBlog.github.io/2024/06/16/pyecharts%E4%B8%AA%E5%88%AB%E5%9B%BE/"/>
      <url>/myBlog.github.io/2024/06/16/pyecharts%E4%B8%AA%E5%88%AB%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="1-散点图"><a href="#1-散点图" class="headerlink" title="1.散点图"></a>1.散点图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E5%A4%9A%E6%95%A3%E7%82%B9%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter, Grid</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd;</span><br><span class="line">data = pd.read_csv(<span class="string">&quot;./Ad_sales.csv&quot;</span>)</span><br><span class="line">tv_data = <span class="built_in">list</span>(data.iloc[<span class="number">0</span>:][<span class="string">&quot;TV&quot;</span>])</span><br><span class="line">radio_data = <span class="built_in">list</span>(data.iloc[<span class="number">0</span>:][<span class="string">&quot;radio&quot;</span>])</span><br><span class="line">newspaper_data =<span class="built_in">list</span>(data.iloc[<span class="number">0</span>:][<span class="string">&quot;newspaper&quot;</span>])</span><br><span class="line">sales_data = <span class="built_in">list</span>(data.iloc[<span class="number">0</span>:][<span class="string">&quot;sales&quot;</span>])</span><br><span class="line"><span class="comment"># 准备数据</span></span><br><span class="line"><span class="comment"># x_data = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;]</span></span><br><span class="line"><span class="comment"># 创建一个散点图对象</span></span><br><span class="line">scatter = Scatter()</span><br><span class="line"><span class="comment"># 添加 X 轴和 Y 轴的数据，以及散点的大小</span></span><br><span class="line">scatter.add_xaxis(xaxis_data=tv_data)</span><br><span class="line">scatter.add_yaxis(</span><br><span class="line">    <span class="string">&#x27;TV 广告投入&#x27;</span>,</span><br><span class="line">    y_axis=sales_data,</span><br><span class="line">    itemstyle_opts=opts.ItemStyleOpts(color=<span class="string">&#x27;purple&#x27;</span>),</span><br><span class="line">    <span class="comment"># color=&#x27;green&#x27;,</span></span><br><span class="line">    label_opts=opts.LabelOpts(  <span class="comment"># 标签配置项</span></span><br><span class="line">        is_show=<span class="literal">False</span></span><br><span class="line">    ),</span><br><span class="line">    symbol_size=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置全局配置项，如标题、图例等</span></span><br><span class="line">scatter.set_global_opts(</span><br><span class="line">    <span class="comment"># 当x轴和y轴的数据均为数值，要将x轴和y轴的类型全都设置为value，散点才能正常呈现</span></span><br><span class="line">    legend_opts=opts.LegendOpts(is_show=<span class="literal">True</span>, pos_left=<span class="string">&#x27;left&#x27;</span>),</span><br><span class="line">    xaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;TV 广告投入&#x27;</span>, type_=<span class="string">&#x27;value&#x27;</span>,name_textstyle_opts=opts.TextStyleOpts(align=<span class="string">&#x27;center&#x27;</span>)),</span><br><span class="line">    yaxis_opts=opts.AxisOpts(type_=<span class="string">&#x27;value&#x27;</span>,name=<span class="string">&quot;销售额&quot;</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 渲染图表到 HTML 文件</span></span><br><span class="line"><span class="comment"># scatter.render(&quot;scatter_chart_with_different_sizes.html&quot;)</span></span><br><span class="line">scatter2 = Scatter()</span><br><span class="line"><span class="comment"># 添加 X 轴和 Y 轴的数据，以及散点的大小</span></span><br><span class="line">scatter2.add_xaxis(xaxis_data=radio_data)</span><br><span class="line">scatter2.add_yaxis(</span><br><span class="line">    <span class="string">&#x27;广播广告投入&#x27;</span>,</span><br><span class="line">    y_axis=sales_data,</span><br><span class="line">    itemstyle_opts=opts.ItemStyleOpts(color=<span class="string">&#x27;red&#x27;</span>),</span><br><span class="line">    label_opts=opts.LabelOpts(  <span class="comment"># 标签配置项</span></span><br><span class="line">        is_show=<span class="literal">False</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="comment"># color=&#x27;green&#x27;,</span></span><br><span class="line">    symbol_size=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置全局配置项，如标题、图例等</span></span><br><span class="line">scatter2.set_global_opts(</span><br><span class="line">    legend_opts=opts.LegendOpts(is_show=<span class="literal">True</span>, pos_left=<span class="string">&#x27;center&#x27;</span>),</span><br><span class="line">    <span class="comment"># 当x轴和y轴的数据均为数值，要将x轴和y轴的类型全都设置为value，散点才能正常呈现</span></span><br><span class="line">    xaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;广播广告投入&#x27;</span>, type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">    yaxis_opts=opts.AxisOpts(type_=<span class="string">&#x27;value&#x27;</span>,name=<span class="string">&quot;销售额&quot;</span>)</span><br><span class="line">)</span><br><span class="line">scatter3 = Scatter()</span><br><span class="line"><span class="comment"># 添加 X 轴和 Y 轴的数据，以及散点的大小</span></span><br><span class="line">scatter3.add_xaxis(xaxis_data=newspaper_data)</span><br><span class="line">scatter3.add_yaxis(</span><br><span class="line">    <span class="string">&#x27;报纸投入&#x27;</span>,</span><br><span class="line">    y_axis=sales_data,</span><br><span class="line">    itemstyle_opts=opts.ItemStyleOpts(color=<span class="string">&#x27;yellow&#x27;</span>),</span><br><span class="line">    <span class="comment"># color=&#x27;green&#x27;,</span></span><br><span class="line">    label_opts=opts.LabelOpts(  <span class="comment"># 标签配置项</span></span><br><span class="line">        is_show=<span class="literal">False</span></span><br><span class="line">    ),</span><br><span class="line">    symbol_size=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置全局配置项，如标题、图例等</span></span><br><span class="line">scatter3.set_global_opts(</span><br><span class="line">    legend_opts=opts.LegendOpts(is_show=<span class="literal">True</span>, pos_left=<span class="string">&#x27;right&#x27;</span>),</span><br><span class="line">    <span class="comment"># 当x轴和y轴的数据均为数值，要将x轴和y轴的类型全都设置为value，散点才能正常呈现</span></span><br><span class="line">    xaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;报纸投入&#x27;</span>, type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">    yaxis_opts=opts.AxisOpts(type_=<span class="string">&#x27;value&#x27;</span>,name=<span class="string">&quot;销售额&quot;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将三个散点图通过网格进行布局</span></span><br><span class="line">grid = (</span><br><span class="line">    Grid(init_opts=opts.InitOpts(width=<span class="string">&#x27;100%&#x27;</span>))</span><br><span class="line">    .add(scatter, grid_opts=opts.GridOpts(pos_left=<span class="string">&#x27;3%&#x27;</span>, width=<span class="string">&#x27;30%&#x27;</span>))</span><br><span class="line">    .add(scatter2,grid_opts=opts.GridOpts(pos_left=<span class="string">&#x27;35%&#x27;</span>, width=<span class="string">&#x27;30%&#x27;</span>))</span><br><span class="line">    .add(scatter3,grid_opts=opts.GridOpts(pos_left=<span class="string">&#x27;68%&#x27;</span>, width=<span class="string">&#x27;30%&#x27;</span>))</span><br><span class="line">    .render()</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 随堂练习中的数据提取</span></span><br><span class="line"><span class="comment"># data = np.loadtxt(&#x27;../data/Ad_sales.csv&#x27;, delimiter=&#x27;,&#x27;, skiprows=1, usecols=[1, 4])</span></span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"><span class="comment"># x_data = [d[0] for d in data]</span></span><br><span class="line"><span class="comment"># y_data = [d[1] for d in data]</span></span><br><span class="line"><span class="comment"># print(x_data)</span></span><br><span class="line"><span class="comment"># print(y_data)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-雷达图"><a href="#2-雷达图" class="headerlink" title="2.雷达图"></a>2.雷达图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E9%9B%B7%E8%BE%BE%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Radar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = pd.read_excel(<span class="string">&quot;./居民人均收支.xls&quot;</span>)</span><br><span class="line">lagent_data = <span class="built_in">list</span>(data)[<span class="number">1</span>:]</span><br><span class="line">jm_data=[]</span><br><span class="line">cs_data=[]</span><br><span class="line">nc_data =[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="built_in">list</span>(data.iloc[<span class="number">0</span>:][<span class="string">&quot;指标&quot;</span>]))):</span><br><span class="line">    <span class="keyword">if</span> data.iloc[i][<span class="string">&quot;指标&quot;</span>] == <span class="string">&#x27;居民人均消费支出(元)&#x27;</span>:</span><br><span class="line">        jm_data=<span class="built_in">list</span>(data.iloc[i])[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">if</span> data.iloc[i][<span class="string">&quot;指标&quot;</span>] == <span class="string">&#x27;城镇居民人均消费支出(元)&#x27;</span>:</span><br><span class="line">        cs_data=<span class="built_in">list</span>(data.iloc[i])[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">if</span> data.iloc[i][<span class="string">&quot;指标&quot;</span>] == <span class="string">&#x27;农村居民人均消费支出(元)&#x27;</span>:</span><br><span class="line">        nc_data=<span class="built_in">list</span>(data.iloc[i])[<span class="number">1</span>:]</span><br><span class="line">maxes=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(jm_data)):</span><br><span class="line">    number1 = jm_data[i]</span><br><span class="line">    number2 = cs_data[i]</span><br><span class="line">    number3 = nc_data[i]</span><br><span class="line">    maxes.append(<span class="built_in">max</span>(number1,number2,number3)+<span class="number">10000</span>)</span><br><span class="line">schema_data=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="built_in">len</span>(jm_data)):</span><br><span class="line">    schema_data.append(&#123;<span class="string">&quot;name&quot;</span>: lagent_data[i], <span class="string">&quot;max&quot;</span>: maxes[i]&#125;)</span><br><span class="line">c = (</span><br><span class="line">    Radar()</span><br><span class="line">    .add_schema(schema=schema_data[<span class="number">0</span>:<span class="number">5</span>])    <span class="comment"># 设置雷达图的参数（各个顶点代表的意义和最大值，最小值）</span></span><br><span class="line">    <span class="comment"># .add_schema(</span></span><br><span class="line">    <span class="comment">#     schema=[</span></span><br><span class="line">    <span class="comment">#         opts.RadarIndicatorItem(name=lagent_data[0], max_=maxes[0], color=&#x27;pink&#x27;),</span></span><br><span class="line">    <span class="comment">#         opts.RadarIndicatorItem(name=lagent_data[1], max_=maxes[1], color=&#x27;red&#x27;),</span></span><br><span class="line">    <span class="comment">#         opts.RadarIndicatorItem(name=lagent_data[2], max_=maxes[2], color=&#x27;yellow&#x27;),</span></span><br><span class="line">    <span class="comment">#         opts.RadarIndicatorItem(name=lagent_data[3], max_=maxes[3], color=&#x27;grey&#x27;),</span></span><br><span class="line">    <span class="comment">#         opts.RadarIndicatorItem(name=lagent_data[4], max_=maxes[4], color=&#x27;black&#x27;),</span></span><br><span class="line">    <span class="comment">#     ]</span></span><br><span class="line">    <span class="comment"># )</span></span><br><span class="line">    .add(<span class="string">&quot;居民&quot;</span>,[jm_data[<span class="number">0</span>:<span class="number">5</span>]],color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">    .add(<span class="string">&quot;城市&quot;</span>,[cs_data[<span class="number">0</span>:<span class="number">5</span>]],color=<span class="string">&quot;yellow&quot;</span>)</span><br><span class="line">    .add(<span class="string">&quot;农村&quot;</span>,[nc_data[<span class="number">0</span>:<span class="number">5</span>]],color=<span class="string">&quot;pink&quot;</span>)<span class="comment"># 添加系列名称、系列数据及相关操作  饼图：[[&#x27;A&#x27;,233],[],[]]   雷达图:[[20,79,76,89,97]]</span></span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts= opts.TitleOpts(title=<span class="string">&quot;2016-2020年居民人均消费支出情况&quot;</span>,subtitle=<span class="string">&quot;单位：元&quot;</span>,pos_left=<span class="string">&quot;left&quot;</span>),</span><br><span class="line">        legend_opts = opts.LegendOpts(orient=<span class="string">&quot;vertical&quot;</span>,pos_right=<span class="string">&quot;120px&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    .set_series_opts()</span><br><span class="line">    .render()</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-平行图"><a href="#3-平行图" class="headerlink" title="3.平行图"></a>3.平行图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E5%B9%B3%E8%A1%8C%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Parallel</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = pd.read_excel(<span class="string">&quot;./各类学历教育招生人数.xls&quot;</span>)</span><br><span class="line">data_show=data[data[<span class="string">&quot;2020年&quot;</span>]&gt;<span class="number">0</span>][[<span class="string">&quot;指标&quot;</span>,<span class="string">&quot;2020年&quot;</span>,<span class="string">&quot;2019年&quot;</span>,<span class="string">&quot;2018年&quot;</span>,<span class="string">&quot;2017年&quot;</span>,<span class="string">&quot;2016年&quot;</span>]]</span><br><span class="line">legent = <span class="built_in">list</span>(data_show[<span class="string">&quot;指标&quot;</span>])</span><br><span class="line">y20 = <span class="built_in">list</span>(data_show[<span class="string">&#x27;2020年&#x27;</span>])</span><br><span class="line">y19 = <span class="built_in">list</span>(data_show[<span class="string">&#x27;2019年&#x27;</span>])</span><br><span class="line">y18 = <span class="built_in">list</span>(data_show[<span class="string">&#x27;2018年&#x27;</span>])</span><br><span class="line">y17 = <span class="built_in">list</span>(data_show[<span class="string">&#x27;2017年&#x27;</span>])</span><br><span class="line">y16 = <span class="built_in">list</span>(data_show[<span class="string">&#x27;2016年&#x27;</span>])</span><br><span class="line">y_data = <span class="built_in">list</span>(data)[<span class="number">1</span>:<span class="number">6</span>]</span><br><span class="line"><span class="built_in">print</span>(y_data)</span><br><span class="line"><span class="built_in">print</span>(legent)</span><br><span class="line"><span class="built_in">print</span>(y20)</span><br><span class="line"><span class="built_in">print</span>(y19)</span><br><span class="line"><span class="built_in">print</span>(y18)</span><br><span class="line"><span class="built_in">print</span>(y17)</span><br><span class="line"><span class="built_in">print</span>(y16)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">平行坐标图（Parallel Coordinates Chart）是一种用来呈现多变量或者高纬度数据的可视化技术，</span></span><br><span class="line"><span class="string">用它可以很好的表现多个变量之间的关系</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">需求：制作平行坐标图来展示2023年全国应届毕业生的就业情况（数据包含专业、学历、性别、就业率）</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>([y20[<span class="number">0</span>],y20[<span class="number">1</span>],y20[<span class="number">2</span>],y20[<span class="number">3</span>],y20[<span class="number">4</span>],y20[<span class="number">5</span>],y_data[<span class="number">0</span>]])</span><br><span class="line"><span class="comment"># 假设的数据集</span></span><br><span class="line">data1 = [</span><br><span class="line">    [y20[<span class="number">0</span>],y20[<span class="number">1</span>],y20[<span class="number">2</span>],y20[<span class="number">3</span>],y20[<span class="number">4</span>],y20[<span class="number">5</span>],y_data[<span class="number">0</span>]],</span><br><span class="line">    [y19[<span class="number">0</span>],y19[<span class="number">1</span>],y19[<span class="number">2</span>],y19[<span class="number">3</span>],y19[<span class="number">4</span>],y19[<span class="number">5</span>],y_data[<span class="number">1</span>]],</span><br><span class="line">    [y18[<span class="number">0</span>],y18[<span class="number">1</span>],y18[<span class="number">2</span>],y18[<span class="number">3</span>],y18[<span class="number">4</span>],y18[<span class="number">5</span>],y_data[<span class="number">2</span>]],</span><br><span class="line">    [y17[<span class="number">0</span>],y17[<span class="number">1</span>],y17[<span class="number">2</span>],y17[<span class="number">3</span>],y17[<span class="number">4</span>],y17[<span class="number">5</span>],y_data[<span class="number">3</span>]],</span><br><span class="line">    [y16[<span class="number">0</span>],y16[<span class="number">1</span>],y16[<span class="number">2</span>],y16[<span class="number">3</span>],y16[<span class="number">4</span>],y16[<span class="number">5</span>],y_data[<span class="number">4</span>]],</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建平行坐标图对象</span></span><br><span class="line">parallel = (</span><br><span class="line">    Parallel(init_opts=opts.InitOpts(width=<span class="string">&#x27;700px&#x27;</span>,height=<span class="string">&#x27;500px&#x27;</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(pos_left=<span class="string">&quot;left&quot;</span>,title=<span class="string">&quot;2016-2020年各类学历教育招生人数情况&quot;</span>,subtitle=<span class="string">&quot;单位：万人&quot;</span>),</span><br><span class="line">legend_opts=opts.LegendOpts(is_show=<span class="literal">True</span>,pos_right=<span class="string">&quot;120px&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 添加轴线和数据</span></span><br><span class="line">    .add_schema(</span><br><span class="line">        schema=[</span><br><span class="line">            <span class="comment"># 设置不同维度的轴数据</span></span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">0</span>, name=legent[<span class="number">0</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">1</span>, name=legent[<span class="number">1</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">2</span>, name=legent[<span class="number">2</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">3</span>, name=legent[<span class="number">3</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">4</span>, name=legent[<span class="number">4</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">5</span>, name=legent[<span class="number">5</span>], type_=<span class="string">&#x27;value&#x27;</span>),</span><br><span class="line">            opts.ParallelAxisOpts(dim=<span class="number">6</span>, name=<span class="string">&#x27;招生年份&#x27;</span>, type_=<span class="string">&#x27;category&#x27;</span>,data=y_data),</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 添加数据，平行坐标图的数据结构[[],[],[],...,[]] 或[(),(),...,()]</span></span><br><span class="line">    .add(<span class="string">&#x27;招生人数&#x27;</span>, data=data1,linestyle_opts=opts.LineStyleOpts(width=<span class="number">4</span>,opacity=<span class="number">0.5</span>))</span><br><span class="line">    <span class="comment"># .add(&#x27;机械工程&#x27;, data=data2)</span></span><br><span class="line">    <span class="comment"># .add(&#x27;生物科学&#x27;, data=data3)</span></span><br><span class="line">    <span class="comment"># .set_global_opts()</span></span><br><span class="line">    <span class="comment"># .set_series_opts()</span></span><br><span class="line">    .render()</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="4-饼图"><a href="#4-饼图" class="headerlink" title="4.饼图"></a>4.饼图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E5%A4%9A%E9%A5%BC%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar,Pie</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opt</span><br><span class="line">data = pd.read_excel(<span class="string">&#x27;./居民人均消费支出.xls&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">label_data = <span class="built_in">list</span>(data.iloc[<span class="number">0</span>])[<span class="number">2</span>:]</span><br><span class="line">world_data = <span class="built_in">list</span>(data.iloc[<span class="number">1</span>][<span class="number">2</span>:])</span><br><span class="line"><span class="built_in">print</span>(label_data)</span><br><span class="line"><span class="built_in">print</span>(world_data)</span><br><span class="line">a_data = []</span><br><span class="line">length = <span class="built_in">len</span>(label_data)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(label_data)):</span><br><span class="line">    a_data.append([label_data[i],world_data[i]])</span><br><span class="line">b_data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(data)):</span><br><span class="line">    <span class="keyword">if</span> i &gt;<span class="number">1</span>:</span><br><span class="line">        b_data.append([data.iloc[i].iloc[<span class="number">0</span>],data.values[i][<span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(b_data)</span><br><span class="line"><span class="built_in">print</span>(a_data)</span><br><span class="line">pie = (</span><br><span class="line">    Pie(init_opts=opt.InitOpts(width=<span class="string">&#x27;100%&#x27;</span>)).set_global_opts(</span><br><span class="line">        legend_opts=opt.LegendOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">        tooltip_opts=opt.TooltipOpts(</span><br><span class="line">            formatter=<span class="string">&quot;&#123;b&#125;:&#123;d&#125;%&quot;</span></span><br><span class="line">        )</span><br><span class="line">    ).add(<span class="string">&#x27;&#x27;</span>,a_data,center=[<span class="string">&#x27;20%&#x27;</span>,<span class="string">&#x27;50%&#x27;</span>],radius=<span class="string">&#x27;40%&#x27;</span>)</span><br><span class="line">        .add(<span class="string">&#x27;&#x27;</span>,b_data,center=[<span class="string">&#x27;70%&#x27;</span>,<span class="string">&#x27;50%&#x27;</span>],radius=<span class="string">&#x27;40%&#x27;</span>)</span><br><span class="line">        .set_series_opts(</span><br><span class="line">             label_opts=opt.LabelOpts(formatter=<span class="string">&quot;&#123;b&#125;:&#123;c&#125;&quot;</span>))</span><br><span class="line">        .render(<span class="string">&quot;pie.html&quot;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-堆积柱形图"><a href="#5-堆积柱形图" class="headerlink" title="5.堆积柱形图"></a>5.堆积柱形图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E5%A0%86%E7%A7%AF%E6%9F%B1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(pyecharts.__version__)</span></span><br><span class="line"><span class="comment"># 柱状图</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;./广播电视情况.csv&quot;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">x_data=<span class="built_in">list</span>(df)[<span class="number">2</span>:<span class="number">7</span>]</span><br><span class="line">index1 = <span class="number">0</span></span><br><span class="line">index2 = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df)):</span><br><span class="line">    <span class="keyword">if</span> df.iloc[i].iloc[<span class="number">0</span>] == <span class="string">&quot;进口电影票房收入(亿元)&quot;</span>:</span><br><span class="line">        index1 = i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> df.iloc[i].iloc[<span class="number">0</span>] == <span class="string">&quot;国产电影票房收入(亿元)&quot;</span>:</span><br><span class="line">        index2 = i</span><br><span class="line"></span><br><span class="line">show1 = <span class="built_in">list</span>(df.values[index1][<span class="number">2</span>:<span class="number">7</span>])</span><br><span class="line">show2 = <span class="built_in">list</span>(df.values[index2][<span class="number">2</span>:<span class="number">7</span>])</span><br><span class="line"><span class="built_in">print</span>(x_data)</span><br><span class="line"><span class="built_in">print</span>(show1)</span><br><span class="line"><span class="built_in">print</span>(show2)</span><br><span class="line"></span><br><span class="line">bar = (</span><br><span class="line">    Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;1200px&#x27;</span>,height=<span class="string">&#x27;900px&#x27;</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;五年期间国产与进口电影票房收入&#x27;</span>,subtitle=<span class="string">&#x27;单位：亿元&#x27;</span>,pos_left=<span class="string">&#x27;center&#x27;</span>,text_align=<span class="string">&#x27;center&#x27;</span>),</span><br><span class="line">        legend_opts=opts.LegendOpts(pos_left=<span class="string">&#x27;right&#x27;</span>,orient=<span class="string">&#x27;vertical&#x27;</span>,pos_top=<span class="number">30</span>),</span><br><span class="line">        toolbox_opts=opts.ToolboxOpts(is_show=<span class="literal">True</span>),</span><br><span class="line">        datazoom_opts=opts.DataZoomOpts(is_show=<span class="literal">True</span>,pos_top=<span class="number">850</span>),</span><br><span class="line">        xaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;年份&#x27;</span>),</span><br><span class="line">        yaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;收入&#x27;</span>),</span><br><span class="line">        graphic_opts=opts.GraphicGroup(children=[</span><br><span class="line">            opts.GraphicText(</span><br><span class="line">                graphic_item=opts.GraphicItem(</span><br><span class="line">                    z=<span class="number">100</span>,</span><br><span class="line">                    position=[<span class="number">120</span>,<span class="number">885</span>]</span><br><span class="line">                ),</span><br><span class="line">                graphic_textstyle_opts=opts.GraphicTextStyleOpts(</span><br><span class="line">                <span class="comment"># 文本内容</span></span><br><span class="line">                text=<span class="string">&#x27;数据来源:国家统计局&#x27;</span>,</span><br><span class="line">                <span class="comment"># 文字样式</span></span><br><span class="line">                font=<span class="string">&#x27;15px Microsoft YaHei&#x27;</span>,</span><br><span class="line">                graphic_basicstyle_opts=opts.GraphicBasicStyleOpts(</span><br><span class="line">                    <span class="comment"># 文字配上猛男色</span></span><br><span class="line">                    fill=<span class="string">&#x27;black&#x27;</span></span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">])</span><br><span class="line">    )</span><br><span class="line">    .add_xaxis(x_data)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;进口电影票房收入(亿元)&quot;</span>,show1,stack=<span class="string">&#x27;num&#x27;</span>)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;国产电影票房收入(亿元)&quot;</span>,show2,stack=<span class="string">&#x27;num&#x27;</span>)</span><br><span class="line">    .render(<span class="string">&#x27;mypycharts.html&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-折线图柱形图"><a href="#6-折线图柱形图" class="headerlink" title="6.折线图柱形图"></a>6.折线图柱形图</h2><p><img src="/myBlog.github.io/img/pyecharts/%E6%8A%98%E7%BA%BF%E6%9F%B1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar,Line</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line">df = pd.read_excel(<span class="string">&quot;./城市绿地面积.xls&quot;</span>)</span><br><span class="line">x_data =<span class="built_in">list</span>(df)[<span class="number">1</span>:<span class="number">6</span>]</span><br><span class="line">index1 = <span class="number">0</span></span><br><span class="line">index2 = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df)):</span><br><span class="line">    <span class="keyword">if</span> df.iloc[i].iloc[<span class="number">0</span>] == <span class="string">&quot;城市绿地面积(万公顷)&quot;</span>:</span><br><span class="line">        index1 = i</span><br><span class="line">    <span class="keyword">if</span> df.iloc[i].iloc[<span class="number">0</span>] == <span class="string">&quot;建成区绿化覆盖率(%)&quot;</span>:</span><br><span class="line">        index2 = i</span><br><span class="line">show1 = <span class="built_in">list</span>(df.values[index1][<span class="number">2</span>:<span class="number">7</span>])</span><br><span class="line">show2 = <span class="built_in">list</span>(df.values[index2][<span class="number">2</span>:<span class="number">7</span>])</span><br><span class="line"><span class="built_in">print</span>(x_data)</span><br><span class="line"><span class="built_in">print</span>(show1)</span><br><span class="line"><span class="built_in">print</span>(show2)</span><br><span class="line"></span><br><span class="line">bar = Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;100%&#x27;</span>, height=<span class="string">&#x27;600px&#x27;</span>, page_title=<span class="string">&#x27;my_pyecharts&#x27;</span>)).set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">&#x27;五年期间城市绿地面积&#x27;</span>,subtitle=<span class="string">&#x27;单位：万公顷&#x27;</span>),</span><br><span class="line">            graphic_opts=opts.GraphicGroup(children=[</span><br><span class="line">                opts.GraphicText(</span><br><span class="line">                    graphic_item=opts.GraphicItem(</span><br><span class="line">                        z=<span class="number">100</span>,</span><br><span class="line">                        position=[<span class="number">120</span>,<span class="number">550</span>]</span><br><span class="line">                    ),</span><br><span class="line">                    graphic_textstyle_opts=opts.GraphicTextStyleOpts(</span><br><span class="line">                        text=<span class="string">&#x27;数据来源:国家统计局&#x27;</span>,</span><br><span class="line">                        font=<span class="string">&#x27;15px Microsoft YaHei&#x27;</span>,</span><br><span class="line">                        graphic_basicstyle_opts=opts.GraphicBasicStyleOpts(</span><br><span class="line">                            fill=<span class="string">&#x27;black&#x27;</span></span><br><span class="line">                        )</span><br><span class="line">                    )</span><br><span class="line">                )])</span><br><span class="line">)</span><br><span class="line">bar.add_xaxis(x_data)</span><br><span class="line">bar.add_yaxis(<span class="string">&#x27;城市绿地面积(万公顷)&#x27;</span>, show1,bar_width=<span class="string">&#x27;50px&#x27;</span>)</span><br><span class="line"><span class="comment"># 在右边添加一条y轴</span></span><br><span class="line">bar.extend_axis(</span><br><span class="line">    yaxis=opts.AxisOpts(</span><br><span class="line">        name=<span class="string">&#x27;建成区绿化覆盖率(%)&#x27;</span>,</span><br><span class="line">        type_=<span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        position=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">        axisline_opts=opts.AxisLineOpts(linestyle_opts=opts.LineStyleOpts(color=<span class="string">&#x27;red&#x27;</span>))</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">line = (</span><br><span class="line">    Line().add_xaxis(x_data)</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;建成区绿化覆盖率(%)&#x27;</span>,show2,yaxis_index=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将折线图叠加到柱状图上</span></span><br><span class="line">bar.overlap(line)</span><br><span class="line"></span><br><span class="line">bar.render(<span class="string">&#x27;折线图与柱状图.html&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python可视化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apache POI</title>
      <link href="/myBlog.github.io/2024/06/10/Apache-POI/"/>
      <url>/myBlog.github.io/2024/06/10/Apache-POI/</url>
      
        <content type="html"><![CDATA[<h2 id="Apache-POI"><a href="#Apache-POI" class="headerlink" title="Apache POI"></a>Apache POI</h2><p>是一个处理MiscrosoftOffice各种文件格式的开源项目。角度来说就是，我们可以使用POI在java程序中对MiscrosoftOffice各种文件进行读写操作<br>一般情况下，poi都是用于操作excel文件</p><h2 id="直接上例子"><a href="#直接上例子" class="headerlink" title="直接上例子"></a>直接上例子</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">export</span><span class="params">(HttpServletResponse response)</span> &#123;</span><br><span class="line">       <span class="type">LocalDate</span> <span class="variable">begin</span> <span class="operator">=</span> LocalDate.now().minusDays(<span class="number">30</span>);</span><br><span class="line">       <span class="type">LocalDate</span> <span class="variable">end</span> <span class="operator">=</span> LocalDate.now().minusDays(<span class="number">1</span>);</span><br><span class="line">       <span class="type">BusinessDataVO</span> <span class="variable">businessDataVO</span> <span class="operator">=</span> workSpaceService.businessDataVOResult(LocalDateTime.of(begin, LocalTime.MIN), LocalDateTime.of(end, LocalTime.MAX));</span><br><span class="line">       <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResourceAsStream(<span class="string">&quot;template/运营数据报表模板.xlsx&quot;</span>);</span><br><span class="line">       List&lt;LocalDate&gt; dates = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">       dates.add(begin);</span><br><span class="line">       <span class="keyword">while</span>(!begin.equals(end))&#123;</span><br><span class="line">           begin = begin.plusDays(<span class="number">1</span>);</span><br><span class="line">           dates.add(begin);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">try</span>&#123;</span><br><span class="line">           <span class="type">XSSFWorkbook</span> <span class="variable">excel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(in);</span><br><span class="line">           <span class="type">XSSFSheet</span> <span class="variable">sheet1</span> <span class="operator">=</span> excel.getSheet(<span class="string">&quot;Sheet1&quot;</span>);</span><br><span class="line">           sheet1.getRow(<span class="number">1</span>).getCell(<span class="number">1</span>).setCellValue(<span class="string">&quot;时间:&quot;</span>+begin+<span class="string">&quot;至&quot;</span>+end);</span><br><span class="line">           <span class="type">XSSFRow</span> <span class="variable">row</span> <span class="operator">=</span> sheet1.getRow(<span class="number">3</span>);</span><br><span class="line">           row.getCell(<span class="number">2</span>).setCellValue(businessDataVO.getTurnover());</span><br><span class="line">           row.getCell(<span class="number">4</span>).setCellValue(businessDataVO.getOrderCompletionRate());</span><br><span class="line">           row.getCell(<span class="number">6</span>).setCellValue(businessDataVO.getNewUsers());</span><br><span class="line">           <span class="type">XSSFRow</span> <span class="variable">row1</span> <span class="operator">=</span> sheet1.getRow(<span class="number">4</span>);</span><br><span class="line">           row1.getCell(<span class="number">2</span>).setCellValue(businessDataVO.getValidOrderCount());</span><br><span class="line">           row1.getCell(<span class="number">4</span>).setCellValue(businessDataVO.getUnitPrice());</span><br><span class="line">           <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line">           <span class="keyword">for</span> (LocalDate localDate :dates)&#123;</span><br><span class="line">               <span class="type">LocalDateTime</span> <span class="variable">beginTime</span> <span class="operator">=</span> LocalDateTime.of(localDate,LocalTime.MIN);</span><br><span class="line">               <span class="type">LocalDateTime</span> <span class="variable">endTime</span> <span class="operator">=</span> LocalDateTime.of(localDate,LocalTime.MAX);</span><br><span class="line">               <span class="type">BusinessDataVO</span> <span class="variable">businessDataVO1</span> <span class="operator">=</span> workSpaceService.businessDataVOResult(beginTime, endTime);</span><br><span class="line">               <span class="type">XSSFRow</span> <span class="variable">row2</span> <span class="operator">=</span> sheet1.getRow(index);</span><br><span class="line">               row2.getCell(<span class="number">1</span>).setCellValue(localDate.toString());</span><br><span class="line">               row2.getCell(<span class="number">2</span>).setCellValue(businessDataVO1.getTurnover());</span><br><span class="line">               row2.getCell(<span class="number">3</span>).setCellValue(businessDataVO1.getValidOrderCount());</span><br><span class="line">               row2.getCell(<span class="number">4</span>).setCellValue(businessDataVO1.getOrderCompletionRate());</span><br><span class="line">               row2.getCell(<span class="number">5</span>).setCellValue(businessDataVO1.getUnitPrice());</span><br><span class="line">               row2.getCell(<span class="number">6</span>).setCellValue(businessDataVO1.getNewUsers());</span><br><span class="line">               index++;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="type">ServletOutputStream</span> <span class="variable">stream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">           excel.write(stream);</span><br><span class="line"></span><br><span class="line">           stream.close();</span><br><span class="line">           excel.close();</span><br><span class="line">       &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>webSocket</title>
      <link href="/myBlog.github.io/2024/06/08/webSocket/"/>
      <url>/myBlog.github.io/2024/06/08/webSocket/</url>
      
        <content type="html"><![CDATA[<h2 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h2><p>webSocket是基于TCP的一种新的网络协议。他实习了浏览器与服务器全双工通信—浏览器和服务器只需要完成一次握手，两者之间就可以创建持久性的连接，并进行双向数据传输</p><h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><p>当前端发送请求websocket.send(message); 后端的@onMessage方法会被调用，当后端session.getBasicRemote().sendText(message);发送请求，前端的 websocket.onmessage 回被调用</p><h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>WebSocket Demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;text&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;send()&quot;</span>&gt;</span>发送消息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;closeWebSocket()&quot;</span>&gt;</span>关闭连接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> websocket = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> clientId = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substr</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//判断当前浏览器是否支持WebSocket</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(<span class="string">&#x27;WebSocket&#x27;</span> <span class="keyword">in</span> <span class="variable language_">window</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//连接WebSocket节点</span></span></span><br><span class="line"><span class="language-javascript">        websocket = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;ws://localhost:8080/ws/&quot;</span>+clientId);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;Not support websocket&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//连接发生错误的回调方法</span></span></span><br><span class="line"><span class="language-javascript">    websocket.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setMessageInnerHTML</span>(<span class="string">&quot;error&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//连接成功建立的回调方法</span></span></span><br><span class="line"><span class="language-javascript">    websocket.<span class="property">onopen</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setMessageInnerHTML</span>(<span class="string">&quot;连接成功&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//接收到消息的回调方法</span></span></span><br><span class="line"><span class="language-javascript">    websocket.<span class="property">onmessage</span> = <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setMessageInnerHTML</span>(event.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//连接关闭的回调方法</span></span></span><br><span class="line"><span class="language-javascript">    websocket.<span class="property">onclose</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setMessageInnerHTML</span>(<span class="string">&quot;close&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onbeforeunload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        websocket.<span class="title function_">close</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//将消息显示在网页上</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">setMessageInnerHTML</span>(<span class="params">innerHTML</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;message&#x27;</span>).<span class="property">innerHTML</span> += innerHTML + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//发送消息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">send</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> message = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;text&#x27;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        websocket.<span class="title function_">send</span>(message);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//关闭连接</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">closeWebSocket</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        websocket.<span class="title function_">close</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="java代码"><a href="#java代码" class="headerlink" title="java代码"></a>java代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.websocket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnClose;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnMessage;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnOpen;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.Session;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.PathParam;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.ServerEndpoint;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * WebSocket服务</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ServerEndpoint(&quot;/ws/&#123;sid&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketServer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//存放会话对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Session&gt; sessionMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 连接建立成功调用的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnOpen</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onOpen</span><span class="params">(Session session, <span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端：&quot;</span> + sid + <span class="string">&quot;建立连接&quot;</span>);</span><br><span class="line">        sessionMap.put(sid, session);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 收到客户端消息后调用的方法</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message 客户端发送过来的消息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnMessage</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onMessage</span><span class="params">(String message, <span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">mes</span> <span class="operator">=</span> <span class="string">&quot;收到来自客户端：&quot;</span> + sid + <span class="string">&quot;的信息:&quot;</span> + message;</span><br><span class="line">        System.out.println(<span class="string">&quot;收到来自客户端：&quot;</span> + sid + <span class="string">&quot;的信息:&quot;</span> + message);</span><br><span class="line">        sendToAllClient(mes);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 连接关闭调用的方法</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sid</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnClose</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClose</span><span class="params">(<span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;连接断开:&quot;</span> + sid);</span><br><span class="line">        sessionMap.remove(sid);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 群发</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendToAllClient</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        Collection&lt;Session&gt; sessions = sessionMap.values();</span><br><span class="line">        <span class="keyword">for</span> (Session session : sessions) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//服务器向客户端发送消息</span></span><br><span class="line">                session.getBasicRemote().sendText(message);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.standard.ServerEndpointExporter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * WebSocket配置类，用于注册WebSocket的Bean</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServerEndpointExporter <span class="title function_">serverEndpointExporter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServerEndpointExporter</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="聊天接口"><a href="#聊天接口" class="headerlink" title="聊天接口"></a>聊天接口</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.liuzhengquan.instantmessageuserinterfaceservice.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.liuzhengquan.instantmessageuserinterfaceservice.entity.Friends;</span><br><span class="line"><span class="keyword">import</span> cn.liuzhengquan.instantmessageuserinterfaceservice.entity.Messages;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnClose;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnMessage;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnOpen;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.Session;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.PathParam;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.ServerEndpoint;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ServerEndpoint(value = &quot;/websocket/&#123;nickname&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Session session;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 好友列表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Friends&gt; friendsList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义并发HashMap存储好友WebSocket集合</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ConcurrentHashMap&lt;String, WebSocketController&gt; webSocketSession = <span class="keyword">new</span> <span class="title class_">ConcurrentHashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnOpen</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onOpen</span><span class="params">(<span class="meta">@PathParam(value = &quot;nickname&quot;)</span> String nickname, Session session)</span> &#123;</span><br><span class="line">        <span class="comment">// 设置session</span></span><br><span class="line">        <span class="built_in">this</span>.session = session;</span><br><span class="line">        <span class="comment">// Put添加当前类</span></span><br><span class="line">        webSocketSession.put(nickname, <span class="built_in">this</span>);</span><br><span class="line">        <span class="comment">// Add添加当前好友信息</span></span><br><span class="line">        friendsList.add(Friends.builder().nickname(nickname).build());</span><br><span class="line">        <span class="comment">// 通知更新好友信息列表</span></span><br><span class="line">        updateFriendInformationList();</span><br><span class="line">        log.info(<span class="string">&quot;【WebSocket消息】有新的连接[&#123;&#125;], 连接总数:&#123;&#125;&quot;</span>, nickname, webSocketSession.size());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通知更新好友信息列表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">updateFriendInformationList</span><span class="params">()</span> &#123;</span><br><span class="line">        webSocketSession.forEach((key, val) -&gt; &#123;</span><br><span class="line">            <span class="comment">// 初始化存储属于自己的好友列表 排除自己</span></span><br><span class="line">            List&lt;Friends&gt; friends = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="comment">// 迭代所有好友列表</span></span><br><span class="line">            friendsList.forEach((friend) -&gt; &#123;</span><br><span class="line">                <span class="comment">// 在 所有好友信息列表 中验证非自己</span></span><br><span class="line">                <span class="keyword">if</span> (!friend.getNickname().equals(key)) &#123;</span><br><span class="line">                    <span class="comment">// 追加非自己的好友信息</span></span><br><span class="line">                    friends.add(friend);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">// 发送消息</span></span><br><span class="line">            sendP2PMessage(key, JSON.toJSONString(Messages.builder().type(<span class="string">&quot;updateFriendsList&quot;</span>).receiveNickname(key).messages(friends).build()));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMessage</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onMessage</span><span class="params">(<span class="meta">@PathParam(value = &quot;nickname&quot;)</span> String nickname, String message)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;【WebSocket消息】 收到客户端[&#123;&#125;] 发送消息:&#123;&#125; 连接总数:&#123;&#125;&quot;</span>, nickname, message, webSocketSession.size());</span><br><span class="line">        <span class="comment">// 验证消息内容</span></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasLength(message)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 消息内容转消息对象</span></span><br><span class="line">                <span class="type">Messages</span> <span class="variable">messages</span> <span class="operator">=</span> JSON.parseObject(message, Messages.class);</span><br><span class="line">                <span class="comment">// 发送消息</span></span><br><span class="line">                sendP2PMessage(messages.getReceiveNickname(), message);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;WebSocket消息异常:&quot;</span>, e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnClose</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClose</span><span class="params">(<span class="meta">@PathParam(value = &quot;nickname&quot;)</span> String nickname)</span> &#123;</span><br><span class="line">        friendsList.remove(friendsList.stream().filter((friends -&gt; friends.getNickname().equals(nickname))).findAny().orElse(<span class="literal">null</span>));</span><br><span class="line">        webSocketSession.remove(nickname);</span><br><span class="line">        <span class="comment">// 通知更新好友信息列表</span></span><br><span class="line">        updateFriendInformationList();</span><br><span class="line">        log.info(<span class="string">&quot;【WebSocket消息】客户端[&#123;&#125;]连接断开, 剩余连接总数:&#123;&#125;&quot;</span>, nickname, webSocketSession.size());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 点对点发送</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sendP2PMessage</span><span class="params">(String nickname, String message)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;【WebSocket消息】点对点发送消息, nickname=&#123;&#125; , message=&#123;&#125;&quot;</span>, nickname, message);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            webSocketSession.get(nickname).session.getBasicRemote().sendText(message);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;点对点发送异常:&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot-微信支付,百度地图</title>
      <link href="/myBlog.github.io/2024/06/08/springboot-%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98-%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE/"/>
      <url>/myBlog.github.io/2024/06/08/springboot-%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98-%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot-task</title>
      <link href="/myBlog.github.io/2024/06/08/springboot-task/"/>
      <url>/myBlog.github.io/2024/06/08/springboot-task/</url>
      
        <content type="html"><![CDATA[<h2 id="SpringTast框架"><a href="#SpringTast框架" class="headerlink" title="SpringTast框架"></a>SpringTast框架</h2><h3 id="cron表达式"><a href="#cron表达式" class="headerlink" title="cron表达式"></a>cron表达式</h3><h3 id="导入坐标"><a href="#导入坐标" class="headerlink" title="导入坐标"></a>导入坐标</h3><h3 id="注解用法"><a href="#注解用法" class="headerlink" title="注解用法"></a>注解用法</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot定时任务邮件服务</title>
      <link href="/myBlog.github.io/2024/06/08/springboot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1/"/>
      <url>/myBlog.github.io/2024/06/08/springboot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pandas入门</title>
      <link href="/myBlog.github.io/2024/06/02/pandas%E5%85%A5%E9%97%A8/"/>
      <url>/myBlog.github.io/2024/06/02/pandas%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="pandas入门"><a href="#pandas入门" class="headerlink" title="pandas入门"></a>pandas入门</h1><h2 id="读取-存储文件"><a href="#读取-存储文件" class="headerlink" title="读取&#x2F;存储文件"></a>读取&#x2F;存储文件</h2><p>(1) 打开csv文件:<br>titanic &#x3D; pd.read_csv(“路径&#x2F;文件.csv”)<br>(2) 存储excel文件:<br>titanic.to_excel(“路径&#x2F;文件.xlsx”,sheet_name&#x3D;”passengers”,index&#x3D;False)命名名为”passengers”的工作簿,通过索引标签不会存在电子表格中<br>(3) 打开excel文件:<br>titanic &#x3D; pd.read_excel(“路径&#x2F;文件.xlsx”,sheet_name&#x3D;”passengers”)打开passengers工作簿</p><h2 id="选择列"><a href="#选择列" class="headerlink" title="选择列"></a>选择列</h2><ol><li>选择1列:<br>age &#x3D; titanic[“age”]</li><li>选取多列:<br>age_sex &#x3D; titanic[[“age”,”sex”]]</li></ol><h2 id="数据筛选"><a href="#数据筛选" class="headerlink" title="数据筛选"></a>数据筛选</h2><ol><li>筛选 35岁以上的乘客的所有信息:<br>above_35 &#x3D; titanic[titanic[“age”]&lt;35]</li><li>选出级别为2和3的数据:<br>(1)class_23&#x3D;titanic[titanic[“pclass”].isin[2,3]]<br>(2)class_23&#x3D;titanic[(titanic[“pclass”]&#x3D;&#x3D;2)|(titanic[“pclass”]&#x3D;&#x3D;3)]</li><li>选出已知年龄的乘客数据(选出年龄不为空的数据)<br>age_no_na&#x3D;titanic[titanic[“age”].notna()]</li><li>只选出35岁以上乘客的姓名<br>above_35 &#x3D; titanic[titanic[“age”]&gt;35,”name”]</li><li>对第10到25行和第3列到5列<br>titanic.iloc[9:25,2:5]<br>titanic.iloc[0:3,3]&#x3D;”anonymous”对第1到4行的第4列赋值为”anonymous”</li></ol><h2 id="创建新列"><a href="#创建新列" class="headerlink" title="创建新列"></a>创建新列</h2><ol><li>创建一列<br>titanic[“新列”] &#x3D; “吉祥如意”&#x2F;&#x2F;添加名为”新列”的列,并且给它赋值为”吉祥如意”</li><li>将特定的列标签名更改:<br>titanic &#x3D; titanic.rename(<br> columns&#x3D;{<br> “name” : “feng”,<br> “age” : 18,<br> ….<br> }<br>)</li><li>列名小写:<br>titanic &#x3D; titanic.rename(columns&#x3D;str.lower)</li></ol><h2 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h2><ol><li>求平均值,中位数等信息<br>titanic[‘列名’].mean()&#x2F;&#x2F;平均值<br>titanic[‘culumns_name’].median()&#x2F;&#x2F;中位数<br>titanic[‘culumns_name’].max()&#x2F;&#x2F;最大值<br>titanic[‘culumns_name’].min()&#x2F;&#x2F;最小值</li><li>分组统计<br>(1) 统计男性与女性的平均年龄<br>titanic[[‘sex’,’age’]].groupby(‘sex’).mean()<br>titanic.groupby(‘sex’)[‘age’].mean()<br>(2) 每种性别和舱位等级组合的票价平均值<br>titanic.groupby([‘sex’,’pclass’])[‘fare’].mean()</li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring_cache入门</title>
      <link href="/myBlog.github.io/2024/06/01/spring-cache%E5%85%A5%E9%97%A8/"/>
      <url>/myBlog.github.io/2024/06/01/spring-cache%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Cache入门"><a href="#Spring-Cache入门" class="headerlink" title="Spring_Cache入门"></a>Spring_Cache入门</h1><h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@EnableCaching</td><td>开启缓存注解功能，通常加在启动类上</td></tr><tr><td>@Cacheable</td><td>在方法执行前先查询缓存中是否有数据，如果有数据，则直接返回缓存数据;<br>如果缓存没有数据，调用方法并将返回值放入到缓存中</td></tr><tr><td>@CachePut</td><td>将方法的返回值放入到缓存中</td></tr><tr><td>@CacheEvict</td><td>将一条或多条数据从缓存中删除</td></tr></tbody></table><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">   <span class="meta">@PostMapping</span></span><br><span class="line">   <span class="comment">// @CachePut(cacheNames = &quot;userCache&quot;,key = &quot;#result.id&quot; ) 通过返回对象中的id作为key</span></span><br><span class="line">   <span class="meta">@CachePut(cacheNames = &quot;userCache&quot;,key = &quot;#user.id&quot; )</span><span class="comment">//redis的key值为userCache::user.id</span></span><br><span class="line">   <span class="keyword">public</span> User <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span>&#123;</span><br><span class="line">       userMapper.insert(user);</span><br><span class="line">       <span class="keyword">return</span> user;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Cacheable(cacheNames = &quot;userCache&quot;,key = &quot;#id&quot;)</span><span class="comment">//如果没数据后通过代理反射调用getById</span></span><br><span class="line">   <span class="keyword">public</span> User <span class="title function_">getById</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">       <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.getById(id);</span><br><span class="line">       <span class="keyword">return</span> user;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">   <span class="meta">@DeleteMapping</span></span><br><span class="line">   <span class="meta">@CacheEvict(cacheNames = &quot;userCache&quot;,key=&quot;#id&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteById</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">       userMapper.deleteById(id);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@DeleteMapping(&quot;/delAll&quot;)</span></span><br><span class="line">   <span class="meta">@CacheEvict(cacheNames = &quot;userCache&quot;,allEntries = true)</span><span class="comment">//删除所有</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAll</span><span class="params">()</span>&#123;</span><br><span class="line">       userMapper.deleteAll();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序入门案例</title>
      <link href="/myBlog.github.io/2024/05/28/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B/"/>
      <url>/myBlog.github.io/2024/05/28/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="微信小程序入门案例"><a href="#微信小程序入门案例" class="headerlink" title="微信小程序入门案例"></a>微信小程序入门案例</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>httpClient</title>
      <link href="/myBlog.github.io/2024/05/27/httpClient/"/>
      <url>/myBlog.github.io/2024/05/27/httpClient/</url>
      
        <content type="html"><![CDATA[<h1 id="HttpClient入门案例"><a href="#HttpClient入门案例" class="headerlink" title="HttpClient入门案例"></a>HttpClient入门案例</h1><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="发送get请求"><a href="#发送get请求" class="headerlink" title="发送get请求"></a>发送get请求</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGet</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"><span class="comment">//        创建httpClient对象</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">aDefault</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="comment">// 创建请求对象</span></span><br><span class="line">        <span class="type">HttpGet</span> <span class="variable">get</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(<span class="string">&quot;https://api.qvqa.cn/cos&quot;</span>);</span><br><span class="line"><span class="comment">//        发送请求</span></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> aDefault.execute(get);</span><br><span class="line"><span class="comment">//         获取请求结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">statusCode</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;发送请求的状态码为:&quot;</span>+statusCode);</span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> EntityUtils.toString(entity);</span><br><span class="line">        System.out.println(<span class="string">&quot;得到的data:&quot;</span>+string);</span><br><span class="line"><span class="comment">//         关闭资源</span></span><br><span class="line">        response.close();</span><br><span class="line">        aDefault.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="发送post请求"><a href="#发送post请求" class="headerlink" title="发送post请求"></a>发送post请求</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendPost</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">aDefault</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(<span class="string">&quot;http://localhost:8080/admin/employee/login&quot;</span>);</span><br><span class="line">        <span class="type">JsonObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonObject</span>();</span><br><span class="line">        jsonObject.addProperty(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        jsonObject.addProperty(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        System.out.println(jsonObject.toString());</span><br><span class="line">        <span class="type">StringEntity</span> <span class="variable">stringEntity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringEntity</span>(jsonObject.toString());</span><br><span class="line">        stringEntity.setContentEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        stringEntity.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        httpPost.setEntity(stringEntity);</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> aDefault.execute(httpPost);</span><br><span class="line">        <span class="type">int</span> <span class="variable">statusCode</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;发送的post请求状态码为:&quot;</span>+statusCode);</span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> EntityUtils.toString(entity);</span><br><span class="line">        System.out.println(<span class="string">&quot;发送的post请求响应数据为:&quot;</span>+string);</span><br><span class="line">        response.close();</span><br><span class="line">        aDefault.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="包装工具类"><a href="#包装工具类" class="headerlink" title="包装工具类"></a>包装工具类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.NameValuePair;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.config.RequestConfig;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.entity.UrlEncodedFormEntity;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.methods.CloseableHttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.methods.HttpGet;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.methods.HttpPost;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.client.utils.URIBuilder;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.entity.StringEntity;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.impl.client.CloseableHttpClient;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.impl.client.HttpClients;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.message.BasicNameValuePair;</span><br><span class="line"><span class="keyword">import</span> org.apache.http.util.EntityUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.URI;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Http工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpClientUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span>  <span class="type">int</span> <span class="variable">TIMEOUT_MSEC</span> <span class="operator">=</span> <span class="number">5</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 发送GET方式请求</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doGet</span><span class="params">(String url,Map&lt;String,String&gt; paramMap)</span>&#123;</span><br><span class="line">        <span class="comment">// 创建Httpclient对象</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="type">URIBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URIBuilder</span>(url);</span><br><span class="line">            <span class="keyword">if</span>(paramMap != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (String key : paramMap.keySet()) &#123;</span><br><span class="line">                    builder.addParameter(key,paramMap.get(key));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">URI</span> <span class="variable">uri</span> <span class="operator">=</span> builder.build();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//创建GET请求</span></span><br><span class="line">            <span class="type">HttpGet</span> <span class="variable">httpGet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(uri);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//发送请求</span></span><br><span class="line">            response = httpClient.execute(httpGet);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//判断响应状态</span></span><br><span class="line">            <span class="keyword">if</span>(response.getStatusLine().getStatusCode() == <span class="number">200</span>)&#123;</span><br><span class="line">                result = EntityUtils.toString(response.getEntity(),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">                httpClient.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 发送POST方式请求</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doPost</span><span class="params">(String url, Map&lt;String, String&gt; paramMap)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 创建Httpclient对象</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resultString</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 创建Http Post请求</span></span><br><span class="line">            <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(url);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 创建参数列表</span></span><br><span class="line">            <span class="keyword">if</span> (paramMap != <span class="literal">null</span>) &#123;</span><br><span class="line">                List&lt;NameValuePair&gt; paramList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">                <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; param : paramMap.entrySet()) &#123;</span><br><span class="line">                    paramList.add(<span class="keyword">new</span> <span class="title class_">BasicNameValuePair</span>(param.getKey(), param.getValue()));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 模拟表单</span></span><br><span class="line">                <span class="type">UrlEncodedFormEntity</span> <span class="variable">entity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlEncodedFormEntity</span>(paramList);</span><br><span class="line">                httpPost.setEntity(entity);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            httpPost.setConfig(builderRequestConfig());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 执行http请求</span></span><br><span class="line">            response = httpClient.execute(httpPost);</span><br><span class="line"></span><br><span class="line">            resultString = EntityUtils.toString(response.getEntity(), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 发送POST方式请求</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doPost4Json</span><span class="params">(String url, Map&lt;String, String&gt; paramMap)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 创建Httpclient对象</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resultString</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 创建Http Post请求</span></span><br><span class="line">            <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(url);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (paramMap != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">//构造json格式数据</span></span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; param : paramMap.entrySet()) &#123;</span><br><span class="line">                    jsonObject.put(param.getKey(),param.getValue());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">StringEntity</span> <span class="variable">entity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringEntity</span>(jsonObject.toString(),<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="comment">//设置请求编码</span></span><br><span class="line">                entity.setContentEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="comment">//设置数据类型</span></span><br><span class="line">                entity.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">                httpPost.setEntity(entity);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            httpPost.setConfig(builderRequestConfig());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 执行http请求</span></span><br><span class="line">            response = httpClient.execute(httpPost);</span><br><span class="line"></span><br><span class="line">            resultString = EntityUtils.toString(response.getEntity(), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultString;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> RequestConfig <span class="title function_">builderRequestConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> RequestConfig.custom()</span><br><span class="line">                .setConnectTimeout(TIMEOUT_MSEC)</span><br><span class="line">                .setConnectionRequestTimeout(TIMEOUT_MSEC)</span><br><span class="line">                .setSocketTimeout(TIMEOUT_MSEC).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据可视化复习阶段</title>
      <link href="/myBlog.github.io/2024/05/24/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%A4%8D%E4%B9%A0%E9%98%B6%E6%AE%B5/"/>
      <url>/myBlog.github.io/2024/05/24/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%A4%8D%E4%B9%A0%E9%98%B6%E6%AE%B5/</url>
      
        <content type="html"><![CDATA[<h1 id="千峰Echarts-Vue3数据可视化"><a href="#千峰Echarts-Vue3数据可视化" class="headerlink" title="千峰Echarts+Vue3数据可视化"></a>千峰Echarts+Vue3数据可视化</h1>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium快速入门</title>
      <link href="/myBlog.github.io/2024/05/10/selenium%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/myBlog.github.io/2024/05/10/selenium%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="自动化两个例子"><a href="#自动化两个例子" class="headerlink" title="自动化两个例子"></a>自动化两个例子</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line">browser = webdriver.Chrome()</span><br><span class="line">browser.get(<span class="string">&quot;http://www.baidu.com/&quot;</span>)</span><br><span class="line">browser.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前源码:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.page_source))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前标题:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.title))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前链接地址:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.current_url))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前窗口句柄:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.current_window_handle))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前窗口所以句柄:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.window_handles))</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;baidu.html&quot;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf=8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(browser.page_source)</span><br><span class="line">browser.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">browser.find_element(By.LINK_TEXT,<span class="string">&#x27;地图&#x27;</span>).click()</span><br><span class="line">browser.switch_to.window(browser.window_handles[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;新窗口句柄&#123;&#125;&quot;</span>.<span class="built_in">format</span>(browser.current_window_handle))</span><br><span class="line"><span class="built_in">print</span>(browser.page_source)</span><br><span class="line"><span class="comment"># browser.find_element(By.XPATH,&#x27;//*[@id=&quot;_w_v_l_s_n_s_show_title_1093657&quot;]&#x27;).send_keys(&quot;电子商务&quot;)</span></span><br><span class="line"><span class="comment"># browser.implicitly_wait(10)</span></span><br><span class="line"><span class="comment"># browser.find_element(By.XPATH,&#x27;//*[@id=&quot;au3a&quot;]/div/input[2]&#x27;).click()</span></span><br><span class="line"><span class="comment"># browser.find_element(By.LINK_TEXT,&quot;电子商务学院&quot;).click()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WebDriverWait(browser,20,0.5).until(lambda e1:browser.find_element(By.ID,&#x27;kw&#x27;))</span></span><br><span class="line"><span class="comment"># browser.find_element(By.ID,&#x27;kw&#x27;).send_keys(&#x27;手机&#x27;)</span></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">browser.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">url = <span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line">driver.get(url)</span><br><span class="line">driver.maximize_window()</span><br><span class="line">driver.find_element(By.NAME,<span class="string">&quot;wd&quot;</span>).send_keys(<span class="string">&quot;bilibili&quot;</span>)</span><br><span class="line">driver.find_element(By.ID,<span class="string">&quot;su&quot;</span>).click()</span><br><span class="line">windows = driver.window_handles</span><br><span class="line">driver.switch_to.window(windows[-<span class="number">1</span>])</span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;哔哩哔哩 (゜-゜)つロ 干杯~-&quot;</span>).click()</span><br><span class="line">windows = driver.window_handles</span><br><span class="line">driver.switch_to.window(windows[-<span class="number">1</span>])</span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">driver.find_element(By.CLASS_NAME,<span class="string">&quot;nav-search-input&quot;</span>).send_keys(<span class="string">&quot;python&quot;</span>)</span><br><span class="line">driver.find_element(By.CLASS_NAME,<span class="string">&quot;nav-search-btn&quot;</span>).click()</span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">windows = driver.window_handles</span><br><span class="line">driver.switch_to.window(windows[-<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;python&quot;</span>))</span><br><span class="line">driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;黑马程序员python教程&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">windows = driver.window_handles</span><br><span class="line">driver.switch_to.window(windows[-<span class="number">1</span>])</span><br><span class="line">random_filename = <span class="built_in">str</span>(uuid.uuid4())</span><br><span class="line">src=<span class="string">&quot;d:/img/&#123;&#125;.png&quot;</span>.<span class="built_in">format</span>(random_filename)</span><br><span class="line">driver.get_screenshot_as_file(src)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python自动化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取房地产信息lxml并且存入到mysql</title>
      <link href="/myBlog.github.io/2024/05/10/%E7%88%AC%E5%8F%96%E6%88%BF%E5%9C%B0%E4%BA%A7%E4%BF%A1%E6%81%AFlxml%E5%B9%B6%E4%B8%94%E5%AD%98%E5%85%A5%E5%88%B0mysql/"/>
      <url>/myBlog.github.io/2024/05/10/%E7%88%AC%E5%8F%96%E6%88%BF%E5%9C%B0%E4%BA%A7%E4%BF%A1%E6%81%AFlxml%E5%B9%B6%E4%B8%94%E5%AD%98%E5%85%A5%E5%88%B0mysql/</url>
      
        <content type="html"><![CDATA[<h2 id="爬取信息存入sql"><a href="#爬取信息存入sql" class="headerlink" title="爬取信息存入sql"></a>爬取信息存入sql</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">header =&#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">conn = pymysql.connect(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">3306</span>, user=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;root&#x27;</span>, database=<span class="string">&#x27;ssss&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                       connect_timeout=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">create table if not exists house(</span></span><br><span class="line"><span class="string">id int primary key auto_increment,</span></span><br><span class="line"><span class="string">title varchar(100) not null,</span></span><br><span class="line"><span class="string">addr varchar(100) not null,</span></span><br><span class="line"><span class="string">area varchar(100) not null,</span></span><br><span class="line"><span class="string">price varchar(100) not null);</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">39</span>):</span><br><span class="line">    url = <span class="string">&quot;https://nc.fang.lianjia.com/loupan/pg&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i)</span><br><span class="line">    res = requests.get(url,headers=header)</span><br><span class="line">    res.encoding=<span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">    parse = etree.HTML(res.text)</span><br><span class="line">    li_lists = parse.xpath(<span class="string">&quot;//li[@class=&#x27;resblock-list post_ulog_exposure_scroll has-results&#x27;]&quot;</span>)</span><br><span class="line">    house_list=[]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> li_lists:</span><br><span class="line">        title = item.xpath(<span class="string">&#x27;div/div[1]/a/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        addr = item.xpath(<span class="string">&#x27;div/div[2]/a/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        area = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> item.xpath(<span class="string">&#x27;div/div[3]/span/text()&#x27;</span>) :</span><br><span class="line">            area =item.xpath(<span class="string">&#x27;div/div[3]/span/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        price = item.xpath(<span class="string">&#x27;div/div[6]/div[1]/span[1]/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        house = &#123;<span class="string">&#x27;title&#x27;</span>:title,<span class="string">&#x27;addr&#x27;</span>:addr,<span class="string">&#x27;area&#x27;</span>:area,<span class="string">&#x27;price&#x27;</span>:price&#125;</span><br><span class="line">        <span class="built_in">print</span>(house)</span><br><span class="line">        house_list.append(house)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> house <span class="keyword">in</span> house_list:</span><br><span class="line">        sql1 = <span class="string">&#x27;insert into house(title,addr,area,price)values(%s,%s,%s,%s)&#x27;</span></span><br><span class="line">        cursor.execute(sql1, (house[<span class="string">&quot;title&quot;</span>], house[<span class="string">&quot;addr&quot;</span>], house[<span class="string">&quot;area&quot;</span>], house[<span class="string">&quot;price&quot;</span>]))</span><br><span class="line">        conn.commit()</span><br><span class="line">conn.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取房地产信息lxml</title>
      <link href="/myBlog.github.io/2024/05/10/%E7%88%AC%E5%8F%96%E6%88%BF%E5%9C%B0%E4%BA%A7%E4%BF%A1%E6%81%AFlxml/"/>
      <url>/myBlog.github.io/2024/05/10/%E7%88%AC%E5%8F%96%E6%88%BF%E5%9C%B0%E4%BA%A7%E4%BF%A1%E6%81%AFlxml/</url>
      
        <content type="html"><![CDATA[<h2 id="使用lxml查询"><a href="#使用lxml查询" class="headerlink" title="使用lxml查询"></a>使用lxml查询</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span>*</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">header=&#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getOnePage</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = requests.get(url, headers=header)</span><br><span class="line">        <span class="keyword">if</span> res.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> res.text</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parseOnePage</span>(<span class="params">html</span>):</span><br><span class="line">    selector_html = etree.HTML(html)</span><br><span class="line">    items = selector_html.xpath(<span class="string">&#x27;//tr[@class=&quot;item&quot;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        book_infos = item.xpath(<span class="string">&quot;td/p/text()&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">        book_sss = item.xpath(<span class="string">&quot;td/div[@class=&#x27;star clearfix&#x27;]/span/text()&quot;</span>)</span><br><span class="line">        a = re.findall(<span class="string">&#x27;\d+\.?\d*&#x27;</span>,book_sss[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">yield</span> &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: item.xpath(<span class="string">&quot;td/div/a/@title&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&quot;url&quot;</span>: item.xpath(<span class="string">&quot;td/div/a/@href&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&quot;author&quot;</span>: book_infos.split(<span class="string">&quot;/&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&quot;publisher&quot;</span>: book_infos.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">3</span>],</span><br><span class="line">            <span class="string">&quot;date&quot;</span>: book_infos.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">2</span>],</span><br><span class="line">            <span class="string">&quot;price&quot;</span>: book_infos.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>],</span><br><span class="line">            <span class="string">&quot;grade&quot;</span>:book_sss[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&quot;numberOne&quot;</span>:a[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">content</span>) :</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;322031608冯越.txt&quot;</span>, <span class="string">&quot;at&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(json.dumps(content, ensure_ascii=<span class="literal">False</span>)+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getTop250</span>(<span class="params">url</span>) :</span><br><span class="line">    html = getOnePage(url)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> parseOnePage(html):</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line">        save(item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">urls =[<span class="string">&quot;https://book.douban.com/top250?start=&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i))<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">250</span>,<span class="number">25</span>)]</span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">    getTop250(url)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;爬取中&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>抓取壁纸图片正则表达式抓取</title>
      <link href="/myBlog.github.io/2024/05/10/%E6%8A%93%E5%8F%96%E5%A3%81%E7%BA%B8%E5%9B%BE%E7%89%87%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%93%E5%8F%96/"/>
      <url>/myBlog.github.io/2024/05/10/%E6%8A%93%E5%8F%96%E5%A3%81%E7%BA%B8%E5%9B%BE%E7%89%87%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%93%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<h2 id="正则表达式抓取图片"><a href="#正则表达式抓取图片" class="headerlink" title="正则表达式抓取图片"></a>正则表达式抓取图片</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> urllib.error</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHtmlText</span>(<span class="params">url</span>):</span><br><span class="line">    res_date = requests.get(url=url)</span><br><span class="line">    <span class="keyword">if</span> res_date.status_code == requests.codes.OK:</span><br><span class="line">        res_date.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        htmlText = res_date.text</span><br><span class="line">        <span class="keyword">return</span> htmlText</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请求状态异常......&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parseHtml</span>(<span class="params">htmlText</span>):</span><br><span class="line">    patten = re.<span class="built_in">compile</span>(<span class="string">&#x27;&lt;a href=&quot;(.*?)&quot;.*?&gt;[\s]*&lt;img class=&quot;lazy&quot; data-original=&quot;(.*?)&quot;.*? title=&quot;(.*?)&quot; /&gt;&lt;/a&gt;&#x27;</span>)</span><br><span class="line">    imgList = []</span><br><span class="line">    listInfos = patten.findall(htmlText)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(listInfos)&gt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> listInfos:</span><br><span class="line">            imgList.append(info[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> imgList</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;数据列表为空，解析失败.......&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">downloadImgList</span>(<span class="params">imgsrc</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&quot;D://322031608IMG&quot;</span>):</span><br><span class="line">        os.makedirs(<span class="string">&quot;D://322031608IMG&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        imgFileName = imgsrc.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">        urllib.request.urlretrieve(imgsrc,<span class="string">&quot;D://322031608IMG//&quot;</span>+imgFileName)</span><br><span class="line">    <span class="keyword">except</span> urllib.error.HTTPError <span class="keyword">as</span> a:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;下载图片出现错误.......&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    prr_url = <span class="string">&quot;https://www.toopic.cn&quot;</span></span><br><span class="line">    base_url = <span class="string">&quot;https://www.toopic.cn/dnbz/?q=--81--.html&quot;</span></span><br><span class="line">    urlList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>):</span><br><span class="line">        base_urls = base_url+<span class="string">&quot;&amp;page=&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i)</span><br><span class="line">        urlList.append(base_urls)</span><br><span class="line">        jindu = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> urlList:</span><br><span class="line">        html=getHtmlText(url)</span><br><span class="line">        dataSet=parseHtml(html)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;\n\r[%-100s]%.2f%%&#x27;</span> % (<span class="string">&#x27;=&#x27;</span> * <span class="built_in">int</span>(jindu), jindu), end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        jindu = jindu + <span class="number">5</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> dataSet:</span><br><span class="line">            imgsrc = prr_url + info</span><br><span class="line">            <span class="built_in">print</span>(imgsrc)</span><br><span class="line">            downloadImgList(imgsrc)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;全部下载完毕....&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BeautifulSoup</title>
      <link href="/myBlog.github.io/2024/05/10/BeautifulSoup/"/>
      <url>/myBlog.github.io/2024/05/10/BeautifulSoup/</url>
      
        <content type="html"><![CDATA[<h2 id="使用BeautifulSoup查询元素"><a href="#使用BeautifulSoup查询元素" class="headerlink" title="使用BeautifulSoup查询元素"></a>使用BeautifulSoup查询元素</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">header = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span> :<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">houses=[]</span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>):</span><br><span class="line">    url =<span class="string">f&quot;https://www.fangstar.com/rentls/pg<span class="subst">&#123;page&#125;</span>/&quot;</span></span><br><span class="line">    h = requests.get(url=url,headers=header)</span><br><span class="line">    html = BeautifulSoup(h.text,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    box = html.find_all(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;rhs-list-item&quot;</span>&#125;)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(box)):</span><br><span class="line">        titleModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;dic-name nowrap&quot;</span>&#125;)</span><br><span class="line">        title = titleModel[<span class="string">&quot;title&quot;</span>]</span><br><span class="line">        house_typeModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">1</span>]</span><br><span class="line">        house_type = house_typeModel.string</span><br><span class="line">        areaModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">2</span>]</span><br><span class="line">        area = areaModel.string</span><br><span class="line">        floorModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">3</span>]</span><br><span class="line">        floor = floorModel.string</span><br><span class="line">        yearModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">4</span>]</span><br><span class="line">        year = yearModel.string</span><br><span class="line">        priceModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;total-price&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        price = <span class="string">&quot;&#123;&#125;&#123;&#125;&quot;</span>.<span class="built_in">format</span>(priceModel[<span class="number">0</span>].string, priceModel[<span class="number">1</span>].string)</span><br><span class="line">        addressModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;location-wrap nowrap&quot;</span>&#125;).find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        addressModelSpan = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;location-wrap nowrap&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        address = <span class="string">&quot;&#123;0&#125;-&#123;1&#125;-&#123;2&#125;&quot;</span>.<span class="built_in">format</span>(addressModel[<span class="number">0</span>].string, addressModel[<span class="number">1</span>].string, addressModelSpan[<span class="number">0</span>].string)</span><br><span class="line">        authorTimeModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;post-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        author = authorTimeModel[<span class="number">0</span>].string</span><br><span class="line">        times = authorTimeModel[<span class="number">1</span>].string</span><br><span class="line">        house = &#123;<span class="string">&quot;标题&quot;</span>: title, <span class="string">&quot;房屋类型&quot;</span>: house_type, <span class="string">&quot;面积&quot;</span>: area, <span class="string">&quot;楼层&quot;</span>: floor, <span class="string">&quot;建筑年限&quot;</span>: year, <span class="string">&quot;租金&quot;</span>: price,</span><br><span class="line">                 <span class="string">&quot;地点&quot;</span>: address, <span class="string">&quot;作者&quot;</span>: author, <span class="string">&quot;发布时间&quot;</span>: times&#125;</span><br><span class="line">        houses.append(house)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;第<span class="subst">&#123;page&#125;</span>页&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(house)</span><br><span class="line"><span class="built_in">print</span>(houses)</span><br><span class="line">j = &#123;</span><br><span class="line">    <span class="string">&quot;data&quot;</span> :houses</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;house_homework.json&quot;</span>,<span class="string">&quot;a&quot;</span>,encoding=<span class="string">&quot;UTF-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    out = json.dumps(j,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">    f.write(out)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pyecharts快速入门</title>
      <link href="/myBlog.github.io/2024/05/10/pyecharts%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/myBlog.github.io/2024/05/10/pyecharts%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line">file_path = <span class="string">&#x27;./温度与降水量蒸发量.xlsx&#x27;</span></span><br><span class="line">data_frame = pd.read_excel(file_path)</span><br><span class="line"><span class="comment"># x_data = list(data_frame[&#x27;月份&#x27;])[0:5]</span></span><br><span class="line"><span class="comment"># y_data =list(data_frame[&#x27;蒸发量&#x27;])[0:5]</span></span><br><span class="line">show_x_data = []</span><br><span class="line">show_y_data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(data_frame[<span class="string">&#x27;温度&#x27;</span>])):</span><br><span class="line">    <span class="keyword">if</span> data_frame[<span class="string">&#x27;温度&#x27;</span>][i] &gt; <span class="number">10</span> :</span><br><span class="line">        show_y_data.append(data_frame[<span class="string">&#x27;月份&#x27;</span>][i])</span><br><span class="line">        show_x_data.append(data_frame[<span class="string">&#x27;温度&#x27;</span>][i])</span><br><span class="line">bar = (</span><br><span class="line">    Bar(init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>,height=<span class="string">&#x27;600px&#x27;</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;hello pyecharts&#x27;</span>,subtitle=<span class="string">&#x27;俺是副标题&#x27;</span>,pos_left=<span class="string">&#x27;center&#x27;</span>,text_align=<span class="string">&#x27;center&#x27;</span>),</span><br><span class="line">        legend_opts=opts.LegendOpts(pos_left=<span class="string">&#x27;left&#x27;</span>),</span><br><span class="line">        tooltip_opts=opts.TooltipOpts(axis_pointer_type=<span class="string">&#x27;cross&#x27;</span>,border_color=<span class="string">&quot;yellow&quot;</span>,border_width=<span class="number">3</span>,trigger_on=<span class="string">&#x27;click&#x27;</span>)</span><br><span class="line">        <span class="comment"># visualmap_opts=opts.VisualMapOpts(is_show=True,pos_top=&#x27;300px&#x27;)</span></span><br><span class="line">    )</span><br><span class="line">    .add_xaxis(show_y_data)</span><br><span class="line">    .add_yaxis(<span class="string">&quot;冯越&quot;</span>,show_x_data)</span><br><span class="line">    .render()</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python可视化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RedisTemplate和StringRedisTemplate</title>
      <link href="/myBlog.github.io/2024/05/10/RedisTemplate%E5%92%8CStringRedisTemplate/"/>
      <url>/myBlog.github.io/2024/05/10/RedisTemplate%E5%92%8CStringRedisTemplate/</url>
      
        <content type="html"><![CDATA[<p><img src="/myBlog.github.io/img/reidsTemplate.png" alt="这是图片"></p><h2 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.235</span><span class="number">.128</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">lettuce:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="number">100</span></span><br></pre></td></tr></table></figure><h2 id="导入依然"><a href="#导入依然" class="headerlink" title="导入依然"></a>导入依然</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SpringDataRedisText<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>SpringDataRedisText<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="RedisTemplate-序列化-配置类"><a href="#RedisTemplate-序列化-配置类" class="headerlink" title="RedisTemplate 序列化(配置类)"></a>RedisTemplate 序列化(配置类)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String,Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line"><span class="comment">//创建redistemplate对象</span></span><br><span class="line">        RedisTemplate&lt;String, Object&gt; objectObjectRedisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//        设置连接工厂</span></span><br><span class="line">        objectObjectRedisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line"><span class="comment">//        创建json序列化工具</span></span><br><span class="line">        <span class="type">GenericJackson2JsonRedisSerializer</span> <span class="variable">genericJackson2JsonRedisSerializer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericJackson2JsonRedisSerializer</span>();</span><br><span class="line"><span class="comment">//        设置key的序列化</span></span><br><span class="line">        objectObjectRedisTemplate.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        objectObjectRedisTemplate.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line"><span class="comment">//        设置value的序列化</span></span><br><span class="line">        objectObjectRedisTemplate.setValueSerializer(genericJackson2JsonRedisSerializer);</span><br><span class="line">        objectObjectRedisTemplate.setHashValueSerializer(genericJackson2JsonRedisSerializer);</span><br><span class="line"><span class="comment">//        返回</span></span><br><span class="line">        <span class="keyword">return</span> objectObjectRedisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.springdataredistext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springdataredistext.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpringDataRedisTextApplicationTests</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String,Object&gt; redisTemplate;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;spring&quot;</span>,<span class="string">&quot;helloRedis&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;spring&quot;</span>);</span><br><span class="line">        System.out.println(o);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">text2</span><span class="params">()</span>&#123;</span><br><span class="line">      redisTemplate.opsForValue().set(<span class="string">&quot;spring:user:2&quot;</span>,<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>,<span class="string">&quot;冯越&quot;</span>));</span><br><span class="line">      <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span>(User) redisTemplate.opsForValue().get(<span class="string">&quot;spring:user:2&quot;</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">text3</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">3</span>,<span class="string">&quot;我&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> mapper.writeValueAsString(user);</span><br><span class="line">        stringRedisTemplate.opsForValue().set(<span class="string">&quot;spring:user:3&quot;</span>,json);</span><br><span class="line">        <span class="type">String</span> <span class="variable">re</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;spring:user:3&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">result</span> <span class="operator">=</span> mapper.readValue(re,User.class);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">text4</span><span class="params">()</span>&#123;</span><br><span class="line">        stringRedisTemplate.opsForHash().put(<span class="string">&quot;spring:user:400&quot;</span>,<span class="string">&quot;id&quot;</span>,<span class="string">&quot;400&quot;</span>);</span><br><span class="line">        stringRedisTemplate.opsForHash().put(<span class="string">&quot;spring:user:400&quot;</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;冯越&quot;</span>);</span><br><span class="line">        Map&lt;Object, Object&gt; entries = stringRedisTemplate.opsForHash().entries(<span class="string">&quot;spring:user:400&quot;</span>);</span><br><span class="line">        System.out.println(entries);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> springboot项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前后端项目(前端)</title>
      <link href="/myBlog.github.io/2024/05/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE-%E5%89%8D%E7%AB%AF/"/>
      <url>/myBlog.github.io/2024/05/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE-%E5%89%8D%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="前后端项目-前端"><a href="#前后端项目-前端" class="headerlink" title="前后端项目(前端)"></a>前后端项目(前端)</h1><p><img src="/myBlog.github.io/img/vue%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="这是图片"></p><h2 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import LoginView from &#x27;./views/Login.vue&#x27;</span><br><span class="line">import Layout from &#x27;./views/Layout.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--&lt;LoginView /&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;layout&gt;&lt;/layout&gt;--&gt;</span><br><span class="line">  &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import &#x27;./assets/main.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-plus/dist/index.css&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;createPinia&#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> piniaPluginPersistedstate <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"><span class="keyword">import</span> locale <span class="keyword">from</span> <span class="string">&#x27;element-plus/dist/locale/zh-cn.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(piniaPluginPersistedstate)</span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(pinia).<span class="title function_">use</span>(router).<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>,&#123;locale&#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="views"><a href="#views" class="headerlink" title="views"></a>views</h2><h3 id="Loyout-vue"><a href="#Loyout-vue" class="headerlink" title="Loyout.vue"></a>Loyout.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  Management,</span><br><span class="line">  Promotion,</span><br><span class="line">  UserFilled,</span><br><span class="line">  User,</span><br><span class="line">  Crop,</span><br><span class="line">  EditPen,</span><br><span class="line">  SwitchButton,</span><br><span class="line">  CaretBottom</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import avatar from &#x27;@/assets/default.png&#x27;</span><br><span class="line">import &#123;userInfoStore&#125; from &quot;@/stores/userInfo.js&quot;</span><br><span class="line">import &#123;userInfoService&#125; from &quot;@/api/user.js&quot;</span><br><span class="line">import &#123;ElMessage, ElMessageBox&#125; from &quot;element-plus&quot;</span><br><span class="line">import &#123;useRouter&#125; from &quot;vue-router&quot;;</span><br><span class="line">import &#123;userTokenStore&#125; from &quot;@/stores/token.js&quot;</span><br><span class="line">const token = userTokenStore()</span><br><span class="line">const router = useRouter()</span><br><span class="line">const info = userInfoStore()</span><br><span class="line">const getInfo=async ()=&gt;&#123;</span><br><span class="line">  let result = await userInfoService()</span><br><span class="line">  info.setUserInfoStore(result.data)</span><br><span class="line">  console.log(info.userInfoStore)</span><br><span class="line">&#125;</span><br><span class="line">getInfo()</span><br><span class="line">const command =(info)=&gt;&#123;</span><br><span class="line">  if(info===&quot;logout&quot;)&#123;</span><br><span class="line">    ElMessageBox.confirm(</span><br><span class="line">        &#x27;你确认要退出登录吗吗?&#x27;,</span><br><span class="line">        &#x27;温馨提示&#x27;,</span><br><span class="line">        &#123;</span><br><span class="line">          confirmButtonText: &#x27;确认&#x27;,</span><br><span class="line">          cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">          type: &#x27;warning&#x27;,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">        .then(() =&gt; &#123;</span><br><span class="line">          token.removeToken()</span><br><span class="line">          userInfoStore().removeUserInfoStore()</span><br><span class="line">          router.push(&quot;/login&quot;)</span><br><span class="line">          ElMessage(&#123;</span><br><span class="line">            type: &#x27;success&#x27;,</span><br><span class="line">            message: &#x27;退出登录成功&#x27;,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(() =&gt; &#123;</span><br><span class="line">          ElMessage(&#123;</span><br><span class="line">            type: &#x27;info&#x27;,</span><br><span class="line">            message: &#x27;取消退出登录&#x27;,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    router.push(&#x27;/user/&#x27;+info)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-container class=&quot;layout-container&quot;&gt;</span><br><span class="line">    &lt;!-- 左侧菜单 --&gt;</span><br><span class="line">    &lt;el-aside width=&quot;200px&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;el-aside__logo&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;el-menu active-text-color=&quot;#ffd04b&quot; background-color=&quot;#232323&quot;  text-color=&quot;#fff&quot;</span><br><span class="line">               router&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;/article/category&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;</span><br><span class="line">            &lt;Management /&gt;</span><br><span class="line">          &lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;文章分类&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;/article/manage&quot;&gt;</span><br><span class="line">          &lt;el-icon&gt;</span><br><span class="line">            &lt;Promotion /&gt;</span><br><span class="line">          &lt;/el-icon&gt;</span><br><span class="line">          &lt;span&gt;文章管理&lt;/span&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-sub-menu &gt;</span><br><span class="line">          &lt;template #title&gt;</span><br><span class="line">            &lt;el-icon&gt;</span><br><span class="line">              &lt;UserFilled /&gt;</span><br><span class="line">            &lt;/el-icon&gt;</span><br><span class="line">            &lt;span&gt;个人中心&lt;/span&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/user/info&quot;&gt;</span><br><span class="line">            &lt;el-icon&gt;</span><br><span class="line">              &lt;User /&gt;</span><br><span class="line">            &lt;/el-icon&gt;</span><br><span class="line">            &lt;span&gt;基本资料&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/user/avatar&quot;&gt;</span><br><span class="line">            &lt;el-icon&gt;</span><br><span class="line">              &lt;Crop /&gt;</span><br><span class="line">            &lt;/el-icon&gt;</span><br><span class="line">            &lt;span&gt;更换头像&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/user/password&quot;&gt;</span><br><span class="line">            &lt;el-icon&gt;</span><br><span class="line">              &lt;EditPen /&gt;</span><br><span class="line">            &lt;/el-icon&gt;</span><br><span class="line">            &lt;span&gt;重置密码&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-sub-menu&gt;</span><br><span class="line">      &lt;/el-menu&gt;</span><br><span class="line">    &lt;/el-aside&gt;</span><br><span class="line">    &lt;!-- 右侧主区域 --&gt;</span><br><span class="line">    &lt;el-container&gt;</span><br><span class="line">      &lt;!-- 头部区域 --&gt;</span><br><span class="line">      &lt;el-header&gt;</span><br><span class="line">        &lt;div&gt;黑马程序员：&lt;strong&gt;&#123;&#123;info.userInfoStore.nickname?info.userInfoStore.nickname:&#x27;未设置昵称&#x27;&#125;&#125;&lt;/strong&gt;&lt;/div&gt;</span><br><span class="line">        &lt;el-dropdown placement=&quot;bottom-end&quot; @command=&quot;command&quot;&gt;</span><br><span class="line">                    &lt;span class=&quot;el-dropdown__box&quot;&gt;</span><br><span class="line">                        &lt;el-avatar :src=&quot;info.userInfoStore.userPic?info.userInfoStore.userPic:avatar&quot; /&gt;</span><br><span class="line">                        &lt;el-icon&gt;</span><br><span class="line">                            &lt;CaretBottom /&gt;</span><br><span class="line">                        &lt;/el-icon&gt;</span><br><span class="line">                    &lt;/span&gt;</span><br><span class="line">          &lt;template #dropdown&gt;</span><br><span class="line">            &lt;el-dropdown-menu&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;info&quot; :icon=&quot;User&quot;&gt;基本资料&lt;/el-dropdown-item&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;avatar&quot; :icon=&quot;Crop&quot;&gt;更换头像&lt;/el-dropdown-item&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;password&quot; :icon=&quot;EditPen&quot;&gt;重置密码&lt;/el-dropdown-item&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;logout&quot; :icon=&quot;SwitchButton&quot;&gt;退出登录&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/el-dropdown-menu&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-dropdown&gt;</span><br><span class="line">      &lt;/el-header&gt;</span><br><span class="line">      &lt;!-- 中间区域 --&gt;</span><br><span class="line">      &lt;el-main&gt;</span><br><span class="line">&lt;!--        &lt;div style=&quot;width: 1290px; height: 570px;border: 1px solid red;&quot;&gt;--&gt;</span><br><span class="line">&lt;!--          --&gt;</span><br><span class="line">&lt;!--        &lt;/div&gt;--&gt;</span><br><span class="line">        &lt;RouterView&gt;&lt;/RouterView&gt;</span><br><span class="line">      &lt;/el-main&gt;</span><br><span class="line">      &lt;!-- 底部区域 --&gt;</span><br><span class="line">      &lt;el-footer&gt;大事件 ©2023 Created by 黑马程序员&lt;/el-footer&gt;</span><br><span class="line">    &lt;/el-container&gt;</span><br><span class="line">  &lt;/el-container&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.layout-container &#123;</span><br><span class="line">  height: 100vh;</span><br><span class="line"></span><br><span class="line">  .el-aside &#123;</span><br><span class="line">    background-color: #232323;</span><br><span class="line"></span><br><span class="line">    &amp;__logo &#123;</span><br><span class="line">      height: 120px;</span><br><span class="line">      background: url(&#x27;@/assets/logo.png&#x27;) no-repeat center / 120px auto;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-menu &#123;</span><br><span class="line">      border-right: none;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .el-header &#123;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line"></span><br><span class="line">    .el-dropdown__box &#123;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line"></span><br><span class="line">      .el-icon &#123;</span><br><span class="line">        color: #999;</span><br><span class="line">        margin-left: 10px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;:active,</span><br><span class="line">      &amp;:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .el-footer &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: #666;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="Login-vue"><a href="#Login-vue" class="headerlink" title="Login.vue"></a>Login.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; User, Lock &#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;userRegisterService&#125; from &quot;@/api/user.js&quot;;</span><br><span class="line">import &#123;userLoginService&#125; from &quot;@/api/user.js&quot;</span><br><span class="line">import &#123;ElMessage&#125; from &quot;element-plus&quot;;</span><br><span class="line">import&#123;useRouter&#125; from &quot;vue-router&quot;;</span><br><span class="line">import &#123;userTokenStore&#125; from &quot;@/stores/token.js&quot;;</span><br><span class="line">const userToken = userTokenStore()</span><br><span class="line">const router = useRouter()</span><br><span class="line">//控制注册与登录表单的显示， 默认显示注册</span><br><span class="line">const isRegister = ref(false)</span><br><span class="line">const registerData = ref(&#123;</span><br><span class="line">  username:&quot;&quot;,</span><br><span class="line">  password:&quot;&quot;,</span><br><span class="line">  rePassword:&quot;&quot;</span><br><span class="line">&#125;)</span><br><span class="line">const loginData=ref(&#123;</span><br><span class="line">  username:&quot;&quot;,</span><br><span class="line">  password:&quot;&quot;</span><br><span class="line">&#125;)</span><br><span class="line">const checkPassword =(rule,value,callback)=&gt;&#123;</span><br><span class="line">  if(value ===&quot;&quot;)&#123;</span><br><span class="line">    callback(new Error(&quot;请填写重复密码&quot;))</span><br><span class="line">  &#125;else if(value!==registerData.value.password)&#123;</span><br><span class="line">    callback(new Error(&quot;请确保两次输入的密码一样&quot;))</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    callback()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const rules = &#123;</span><br><span class="line">  username:[</span><br><span class="line">    &#123;required:true,message:&quot;请输入用户名&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">    &#123;min:5,max:16,message:&quot;请输入5到16位的用户名&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">  password:[</span><br><span class="line">    &#123;required:true,message:&quot;请输入密码&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">    &#123;min:5,max:16,message: &quot;请输入5到16位的密码&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">  rePassword:[</span><br><span class="line">    &#123;validator:checkPassword,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">const loginRules = &#123;</span><br><span class="line">  username:[</span><br><span class="line">    &#123;required:true,message:&quot;请输入用户名&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">    &#123;min:5,max:16,message:&quot;请输入5到16位的用户名&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">  password:[</span><br><span class="line">    &#123;required:true,message:&quot;请输入密码&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">    &#123;min:5,max:16,message: &quot;请输入5到16位的密码&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br><span class="line">const register= async ()=&gt;&#123;</span><br><span class="line">  let result =await userRegisterService(registerData.value)</span><br><span class="line">  // if (result.code === 0)&#123;</span><br><span class="line">  //   alert(result.msg?result.msg:&quot;注册成功&quot;)</span><br><span class="line">  // &#125;else&#123;</span><br><span class="line">  //   alert(&quot;注册失败&quot;)</span><br><span class="line">  // &#125;</span><br><span class="line">  console.log(result)</span><br><span class="line">  ElMessage.success(result.msg?result.msg:&quot;注册成功&quot;)</span><br><span class="line">&#125;</span><br><span class="line">const login = async ()=&gt;&#123;</span><br><span class="line">  let result =await userLoginService(loginData.value)</span><br><span class="line">  // if(result.code ===0)&#123;</span><br><span class="line">  //   alert(result.msg?result.msg:&quot;登录成功&quot;)</span><br><span class="line">  // &#125;else&#123;</span><br><span class="line">  //   alert(&quot;登录失败&quot;)</span><br><span class="line">  // &#125;</span><br><span class="line">  ElMessage.success(result.msg?result.msg:&quot;登录成功&quot;)</span><br><span class="line">  userToken.setToken(result.data)</span><br><span class="line">//   路由跳转</span><br><span class="line">  router.push(&quot;/&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-row class=&quot;login-page&quot;&gt;</span><br><span class="line">    &lt;el-col :span=&quot;12&quot; class=&quot;bg&quot;&gt;&lt;/el-col&gt;</span><br><span class="line">    &lt;el-col :span=&quot;6&quot; :offset=&quot;3&quot; class=&quot;form&quot;&gt;</span><br><span class="line">      &lt;!-- 注册表单 --&gt;</span><br><span class="line">      &lt;el-form ref=&quot;form&quot; size=&quot;large&quot; autocomplete=&quot;off&quot; v-if=&quot;isRegister&quot; :model=&quot;registerData&quot; :rules=&quot;rules&quot;&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;h1&gt;注册&lt;/h1&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;username&quot;&gt;</span><br><span class="line">          &lt;el-input :prefix-icon=&quot;User&quot; placeholder=&quot;请输入用户名&quot; v-model=&quot;registerData.username&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input :prefix-icon=&quot;Lock&quot; type=&quot;password&quot; placeholder=&quot;请输入密码&quot; v-model=&quot;registerData.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;rePassword&quot;&gt;</span><br><span class="line">          &lt;el-input :prefix-icon=&quot;Lock&quot; type=&quot;password&quot; placeholder=&quot;请输入再次密码&quot; v-model=&quot;registerData.rePassword&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;!-- 注册按钮 --&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button class=&quot;button&quot; type=&quot;primary&quot; auto-insert-space @click=&quot;register&quot;&gt;</span><br><span class="line">            注册</span><br><span class="line">          &lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item class=&quot;flex&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = false&quot;&gt;</span><br><span class="line">            ← 返回</span><br><span class="line">          &lt;/el-link&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">      &lt;!-- 登录表单 --&gt;</span><br><span class="line">      &lt;el-form ref=&quot;form&quot; size=&quot;large&quot; autocomplete=&quot;off&quot; v-else :model=&quot;loginData&quot; :rules=&quot;loginRules&quot;&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;h1&gt;登录&lt;/h1&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;username&quot;&gt;</span><br><span class="line">          &lt;el-input :prefix-icon=&quot;User&quot; placeholder=&quot;请输入用户名&quot; v-model=&quot;loginData.username&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input name=&quot;password&quot; :prefix-icon=&quot;Lock&quot; type=&quot;password&quot; placeholder=&quot;请输入密码&quot; v-model=&quot;loginData.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item class=&quot;flex&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;flex&quot;&gt;</span><br><span class="line">            &lt;el-checkbox&gt;记住我&lt;/el-checkbox&gt;</span><br><span class="line">            &lt;el-link type=&quot;primary&quot; :underline=&quot;false&quot;&gt;忘记密码？&lt;/el-link&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;!-- 登录按钮 --&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button class=&quot;button&quot; type=&quot;primary&quot; auto-insert-space @click=&quot;login&quot;&gt;登录&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item class=&quot;flex&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = true&quot;&gt;</span><br><span class="line">            注册 →</span><br><span class="line">          &lt;/el-link&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">  &lt;/el-row&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">/* 样式 */</span><br><span class="line">.login-page &#123;</span><br><span class="line">  height: 100vh;</span><br><span class="line">  background-color: #fff;</span><br><span class="line"></span><br><span class="line">  .bg &#123;</span><br><span class="line">    background: url(&#x27;@/assets/logo2.png&#x27;) no-repeat 60% center / 240px auto,</span><br><span class="line">    url(&#x27;@/assets/login_bg.jpg&#x27;) no-repeat center / cover;</span><br><span class="line">    border-radius: 0 20px 20px 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .form &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    user-select: none;</span><br><span class="line"></span><br><span class="line">    .title &#123;</span><br><span class="line">      margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .button &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .flex &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      display: flex;</span><br><span class="line">      justify-content: space-between;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="views-article"><a href="#views-article" class="headerlink" title="views&#x2F;article"></a>views&#x2F;article</h2><h3 id="ArticleCategory-vue"><a href="#ArticleCategory-vue" class="headerlink" title="ArticleCategory.vue"></a>ArticleCategory.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  Edit,</span><br><span class="line">  Delete</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;getAllArticlesCategoryService,addArticleCategoryService,updateArticleCategoryService,deleteArticleCategoryService&#125; from &quot;@/api/article.js&quot;;</span><br><span class="line">import &#123;ElMessage,ElMessageBox&#125; from &quot;element-plus&quot;;</span><br><span class="line">const categorys = ref([</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 3,</span><br><span class="line">    &quot;categoryName&quot;: &quot;美食&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;my&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:06:59&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:06:59&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 4,</span><br><span class="line">    &quot;categoryName&quot;: &quot;娱乐&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;yl&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:08:16&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:08:16&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;categoryName&quot;: &quot;军事&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;js&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:08:33&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:08:33&quot;</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br><span class="line">const getAll = async () =&gt; &#123;</span><br><span class="line">  let data = await getAllArticlesCategoryService()</span><br><span class="line">  categorys.value = data.data</span><br><span class="line">&#125;</span><br><span class="line">getAll()</span><br><span class="line"></span><br><span class="line">const dialogVisible =ref(false)</span><br><span class="line">const categoryModel = ref(&#123;</span><br><span class="line">  categoryName:&quot;&quot;,</span><br><span class="line">  categoryAlias:&quot;&quot;</span><br><span class="line">&#125;)</span><br><span class="line">const rules =&#123;</span><br><span class="line">  categoryName:&#123;required:true,message:&quot;请输入分类名称&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">  categoryAlias:&#123;required:true,message:&quot;请输入分类别名&quot;,trigger:&quot;blur&quot;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">const addCategory = async () =&gt; &#123;</span><br><span class="line">  let data = await addArticleCategoryService(categoryModel.value)</span><br><span class="line">  dialogVisible.value=false</span><br><span class="line">  ElMessage.success(data.msg?data.msg:&quot;添加成功&quot;)</span><br><span class="line">  getAll()</span><br><span class="line">&#125;</span><br><span class="line">const title = ref(&#x27;&#x27;)</span><br><span class="line">const toUpdate = (row) =&gt; &#123;</span><br><span class="line">  dialogVisible.value=true</span><br><span class="line">  title.value=&#x27;修改分类&#x27;</span><br><span class="line">  categoryModel.value.categoryName=row.categoryName</span><br><span class="line">  categoryModel.value.categoryAlias=row.categoryAlias</span><br><span class="line">  categoryModel.value.id=row.id</span><br><span class="line">&#125;</span><br><span class="line">const updateCategory = async () =&gt; &#123;</span><br><span class="line">  let data = await updateArticleCategoryService(categoryModel.value)</span><br><span class="line">  dialogVisible.value=false</span><br><span class="line">  ElMessage.success(data.msg?data.msg:&quot;修改成功&quot;)</span><br><span class="line">  getAll()</span><br><span class="line">&#125;</span><br><span class="line">const clean = ()=&gt;&#123;</span><br><span class="line">  categoryModel.value.categoryName=&#x27;&#x27;</span><br><span class="line">  categoryModel.value.categoryAlias=&#x27;&#x27;</span><br><span class="line">&#125;</span><br><span class="line">const deleteCategory = (row) =&gt; &#123;</span><br><span class="line">  ElMessageBox.confirm(</span><br><span class="line">      &#x27;你确认删除该分类吗?&#x27;,</span><br><span class="line">      &#x27;温馨提示&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        confirmButtonText: &#x27;确认&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;,</span><br><span class="line">      &#125;</span><br><span class="line">  )</span><br><span class="line">      .then(async () =&gt; &#123;</span><br><span class="line">        let data=await deleteArticleCategoryService(row.id)</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;success&#x27;,</span><br><span class="line">          message: &#x27;删除成功&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">        getAll()</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(() =&gt; &#123;</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;info&#x27;,</span><br><span class="line">          message: &#x27;取消删除&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">      &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">        &lt;span&gt;文章分类&lt;/span&gt;</span><br><span class="line">        &lt;div class=&quot;extra&quot;&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;dialogVisible=true,title=&#x27;增加分类&#x27;,clean()&quot;&gt;添加分类&lt;/el-button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;el-table :data=&quot;categorys&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;序号&quot; width=&quot;100&quot; type=&quot;index&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;分类名称&quot; prop=&quot;categoryName&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;分类别名&quot; prop=&quot;categoryAlias&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;操作&quot; width=&quot;100&quot;&gt;</span><br><span class="line">        &lt;template #default=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">          &lt;el-button :icon=&quot;Edit&quot; circle plain type=&quot;primary&quot; @click=&quot;toUpdate(row)&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">          &lt;el-button :icon=&quot;Delete&quot; circle plain type=&quot;danger&quot; @click=&quot;deleteCategory(row)&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;template #empty&gt;</span><br><span class="line">        &lt;el-empty description=&quot;没有数据&quot; /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;!-- 添加分类弹窗 --&gt;</span><br><span class="line">    &lt;el-dialog v-model=&quot;dialogVisible&quot; :title=title width=&quot;30%&quot;&gt;</span><br><span class="line">      &lt;el-form :model=&quot;categoryModel&quot; :rules=&quot;rules&quot; label-width=&quot;100px&quot; style=&quot;padding-right: 30px&quot;&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;分类名称&quot; prop=&quot;categoryName&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;categoryModel.categoryName&quot; minlength=&quot;1&quot; maxlength=&quot;10&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;分类别名&quot; prop=&quot;categoryAlias&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;categoryModel.categoryAlias&quot; minlength=&quot;1&quot; maxlength=&quot;15&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">      &lt;template #footer&gt;</span><br><span class="line">        &lt;span class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">            &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;title == &#x27;增加分类&#x27;?addCategory():updateCategory()&quot;&gt; 确认 &lt;/el-button&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.page-container &#123;</span><br><span class="line">  min-height: 100%;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line"></span><br><span class="line">  .header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ArticleManage"><a href="#ArticleManage" class="headerlink" title="ArticleManage"></a>ArticleManage</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  Edit,</span><br><span class="line">  Delete</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import &#123;ElMessage, ElMessageBox&#125; from &quot;element-plus&quot;</span><br><span class="line">import &#123;</span><br><span class="line">  getAllArticlesCategoryService,</span><br><span class="line">  getAllArticleService,</span><br><span class="line">  addArticleService,</span><br><span class="line">  updateArticleService,</span><br><span class="line">  deleteArticleService</span><br><span class="line">&#125; from &quot;@/api/article.js&quot;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;userTokenStore&#125; from &#x27;@/stores/token.js&#x27;</span><br><span class="line">const tokenStore = userTokenStore().token</span><br><span class="line">//文章分类数据模型</span><br><span class="line">const categorys = ref([</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 3,</span><br><span class="line">    &quot;categoryName&quot;: &quot;美食&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;my&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:06:59&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:06:59&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 4,</span><br><span class="line">    &quot;categoryName&quot;: &quot;娱乐&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;yl&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:08:16&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:08:16&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;categoryName&quot;: &quot;军事&quot;,</span><br><span class="line">    &quot;categoryAlias&quot;: &quot;js&quot;,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-02 12:08:33&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-02 12:08:33&quot;</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br><span class="line">const show = async ()=&gt;&#123;</span><br><span class="line">  let data =await getAllArticlesCategoryService()</span><br><span class="line">  categorys.value = data.data</span><br><span class="line">&#125;</span><br><span class="line">show()</span><br><span class="line">//用户搜索时选中的分类id</span><br><span class="line">const categoryId=ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">//用户搜索时选中的发布状态</span><br><span class="line">const state=ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">//文章列表数据模型</span><br><span class="line">const articles = ref([</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;title&quot;: &quot;陕西旅游攻略&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;兵马俑,华清池,法门寺,华山...爱去哪去哪...&quot;,</span><br><span class="line">    &quot;coverImg&quot;: &quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;,</span><br><span class="line">    &quot;state&quot;: &quot;草稿&quot;,</span><br><span class="line">    &quot;categoryId&quot;: 2,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-03 11:55:30&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-03 11:55:30&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;title&quot;: &quot;陕西旅游攻略&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;兵马俑,华清池,法门寺,华山...爱去哪去哪...&quot;,</span><br><span class="line">    &quot;coverImg&quot;: &quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;,</span><br><span class="line">    &quot;state&quot;: &quot;草稿&quot;,</span><br><span class="line">    &quot;categoryId&quot;: 2,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-03 11:55:30&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-03 11:55:30&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;id&quot;: 5,</span><br><span class="line">    &quot;title&quot;: &quot;陕西旅游攻略&quot;,</span><br><span class="line">    &quot;content&quot;: &quot;兵马俑,华清池,法门寺,华山...爱去哪去哪...&quot;,</span><br><span class="line">    &quot;coverImg&quot;: &quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;,</span><br><span class="line">    &quot;state&quot;: &quot;草稿&quot;,</span><br><span class="line">    &quot;categoryId&quot;: 2,</span><br><span class="line">    &quot;createTime&quot;: &quot;2023-09-03 11:55:30&quot;,</span><br><span class="line">    &quot;updateTime&quot;: &quot;2023-09-03 11:55:30&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">//分页条数据模型</span><br><span class="line">const pageNum = ref(1)//当前页</span><br><span class="line">const total = ref(20)//总条数</span><br><span class="line">const pageSize = ref(5)//每页条数</span><br><span class="line"></span><br><span class="line">//当每页条数发生了变化，调用此函数</span><br><span class="line">const onSizeChange = (size) =&gt; &#123;</span><br><span class="line">  pageSize.value = size</span><br><span class="line">  showMainInfo()</span><br><span class="line">&#125;</span><br><span class="line">//当前页码发生变化，调用此函数</span><br><span class="line">const onCurrentChange = (num) =&gt; &#123;</span><br><span class="line">  pageNum.value = num</span><br><span class="line">  showMainInfo()</span><br><span class="line">&#125;</span><br><span class="line">const showMainInfo =async ()=&gt;&#123;</span><br><span class="line">  let params =&#123;</span><br><span class="line">    pageSize:pageSize.value,</span><br><span class="line">    pageNum:pageNum.value,</span><br><span class="line">    categoryId:categoryId.value?categoryId.value:null,</span><br><span class="line">    state:state.value?state.value:null</span><br><span class="line">  &#125;</span><br><span class="line">  let show  =await  getAllArticleService(params)</span><br><span class="line">  articles.value=show.data.items</span><br><span class="line">  total.value=show.data.total</span><br><span class="line">  for(let i=0;i&lt;categorys.value.length;i++)&#123;</span><br><span class="line">    let id =categorys.value[i].id</span><br><span class="line">    for(let j=0;j&lt;articles.value.length;j++)&#123;</span><br><span class="line">      if (id === articles.value[j].categoryId)&#123;</span><br><span class="line">        articles.value[j].categoryName=categorys.value[i].categoryName</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(show.data.items)</span><br><span class="line">&#125;</span><br><span class="line">showMainInfo()</span><br><span class="line"></span><br><span class="line">import &#123;Plus&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">//控制抽屉是否显示</span><br><span class="line">const visibleDrawer = ref(false)</span><br><span class="line">//添加表单数据模型</span><br><span class="line">const articleModel = ref(&#123;</span><br><span class="line">  title: &#x27;&#x27;,</span><br><span class="line">  categoryId: &#x27;&#x27;,</span><br><span class="line">  coverImg: &#x27;&#x27;,</span><br><span class="line">  content:&#x27;&#x27;,</span><br><span class="line">  state:&#x27;&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">import &#123; QuillEditor &#125; from &#x27;@vueup/vue-quill&#x27;</span><br><span class="line">import &#x27;@vueup/vue-quill/dist/vue-quill.snow.css&#x27;</span><br><span class="line">const to_upload =(result) =&gt;&#123;</span><br><span class="line">  articleModel.value.coverImg = result.data</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;</span><br><span class="line">const uploadArticle= async (state)=&gt;&#123;</span><br><span class="line">  articleModel.value.state = state</span><br><span class="line">  console.log(articleModel.value)</span><br><span class="line">  let result =await addArticleService(articleModel.value)</span><br><span class="line">  ElMessage.success(&quot;添加成功&quot;)</span><br><span class="line">  visibleDrawer.value = false</span><br><span class="line">  showMainInfo()</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;</span><br><span class="line">const updateArticle = async (state)=&gt;&#123;</span><br><span class="line">  articleModel.value.state = state</span><br><span class="line">  let result = await updateArticleService(articleModel.value)</span><br><span class="line">  ElMessage.success(&quot;修改成功&quot;)</span><br><span class="line">  visibleDrawer.value = false</span><br><span class="line">  showMainInfo()</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;</span><br><span class="line">const title = ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">const toUpdate = (row)=&gt;&#123;</span><br><span class="line">  title.value = &quot;修改文章&quot;</span><br><span class="line">  visibleDrawer.value=true</span><br><span class="line">  articleModel.value.title = row.title</span><br><span class="line">  articleModel.value.coverImg = row.coverImg</span><br><span class="line">  articleModel.value.categoryId = row.categoryId</span><br><span class="line">  articleModel.value.categoryName=row.categoryName</span><br><span class="line">  articleModel.value.content =row.content</span><br><span class="line">  articleModel.value.id = row.id</span><br><span class="line">  console.log(row)</span><br><span class="line">&#125;</span><br><span class="line">const clean =()=&gt;&#123;</span><br><span class="line">  articleModel.value.title =&#x27;&#x27;</span><br><span class="line">  articleModel.value.coverImg = &#x27;&#x27;</span><br><span class="line">  articleModel.value.categoryId = &#x27;&#x27;</span><br><span class="line">  articleModel.value.categoryName=&#x27;&#x27;</span><br><span class="line">  articleModel.value.content =&#x27;&lt;p&gt;&lt;/p&gt;&#x27;</span><br><span class="line">  articleModel.value.state = &#x27;&#x27;</span><br><span class="line">&#125;</span><br><span class="line">const deleteArticle=(row)=&gt;&#123;</span><br><span class="line">  ElMessageBox.confirm(</span><br><span class="line">      &#x27;你确认删除该分类吗?&#x27;,</span><br><span class="line">      &#x27;温馨提示&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        confirmButtonText: &#x27;确认&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;,</span><br><span class="line">      &#125;</span><br><span class="line">  )</span><br><span class="line">      .then(async () =&gt; &#123;</span><br><span class="line">        let result = await deleteArticleService(row.id)</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;success&#x27;,</span><br><span class="line">          message: &#x27;删除成功&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">        console.log(result)</span><br><span class="line">        showMainInfo()</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(() =&gt; &#123;</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;info&#x27;,</span><br><span class="line">          message: &#x27;取消删除&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">      &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">        &lt;span&gt;文章管理&lt;/span&gt;</span><br><span class="line">        &lt;div class=&quot;extra&quot;&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;visibleDrawer=true,title=&#x27;添加文章&#x27;,clean()&quot;&gt;添加文章&lt;/el-button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- 搜索表单 --&gt;</span><br><span class="line">    &lt;el-form inline&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;文章分类：&quot;&gt;</span><br><span class="line">        &lt;el-select placeholder=&quot;请选择&quot; v-model=&quot;categoryId&quot; style=&quot;width: 180px&quot;&gt;</span><br><span class="line">          &lt;el-option</span><br><span class="line">              v-for=&quot;c in categorys&quot;</span><br><span class="line">              :key=&quot;c.id&quot;</span><br><span class="line">              :label=&quot;c.categoryName&quot;</span><br><span class="line">              :value=&quot;c.id&quot;&gt;</span><br><span class="line">          &lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-form-item label=&quot;发布状态：&quot;&gt;</span><br><span class="line">        &lt;el-select placeholder=&quot;请选择&quot; v-model=&quot;state&quot; style=&quot;width: 180px&quot;&gt;</span><br><span class="line">          &lt;el-option label=&quot;已发布&quot; value=&quot;已发布&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">          &lt;el-option label=&quot;草稿&quot; value=&quot;草稿&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;el-form-item&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;showMainInfo&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button @click=&quot;categoryId=&#x27;&#x27;;state=&#x27;&#x27;&quot;&gt;重置&lt;/el-button&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">    &lt;/el-form&gt;</span><br><span class="line">    &lt;!-- 文章列表 --&gt;</span><br><span class="line">    &lt;el-table :data=&quot;articles&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;文章标题&quot; width=&quot;400&quot; prop=&quot;title&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;分类&quot; prop=&quot;categoryName&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;发表时间&quot; prop=&quot;createTime&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;状态&quot; prop=&quot;state&quot;&gt;&lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;操作&quot; width=&quot;100&quot;&gt;</span><br><span class="line">        &lt;template #default=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">          &lt;el-button :icon=&quot;Edit&quot; circle plain type=&quot;primary&quot; @click=&quot;toUpdate(row)&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">          &lt;el-button :icon=&quot;Delete&quot; circle plain type=&quot;danger&quot; @click=&quot;deleteArticle(row)&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;template #empty&gt;</span><br><span class="line">        &lt;el-empty description=&quot;没有数据&quot; /&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;!-- 分页条 --&gt;</span><br><span class="line">    &lt;el-pagination v-model:current-page=&quot;pageNum&quot; v-model:page-size=&quot;pageSize&quot; :page-sizes=&quot;[3, 5 ,10, 15]&quot;</span><br><span class="line">                   layout=&quot;jumper, total, sizes, prev, pager, next&quot; background :total=&quot;total&quot; @size-change=&quot;onSizeChange&quot;</span><br><span class="line">                   @current-change=&quot;onCurrentChange&quot; style=&quot;margin-top: 20px; justify-content: flex-end&quot; /&gt;</span><br><span class="line">    &lt;el-drawer v-model=&quot;visibleDrawer&quot; :title=&quot;title&quot; direction=&quot;rtl&quot; size=&quot;50%&quot;&gt;</span><br><span class="line">      &lt;!-- 添加文章表单 --&gt;</span><br><span class="line">      &lt;el-form :model=&quot;articleModel&quot; label-width=&quot;100px&quot; &gt;</span><br><span class="line">        &lt;el-form-item label=&quot;文章标题&quot; &gt;</span><br><span class="line">          &lt;el-input v-model=&quot;articleModel.title&quot; placeholder=&quot;请输入标题&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;文章分类&quot;&gt;</span><br><span class="line">          &lt;el-select placeholder=&quot;请选择&quot; v-model=&quot;articleModel.categoryId&quot;&gt;</span><br><span class="line">            &lt;el-option v-for=&quot;c in categorys&quot; :key=&quot;c.id&quot; :label=&quot;c.categoryName&quot; :value=&quot;c.id&quot;&gt;</span><br><span class="line">            &lt;/el-option&gt;</span><br><span class="line">          &lt;/el-select&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;文章封面&quot;&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">auto-upload:设置是否自动上传</span><br><span class="line">action:设置服务器接口路径</span><br><span class="line">name:设置上传的文件字段名</span><br><span class="line">headers:设置上传的请求头</span><br><span class="line">on-success:设置上传成功的回调函数</span><br><span class="line"></span><br><span class="line">--&gt;</span><br><span class="line">          &lt;el-upload class=&quot;avatar-uploader&quot; :auto-upload=&quot;true&quot; action=&quot;/api/upload&quot; name=&quot;multipartFile&quot; :headers=&quot;&#123;&#x27;Authorization&#x27;:tokenStore&#125;&quot; :on-success=&quot;to_upload&quot; :show-file-list=&quot;false&quot;&gt;</span><br><span class="line">            &lt;img v-if=&quot;articleModel.coverImg&quot; :src=&quot;articleModel.coverImg&quot; class=&quot;avatar&quot; /&gt;</span><br><span class="line">            &lt;el-icon v-else class=&quot;avatar-uploader-icon&quot;&gt;</span><br><span class="line">              &lt;Plus /&gt;</span><br><span class="line">            &lt;/el-icon&gt;</span><br><span class="line">          &lt;/el-upload&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;文章内容&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;editor&quot;&gt;</span><br><span class="line">            &lt;quill-editor</span><br><span class="line">                theme=&quot;snow&quot;</span><br><span class="line">                v-model:content=&quot;articleModel.content&quot;</span><br><span class="line">                contentType=&quot;html&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;/quill-editor&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;title==&#x27;添加文章&#x27;?uploadArticle(&#x27;已发布&#x27;):updateArticle(&#x27;已发布&#x27;)&quot;&gt;发布&lt;/el-button&gt;</span><br><span class="line">          &lt;el-button type=&quot;info&quot; @click=&quot;title==&#x27;添加文章&#x27;?uploadArticle(&#x27;草稿&#x27;):updateArticle(&#x27;草稿&#x27;)&quot;&gt;草稿&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/el-drawer&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.page-container &#123;</span><br><span class="line">  min-height: 100%;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line"></span><br><span class="line">  .header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.avatar-uploader &#123;</span><br><span class="line">  :deep() &#123;</span><br><span class="line">    .avatar &#123;</span><br><span class="line">      width: 178px;</span><br><span class="line">      height: 178px;</span><br><span class="line">      display: block;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-upload &#123;</span><br><span class="line">      border: 1px dashed var(--el-border-color);</span><br><span class="line">      border-radius: 6px;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">      position: relative;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      transition: var(--el-transition-duration-fast);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-upload:hover &#123;</span><br><span class="line">      border-color: var(--el-color-primary);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-icon.avatar-uploader-icon &#123;</span><br><span class="line">      font-size: 28px;</span><br><span class="line">      color: #8c939d;</span><br><span class="line">      width: 178px;</span><br><span class="line">      height: 178px;</span><br><span class="line">      text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.editor &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  :deep(.ql-editor) &#123;</span><br><span class="line">    min-height: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="views-user"><a href="#views-user" class="headerlink" title="views&#x2F;user"></a>views&#x2F;user</h2><h3 id="UserAvatar-vue"><a href="#UserAvatar-vue" class="headerlink" title="UserAvatar.vue"></a>UserAvatar.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; Plus, Upload &#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">import avatar from &#x27;@/assets/default.png&#x27;</span><br><span class="line">import &#123;userInfoStore&#125; from &quot;@/stores/userInfo.js&quot;</span><br><span class="line">import &#123;userTokenStore&#125; from &#x27;@/stores/token.js&#x27;</span><br><span class="line">import &#123;updateUserAvatarService&#125; from &quot;@/api/user.js&quot;</span><br><span class="line">import &#123;ElMessage&#125; from &quot;element-plus&quot;</span><br><span class="line">const token = userTokenStore().token</span><br><span class="line">const user = userInfoStore()</span><br><span class="line">const uploadRef = ref()</span><br><span class="line"></span><br><span class="line">//用户头像地址</span><br><span class="line">const imgUrl= ref(user.userInfoStore.userPic)</span><br><span class="line">const to_upload = (result)=&gt;&#123;</span><br><span class="line">  imgUrl.value=result.data</span><br><span class="line">&#125;</span><br><span class="line">const upload =async()=&gt; &#123;</span><br><span class="line">  let result =await updateUserAvatarService(imgUrl.value)</span><br><span class="line">  user.userInfoStore.userPic=imgUrl.value</span><br><span class="line">  ElMessage.success(&quot;修改成功&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">      &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">        &lt;span&gt;更换头像&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;el-upload</span><br><span class="line">            ref=&quot;uploadRef&quot;</span><br><span class="line">            class=&quot;avatar-uploader&quot;</span><br><span class="line">            :show-file-list=&quot;false&quot;</span><br><span class="line">            action=&quot;/api/upload&quot;</span><br><span class="line">            name=&quot;multipartFile&quot;</span><br><span class="line">            :headers=&quot;&#123;&#x27;Authorization&#x27;:token&#125;&quot;</span><br><span class="line">            :auto-upload=&quot;true&quot;</span><br><span class="line">            :on-success=&quot;to_upload&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;img v-if=&quot;imgUrl&quot; :src=&quot;imgUrl&quot; class=&quot;avatar&quot; /&gt;</span><br><span class="line">          &lt;img v-else :src=&quot;avatar&quot; width=&quot;278&quot; /&gt;</span><br><span class="line">        &lt;/el-upload&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; :icon=&quot;Plus&quot; size=&quot;large&quot;  @click=&quot;uploadRef.$el.querySelector(&#x27;input&#x27;).click()&quot;&gt;</span><br><span class="line">          选择图片</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;success&quot; :icon=&quot;Upload&quot; size=&quot;large&quot; @click=&quot;upload&quot;&gt;</span><br><span class="line">          上传头像</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.avatar-uploader &#123;</span><br><span class="line">  :deep() &#123;</span><br><span class="line">    .avatar &#123;</span><br><span class="line">      width: 278px;</span><br><span class="line">      height: 278px;</span><br><span class="line">      display: block;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-upload &#123;</span><br><span class="line">      border: 1px dashed var(--el-border-color);</span><br><span class="line">      border-radius: 6px;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">      position: relative;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      transition: var(--el-transition-duration-fast);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-upload:hover &#123;</span><br><span class="line">      border-color: var(--el-color-primary);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .el-icon.avatar-uploader-icon &#123;</span><br><span class="line">      font-size: 28px;</span><br><span class="line">      color: #8c939d;</span><br><span class="line">      width: 278px;</span><br><span class="line">      height: 278px;</span><br><span class="line">      text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserInfo-vue"><a href="#UserInfo-vue" class="headerlink" title="UserInfo.vue"></a>UserInfo.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;userInfoStore&#125; from &quot;@/stores/userInfo.js&quot;</span><br><span class="line">import &#123;updateUserService&#125; from &quot;@/api/user.js&quot;</span><br><span class="line">import &#123;ElMessage&#125; from &quot;element-plus&quot;</span><br><span class="line">const user = userInfoStore()</span><br><span class="line">const userInfo = ref(&#123;...user.userInfoStore&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const rules = &#123;</span><br><span class="line">  nickname: [</span><br><span class="line">    &#123; required: true, message: &#x27;请输入用户昵称&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      pattern: /^\S&#123;2,10&#125;$/,</span><br><span class="line">      message: &#x27;昵称必须是2-10位的非空字符串&#x27;,</span><br><span class="line">      trigger: &#x27;blur&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  email: [</span><br><span class="line">    &#123; required: true, message: &#x27;请输入用户邮箱&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">    &#123; type: &#x27;email&#x27;, message: &#x27;邮箱格式不正确&#x27;, trigger: &#x27;blur&#x27; &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">const updateDate=async ()=&gt;&#123;</span><br><span class="line">  let result = await updateUserService(userInfo.value)</span><br><span class="line">  ElMessage.success(&quot;修改成功&quot;)</span><br><span class="line">  user.userInfoStore.nickname=userInfo.value.nickname</span><br><span class="line">  user.userInfoStore.email = userInfo.value.email</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">      &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">        &lt;span&gt;基本资料&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;el-form :model=&quot;userInfo&quot; :rules=&quot;rules&quot; label-width=&quot;100px&quot; size=&quot;large&quot;&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;登录名称&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.username&quot; disabled&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;用户昵称&quot; prop=&quot;nickname&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.nickname&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;用户邮箱&quot; prop=&quot;email&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.email&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;updateDate&quot;&gt;提交修改&lt;/el-button&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">        &lt;/el-form&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserResetPassword-vue"><a href="#UserResetPassword-vue" class="headerlink" title="UserResetPassword.vue"></a>UserResetPassword.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;ElMessage, ElMessageBox&#125; from &quot;element-plus&quot;</span><br><span class="line">import &#123;updatePwdService&#125; from &quot;@/api/user.js&quot;</span><br><span class="line">import &#123;userTokenStore&#125; from &quot;@/stores/token.js&quot;</span><br><span class="line">import &#123;userInfoStore&#125; from &quot;@/stores/userInfo.js&quot;</span><br><span class="line">import &#123;useRouter&#125; from &quot;vue-router&quot;;</span><br><span class="line">const router = useRouter()</span><br><span class="line">const token = userTokenStore()</span><br><span class="line">const user = userInfoStore()</span><br><span class="line">const userInfo = ref(&#123;</span><br><span class="line">  old_pwd: &#x27;&#x27;,</span><br><span class="line">  new_pwd: &#x27;&#x27;,</span><br><span class="line">  re_pwd: &#x27;&#x27;,</span><br><span class="line">&#125;)</span><br><span class="line">const rules = &#123;</span><br><span class="line">  old_pwd: [</span><br><span class="line">    &#123; required: true, message: &#x27;请输入旧密码&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">    &#123;min:5,max:16,message: &quot;请输入5到16位的密码&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">  new_pwd: [</span><br><span class="line">    &#123; required: true, message: &#x27;请输入新密码&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">    &#123;min:5,max:16,message: &quot;请输入5到16位的密码&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ],</span><br><span class="line">  re_pwd:[</span><br><span class="line">    &#123; required: true, message: &#x27;请重复输入新密码&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">    &#123;min:5,max:16,message: &quot;请输入5到16位的密码&quot;,trigger:&quot;blur&quot;&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">const to_pwd =()=&gt;&#123;</span><br><span class="line">  ElMessageBox.confirm(</span><br><span class="line">      &#x27;你确认修改密码吗?&#x27;,</span><br><span class="line">      &#x27;温馨提示&#x27;,</span><br><span class="line">      &#123;</span><br><span class="line">        confirmButtonText: &#x27;确认&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;,</span><br><span class="line">      &#125;</span><br><span class="line">  )</span><br><span class="line">      .then(async () =&gt; &#123;</span><br><span class="line">        let result = await updatePwdService(userInfo.value)</span><br><span class="line">        user.removeUserInfoStore()</span><br><span class="line">        token.removeToken()</span><br><span class="line">        router.push(&quot;/login&quot;)</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;success&#x27;,</span><br><span class="line">          message: &#x27;修改成功&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">        console.log(result)</span><br><span class="line"></span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(() =&gt; &#123;</span><br><span class="line">        ElMessage(&#123;</span><br><span class="line">          type: &#x27;info&#x27;,</span><br><span class="line">          message: &#x27;取消修改&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;template #header&gt;</span><br><span class="line">      &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">        &lt;span&gt;重置密码&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;el-form :model=&quot;userInfo&quot; :rules=&quot;rules&quot; label-width=&quot;100px&quot; size=&quot;large&quot;&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;旧密码&quot; prop=&quot;old_pwd&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.old_pwd&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;新密码&quot; prop=&quot;new_pwd&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.new_pwd&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;重复新密码&quot; prop=&quot;re_pwd&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;userInfo.re_pwd&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;to_pwd&quot;&gt;修改密码&lt;/el-button&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">        &lt;/el-form&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h2><h3 id="request-js-拦截器"><a href="#request-js-拦截器" class="headerlink" title="request.js 拦截器"></a>request.js 拦截器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElMessage</span>&#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;userTokenStore&#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/token.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"><span class="comment">// import&#123;useRouter&#125; from &quot;vue-router&quot;;</span></span><br><span class="line"><span class="comment">// const baseURL = &quot;http://localhost:8080&quot;</span></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&quot;/api&quot;</span></span><br><span class="line"><span class="keyword">const</span> instance= axios.<span class="title function_">create</span>(&#123;baseURL&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">config</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> tokenStore = <span class="title function_">userTokenStore</span>()</span><br><span class="line">        <span class="keyword">if</span>(tokenStore.<span class="property">token</span>)&#123;</span><br><span class="line">            config.<span class="property">headers</span>.<span class="property">Authorization</span> = tokenStore.<span class="property">token</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;token缺失&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(response.<span class="property">data</span>.<span class="property">code</span> === <span class="number">0</span> )&#123;</span><br><span class="line">            <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(response.<span class="property">data</span>.<span class="property">message</span>?response.<span class="property">data</span>.<span class="property">message</span>:<span class="string">&quot;服务异常&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response.<span class="property">data</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; ,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>)&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;未登录&quot;</span>)</span><br><span class="line">            router.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;服务异常&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)<span class="comment">//异步的状态转换成失败的状态</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="api"><a href="#api" class="headerlink" title="api"></a>api</h2><h3 id="article-js"><a href="#article-js" class="headerlink" title="article.js"></a>article.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;userTokenStore&#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/token.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getAllArticlesCategoryService</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">userTokenStore</span>().<span class="property">token</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(token)</span><br><span class="line">    <span class="comment">// return request.get(&quot;/category&quot;,&#123;headers:&#123;&quot;Authorization&quot;:token&#125;&#125;);</span></span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&quot;/category&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addArticleCategoryService</span> = (<span class="params">categoryData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&quot;/category&quot;</span>,categoryData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateArticleCategoryService</span> = (<span class="params">categoryData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&quot;/category&quot;</span>,categoryData);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">deleteArticleCategoryService</span> = (<span class="params">categoryId</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">delete</span>(<span class="string">&quot;/category?id=&quot;</span>+categoryId);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getAllArticleService</span> = (<span class="params">articleData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/article&#x27;</span>,&#123;<span class="attr">params</span>:articleData&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addArticleService</span> = (<span class="params">articleData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&quot;/article&quot;</span>,articleData);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateArticleService</span> = (<span class="params">articleData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&quot;/article&quot;</span>,articleData);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">deleteArticleService</span> = (<span class="params">articleId</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">delete</span>(<span class="string">&quot;/article?id=&quot;</span>+articleId);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="user-js"><a href="#user-js" class="headerlink" title="user.js"></a>user.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request.js&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userRegisterService</span> = (<span class="params">registerData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> registerData) &#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key, registerData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&quot;/user/register&quot;</span>,params);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userLoginService</span> = (<span class="params">loginData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> loginData) &#123;</span><br><span class="line">        params.<span class="title function_">append</span>(key, loginData[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&quot;/user/login&quot;</span>,params);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userInfoService</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/user/userInfo&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateUserService</span> = (<span class="params">userData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&quot;/user/update&quot;</span>,userData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateUserAvatarService</span> = (<span class="params">userData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">patch</span>(<span class="string">&quot;/user/updateAvatar?avatarUrl=&quot;</span>+userData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updatePwdService</span> = (<span class="params">userData</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">patch</span>(<span class="string">&quot;/user/updatePwd&quot;</span>,userData)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="router"><a href="#router" class="headerlink" title="router"></a>router</h2><h3 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter,createWebHashHistory&#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Layout</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Layout.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Login.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ArticleCategory</span> <span class="keyword">from</span> <span class="string">&quot;@/views/article/ArticleCategory.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ArticleManage</span> <span class="keyword">from</span> <span class="string">&quot;@/views/article/ArticleManage.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserInfo</span> <span class="keyword">from</span> <span class="string">&quot;@/views/user/UserInfo.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserResetPassword</span> <span class="keyword">from</span> <span class="string">&quot;@/views/user/UserResetPassword.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserAvatar</span> <span class="keyword">from</span> <span class="string">&quot;@/views/user/UserAvatar.vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="title class_">Layout</span>,</span><br><span class="line">        <span class="attr">redirect</span>:<span class="string">&quot;/article/manage&quot;</span>,</span><br><span class="line">        <span class="attr">children</span>:[</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;/article/category&quot;</span>,<span class="attr">component</span>:<span class="title class_">ArticleCategory</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;/article/manage&quot;</span>,<span class="attr">component</span>:<span class="title class_">ArticleManage</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;/user/info&quot;</span>,<span class="attr">component</span>:<span class="title class_">UserInfo</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;/user/avatar&quot;</span>,<span class="attr">component</span>:<span class="title class_">UserAvatar</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">path</span>:<span class="string">&quot;/user/password&quot;</span>,<span class="attr">component</span>:<span class="title class_">UserResetPassword</span>&#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;<span class="attr">path</span>:<span class="string">&quot;/login&quot;</span>,<span class="attr">component</span>:<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&quot;@/views/Login.vue&quot;</span>),&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router=<span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>:<span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>:routes</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="stores-pinia"><a href="#stores-pinia" class="headerlink" title="stores (pinia)"></a>stores (pinia)</h2><h3 id="token-js"><a href="#token-js" class="headerlink" title="token.js"></a>token.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> userTokenStore =  <span class="title function_">defineStore</span>(<span class="string">&quot;token&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=newToken;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">    &#123;<span class="attr">persist</span>:<span class="literal">true</span>&#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="userInfo-js"><a href="#userInfo-js" class="headerlink" title="userInfo.js"></a>userInfo.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> userInfoStore = <span class="title function_">defineStore</span>(<span class="string">&quot;userInfoStore&quot;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> userInfoStore = <span class="title function_">ref</span>(&#123;&#125;)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setUserInfoStore</span> = (<span class="params">newInfo</span>)=&gt;&#123;</span><br><span class="line">        userInfoStore.<span class="property">value</span> = newInfo</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeUserInfoStore</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        userInfoStore.<span class="property">value</span> = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        userInfoStore,setUserInfoStore,removeUserInfoStore</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="vite-config-js"><a href="#vite-config-js" class="headerlink" title="vite.config.js"></a>vite.config.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">server</span>:&#123;</span><br><span class="line">    <span class="attr">proxy</span>:&#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>:&#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">rewrite</span>:<span class="function">(<span class="params">path</span>)=&gt;</span>path.<span class="title function_">replace</span>(<span class="regexp">/^\/api/</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前后端项目(后端)</title>
      <link href="/myBlog.github.io/2024/05/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE-%E5%90%8E%E7%AB%AF/"/>
      <url>/myBlog.github.io/2024/05/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE-%E5%90%8E%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="前后端项目-后端"><a href="#前后端项目-后端" class="headerlink" title="前后端项目(后端)"></a>前后端项目(后端)</h1><p><img src="/myBlog.github.io/img/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95.png" alt="这是图片"></p><h2 id="entity文件"><a href="#entity文件" class="headerlink" title="entity文件"></a>entity文件</h2><h3 id="Article"><a href="#Article" class="headerlink" title="Article"></a>Article</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.entity;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.anno.State;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.URL;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Article</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;<span class="comment">//主键ID</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^\\S&#123;1,10&#125;$&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String title;<span class="comment">//文章标题</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String content;<span class="comment">//文章内容</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="meta">@URL</span></span><br><span class="line">    <span class="keyword">private</span> String coverImg;<span class="comment">//封面图像</span></span><br><span class="line">    <span class="meta">@State</span></span><br><span class="line">    <span class="keyword">private</span> String state;<span class="comment">//发布状态 已发布|草稿</span></span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> Integer categoryId;<span class="comment">//文章分类id</span></span><br><span class="line">    <span class="keyword">private</span> Integer createUser;<span class="comment">//创建人ID</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;<span class="comment">//创建时间</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;<span class="comment">//更新时间</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Category"><a href="#Category" class="headerlink" title="Category"></a>Category</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.entity;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonFormat;</span><br><span class="line"><span class="comment">//import jakarta.validation.constraints.NotEmpty;</span></span><br><span class="line"><span class="comment">//import jakarta.validation.constraints.NotNull;</span></span><br><span class="line"><span class="comment">//import jakarta.validation.groups.Default;</span></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.validation.groups.Default;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Category</span> &#123;</span><br><span class="line"><span class="comment">//    (groups = Update.class)</span></span><br><span class="line">    <span class="meta">@NotNull(groups = Update.class)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;<span class="comment">//主键ID</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String categoryName;<span class="comment">//分类名称</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String categoryAlias;<span class="comment">//分类别名</span></span><br><span class="line">    <span class="keyword">private</span> Integer createUser;<span class="comment">//创建人ID</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;<span class="comment">//创建时间</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;<span class="comment">//更新时间</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Category&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, categoryName=&#x27;&quot;</span> + categoryName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, categoryAlias=&#x27;&quot;</span> + categoryAlias + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, createUser=&quot;</span> + createUser +</span><br><span class="line">                <span class="string">&quot;, createTime=&quot;</span> + createTime +</span><br><span class="line">                <span class="string">&quot;, updateTime=&quot;</span> + updateTime +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Add</span> <span class="keyword">extends</span> <span class="title class_">Default</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Update</span> <span class="keyword">extends</span> <span class="title class_">Default</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果说某个校验项没有指定分组,默认属于Default分组</span></span><br><span class="line">    <span class="comment">//分组之间可以继承, A extends B  那么A中拥有B中所有的校验项</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public interface Add extends Default &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public interface Update extends Default&#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="PageBean"><a href="#PageBean" class="headerlink" title="PageBean"></a>PageBean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.entity;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PageBean</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Long total;</span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.entity;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &lt;T&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; Result&lt;E&gt; <span class="title function_">success</span><span class="params">(E data)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">0</span>,<span class="string">&quot;操作成功&quot;</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; Result&lt;E&gt;  <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">0</span>,<span class="string">&quot;操作成功&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; Result&lt;E&gt; <span class="title function_">error</span><span class="params">(String message)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">1</span>,message,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="User"><a href="#User" class="headerlink" title="User"></a>User</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.entity;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonIgnore;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Email;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@JsonIgnore</span><span class="comment">//springmvc把当前对象转换为json时忽略该字段</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^\\S&#123;1,10&#125;$&quot;)</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line">    <span class="meta">@Email</span></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String userPic;</span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mapper-以及-resource-mapper"><a href="#mapper-以及-resource-mapper" class="headerlink" title="mapper 以及 resource&#x2F;mapper"></a>mapper 以及 resource&#x2F;mapper</h2><h3 id="ArticleMapper"><a href="#ArticleMapper" class="headerlink" title="ArticleMapper"></a>ArticleMapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Article;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ArticleMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Article article)</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Article&gt; <span class="title function_">list</span><span class="params">(Integer userId,String categoryId, String state)</span>;</span><br><span class="line">    <span class="keyword">public</span> Article <span class="title function_">getOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Article article)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ArticleMapper-xml"><a href="#ArticleMapper-xml" class="headerlink" title="ArticleMapper.xml"></a>ArticleMapper.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.bigevent.mapper.ArticleMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;All&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.bigevent.entity.Article&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;createUser&quot;</span> <span class="attr">column</span>=<span class="string">&quot;create_user&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;categoryId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;category_id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;content&quot;</span> <span class="attr">column</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;coverImg&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cover_img&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;state&quot;</span> <span class="attr">column</span>=<span class="string">&quot;state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;title&quot;</span> <span class="attr">column</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;add&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.Article&quot;</span>&gt;</span></span><br><span class="line">        insert into article(title,content,cover_img,state,category_id,create_user,create_time,update_time)values</span><br><span class="line">                    (#&#123;title&#125;,#&#123;content&#125;,#&#123;coverImg&#125;,#&#123;state&#125;,#&#123;categoryId&#125;,#&#123;createUser&#125;,now(),now())</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">        select * from article</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;categoryId!=null&quot;</span>&gt;</span></span><br><span class="line">                category_id =#&#123;categoryId&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;state!=null&quot;</span>&gt;</span></span><br><span class="line">                and state=#&#123;state&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                and create_user =#&#123;userId&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getOne&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">        select * from article where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateOne&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.Article&quot;</span>&gt;</span></span><br><span class="line">        update article set title=#&#123;title&#125;,content=#&#123;content&#125;,cover_img=#&#123;coverImg&#125;,state=#&#123;state&#125;,category_id=#&#123;categoryId&#125;,</span><br><span class="line">                           update_time=now() where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteOne&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;integer&quot;</span>&gt;</span></span><br><span class="line">        delete from article where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CategoryMapper"><a href="#CategoryMapper" class="headerlink" title="CategoryMapper"></a>CategoryMapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Category;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Category category)</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Category&gt; <span class="title function_">getAll</span><span class="params">(Integer userId)</span>;</span><br><span class="line">    <span class="keyword">public</span> Category <span class="title function_">getOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Category category)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CategoryMapper-xml"><a href="#CategoryMapper-xml" class="headerlink" title="CategoryMapper.xml"></a>CategoryMapper.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.bigevent.mapper.CategoryMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;All&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.bigevent.entity.Category&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;category_alias&quot;</span> <span class="attr">property</span>=<span class="string">&quot;categoryAlias&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;category_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;categoryName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_user&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createUser&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;add&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.Category&quot;</span>&gt;</span></span><br><span class="line">        insert into category(category_name,category_alias,create_user,create_time,update_time)values(#&#123;categoryName&#125;,#&#123;categoryAlias&#125;,#&#123;createUser&#125;,now(),now())</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;integer&quot;</span>&gt;</span></span><br><span class="line">        select * from category where create_user = #&#123;userId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getOne&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">        select * from category where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateOne&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.Category&quot;</span>&gt;</span></span><br><span class="line">        update category set category_name=#&#123;categoryName&#125;,category_alias=#&#123;categoryAlias&#125;,update_time=now() where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteOne&quot;</span>&gt;</span></span><br><span class="line">        delete from category where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserMapper"><a href="#UserMapper" class="headerlink" title="UserMapper"></a>UserMapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.User;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Insert;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"><span class="comment">//    @Select(&quot;select * from user where username=#&#123;username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">findByUsername</span><span class="params">(String username)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Insert(&quot;insert into user(username,password,create_time,update_time)values (#&#123;username&#125;,#&#123;password&#125;,now(),now())&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String username,String password)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(User user)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateAvatar</span><span class="params">(String avatarUrl,<span class="type">int</span> id)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updatePwd</span><span class="params">(String newPwd,<span class="type">int</span> id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserMapper-xml"><a href="#UserMapper-xml" class="headerlink" title="UserMapper.xml"></a>UserMapper.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.bigevent.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;All&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.bigevent.entity.User&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;username&quot;</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span> <span class="attr">column</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;nickname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;nickname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;userPic&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_pic&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByUsername&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;string&quot;</span>&gt;</span></span><br><span class="line">        select * from user where username=#&#123;username&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span> =<span class="string">&quot;add&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.User&quot;</span>&gt;</span></span><br><span class="line">        insert into user(username,password,create_time,update_time)values(#&#123;username&#125;,#&#123;password&#125;,now(),now())</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.bigevent.entity.User&quot;</span>&gt;</span></span><br><span class="line">        update user set nickname=#&#123;nickname&#125;,email=#&#123;email&#125;,update_time=#&#123;updateTime&#125;where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateAvatar&quot;</span> &gt;</span></span><br><span class="line">        update user set user_pic=#&#123;avatarUrl&#125;,update_time=now() where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updatePwd&quot;</span>&gt;</span></span><br><span class="line">        update user set password = #&#123;newPwd&#125;,update_time=now() where id =#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="sevice接口以及他们的实现类"><a href="#sevice接口以及他们的实现类" class="headerlink" title="sevice接口以及他们的实现类"></a>sevice接口以及他们的实现类</h2><h3 id="ArticleService"><a href="#ArticleService" class="headerlink" title="ArticleService"></a>ArticleService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Article;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.PageBean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ArticleService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Article article)</span>;</span><br><span class="line">    PageBean&lt;Article&gt; <span class="title function_">list</span><span class="params">(Integer pageNum, Integer pageSize, String categoryId, String state)</span>;</span><br><span class="line">    <span class="keyword">public</span> Article <span class="title function_">getOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Article article)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ArticleServiceImp"><a href="#ArticleServiceImp" class="headerlink" title="ArticleServiceImp"></a>ArticleServiceImp</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.service.imp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Article;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.PageBean;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.mapper.ArticleMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.ArticleService;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.ThreadLocalUtil;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.Page;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageHelper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArticleServiceImp</span> <span class="keyword">implements</span> <span class="title class_">ArticleService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ArticleMapper articleMapper;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Article article)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">userId</span> <span class="operator">=</span> (Integer) map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        article.setCreateUser(userId);</span><br><span class="line">        articleMapper.add(article);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PageBean&lt;Article&gt; <span class="title function_">list</span><span class="params">(Integer pageNum, Integer pageSize, String categoryId, String state)</span> &#123;</span><br><span class="line">        PageBean&lt;Article&gt; page = <span class="keyword">new</span> <span class="title class_">PageBean</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 设置第几条记录开始，多少页记录为一页</span></span><br><span class="line">        PageHelper.startPage(pageNum,pageSize);</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">userId</span> <span class="operator">=</span>(Integer) map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        <span class="comment">// 因为已经注册了 PageHelper插件，所以 PageHelper会在原 sql 语句上增加 limit，从而实现分页</span></span><br><span class="line">        List&lt;Article&gt; list = articleMapper.list(userId,categoryId,state);</span><br><span class="line">        Page&lt;Article&gt; p = (Page&lt;Article&gt;) list;</span><br><span class="line">        page.setTotal(p.getTotal());</span><br><span class="line">        page.setItems(p.getResult());</span><br><span class="line">        <span class="keyword">return</span> page;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Article <span class="title function_">getOne</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> articleMapper.getOne(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Article article)</span> &#123;</span><br><span class="line">        articleMapper.updateOne(article);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        articleMapper.deleteOne(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CategoryService"><a href="#CategoryService" class="headerlink" title="CategoryService"></a>CategoryService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Category;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Category category)</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Category&gt; <span class="title function_">getAll</span><span class="params">(Integer userId)</span>;</span><br><span class="line">    <span class="keyword">public</span> Category <span class="title function_">getOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Category category)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CategoryServiceImp"><a href="#CategoryServiceImp" class="headerlink" title="CategoryServiceImp"></a>CategoryServiceImp</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.service.imp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.mapper.CategoryMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryServiceImp</span> <span class="keyword">implements</span> <span class="title class_">CategoryService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CategoryMapper categoryMapper;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Category category)</span> &#123;</span><br><span class="line">        categoryMapper.add(category);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Category&gt; <span class="title function_">getAll</span><span class="params">(Integer userId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> categoryMapper.getAll(userId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Category <span class="title function_">getOne</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> categoryMapper.getOne(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateOne</span><span class="params">(Category category)</span> &#123;</span><br><span class="line">        categoryMapper.updateOne(category);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteOne</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        categoryMapper.deleteOne(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserService"><a href="#UserService" class="headerlink" title="UserService"></a>UserService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">findByUsername</span><span class="params">(String username)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String username,String password)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(User user)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateAvatar</span><span class="params">(String avatarUrl)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updatePwd</span><span class="params">(String newPwd)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserServiceImp"><a href="#UserServiceImp" class="headerlink" title="UserServiceImp"></a>UserServiceImp</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.service.imp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.Md4Util;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.ThreadLocalUtil;</span><br><span class="line"><span class="keyword">import</span> org.apache.tomcat.util.security.MD5Encoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.DigestUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImp</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">findByUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userMapper.findByUsername(username);</span><br><span class="line">        <span class="keyword">return</span> byUsername;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Md4Util.MD5(password);</span><br><span class="line">        userMapper.add(username,s);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        user.setUpdateTime(LocalDateTime.now());</span><br><span class="line">        userMapper.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateAvatar</span><span class="params">(String avatarUrl)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> (<span class="type">int</span>)map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        userMapper.updateAvatar(avatarUrl,id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updatePwd</span><span class="params">(String newPwd)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> (<span class="type">int</span>)map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> Md4Util.MD5(newPwd);</span><br><span class="line">        userMapper.updatePwd(pwd,id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h2><h3 id="AliOssUtil"><a href="#AliOssUtil" class="headerlink" title="AliOssUtil"></a>AliOssUtil</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSS;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.common.auth.*;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSSClientBuilder;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSSException;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.PutObjectRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.PutObjectResult;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliOssUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">BUCKET_NAME</span> <span class="operator">=</span> <span class="string">&quot;big-eventsfeng&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ENDPOINT</span> <span class="operator">=</span> <span class="string">&quot;https://oss-cn-beijing.aliyuncs.com&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ACCESS_KEY_ID</span> <span class="operator">=</span> <span class="string">&quot;LTAI5tRTZb2wyzYGfX3o8t1Q&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ACCESS_KEY_SECRET</span> <span class="operator">=</span><span class="string">&quot;W924sKtF4wsOmP3mT38l79r31kLDsC&quot;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">uploadFile</span><span class="params">(String objectName,InputStream inputStream)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            <span class="comment">// Endpoint以华东1（杭州）为例，其它Region请按实际情况填写。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 从环境变量中获取访问凭证。运行本代码示例之前，请确保已设置环境变量OSS_ACCESS_KEY_ID和OSS_ACCESS_KEY_SECRET。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            EnvironmentVariableCredentialsProvider credentialsProvider = CredentialsProviderFactory.newEnvironmentVariableCredentialsProvider();</span></span><br><span class="line">            <span class="comment">// 填写Bucket名称，例如examplebucket。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 填写Object完整路径，完整路径中不能包含Bucket名称，例如exampledir/exampleobject.txt。</span></span><br><span class="line"><span class="comment">//            String objectName = &quot;exampledir/exampleobject.txt&quot;;</span></span><br><span class="line">            <span class="comment">// 填写本地文件的完整路径，例如D:\\localpath\\examplefile.txt。</span></span><br><span class="line">            <span class="comment">// 如果未指定本地路径，则默认从示例程序所属项目对应本地路径中上传文件流。</span></span><br><span class="line"><span class="comment">//            String filePath= &quot;D:\\localpath\\examplefile.txt&quot;;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 创建OSSClient实例。</span></span><br><span class="line">            <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(ENDPOINT,ACCESS_KEY_ID,ACCESS_KEY_SECRET);</span><br><span class="line">            <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//                InputStream inputStream = new FileInputStream(filePath);</span></span><br><span class="line">                <span class="comment">// 创建PutObjectRequest对象。</span></span><br><span class="line">                <span class="type">PutObjectRequest</span> <span class="variable">putObjectRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PutObjectRequest</span>(BUCKET_NAME, objectName, inputStream);</span><br><span class="line">                <span class="comment">// 创建PutObject请求。</span></span><br><span class="line">                url = <span class="string">&quot;https://&quot;</span>+BUCKET_NAME+<span class="string">&quot;.&quot;</span>+ENDPOINT.substring(ENDPOINT.lastIndexOf(<span class="string">&quot;/&quot;</span>)+<span class="number">1</span>)+<span class="string">&quot;/&quot;</span>+objectName;</span><br><span class="line">                <span class="type">PutObjectResult</span> <span class="variable">result</span> <span class="operator">=</span> ossClient.putObject(putObjectRequest);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (OSSException oe) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Caught an OSSException, which means your request made it to OSS, &quot;</span></span><br><span class="line">                        + <span class="string">&quot;but was rejected with an error response for some reason.&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Message:&quot;</span> + oe.getErrorMessage());</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Code:&quot;</span> + oe.getErrorCode());</span><br><span class="line">                System.out.println(<span class="string">&quot;Request ID:&quot;</span> + oe.getRequestId());</span><br><span class="line">                System.out.println(<span class="string">&quot;Host ID:&quot;</span> + oe.getHostId());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClientException ce) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Caught an ClientException, which means the client encountered &quot;</span></span><br><span class="line">                        + <span class="string">&quot;a serious internal problem while trying to communicate with OSS, &quot;</span></span><br><span class="line">                        + <span class="string">&quot;such as not being able to access the network.&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Message:&quot;</span> + ce.getMessage());</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (ossClient != <span class="literal">null</span>) &#123;</span><br><span class="line">                    ossClient.shutdown();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="JwtUtil"><a href="#JwtUtil" class="headerlink" title="JwtUtil"></a>JwtUtil</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.JWT;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.algorithms.Algorithm;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">KEY</span> <span class="operator">=</span><span class="string">&quot;itheima&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getToken</span><span class="params">(Map&lt;String,Object&gt; objectMap)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.create()</span><br><span class="line">                .withClaim(<span class="string">&quot;claim&quot;</span>,objectMap).withExpiresAt(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis()+<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">12</span>))</span><br><span class="line">                .sign(Algorithm.HMAC256(KEY));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String,Object&gt; <span class="title function_">parseToken</span><span class="params">(String token)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.require(Algorithm.HMAC256(KEY)).build().verify(token).getClaim(<span class="string">&quot;claim&quot;</span>).asMap();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Md4Util"><a href="#Md4Util" class="headerlink" title="Md4Util"></a>Md4Util</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Md4Util</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">MD5</span><span class="params">(String s)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span>[] hexDigits = &#123; <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">byte</span>[] btInput = s.getBytes();</span><br><span class="line"></span><br><span class="line">            <span class="type">MessageDigest</span> <span class="variable">mdInst</span> <span class="operator">=</span> MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line"></span><br><span class="line">            mdInst.update(btInput);</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] md = mdInst.digest();</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> md.length;</span><br><span class="line">            <span class="type">char</span>[] str = <span class="keyword">new</span> <span class="title class_">char</span>[j * <span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; j; i++) &#123;</span><br><span class="line">                <span class="type">byte</span> <span class="variable">byte0</span> <span class="operator">=</span> md[i];</span><br><span class="line">                str[(k++)] = hexDigits[(byte0 &gt;&gt;&gt; <span class="number">4</span> &amp; <span class="number">0xF</span>)];</span><br><span class="line">                str[(k++)] = hexDigits[(byte0 &amp; <span class="number">0xF</span>)];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">convertMD5</span><span class="params">(String inStr)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] a = inStr.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++)&#123;</span><br><span class="line">            a[i] = (<span class="type">char</span>) (a[i] ^ <span class="string">&#x27;t&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ThreadLocalUtil"><a href="#ThreadLocalUtil" class="headerlink" title="ThreadLocalUtil"></a>ThreadLocalUtil</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ThreadLocal 工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadLocalUtil</span> &#123;</span><br><span class="line">    <span class="comment">//提供ThreadLocal对象,</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ThreadLocal</span> <span class="variable">THREAD_LOCAL</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据键获取值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (T) THREAD_LOCAL.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//存储键值对</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(Object value)</span>&#123;</span><br><span class="line">        THREAD_LOCAL.set(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//清除ThreadLocal 防止内存泄漏</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>&#123;</span><br><span class="line">        THREAD_LOCAL.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="exception-捕获resultmapping异常"><a href="#exception-捕获resultmapping异常" class="headerlink" title="exception 捕获resultmapping异常"></a>exception 捕获resultmapping异常</h2><h3 id="GlobalException"><a href="#GlobalException" class="headerlink" title="GlobalException"></a>GlobalException</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalException</span> &#123;</span><br><span class="line">    <span class="meta">@ExceptionHandler</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">hasException</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> Result.error(StringUtils.hasLength(e.getMessage())?e.getMessage():<span class="string">&quot;操作失败!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="interceptor"><a href="#interceptor" class="headerlink" title="interceptor"></a>interceptor</h2><h3 id="MyInterceptor"><a href="#MyInterceptor" class="headerlink" title="MyInterceptor"></a>MyInterceptor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.ThreadLocalUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span>  StringRedisTemplate stringRedisTemplate;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        System.out.println(token);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(token);</span><br><span class="line">            <span class="keyword">if</span>(s==<span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;当前token已经被删除！&quot;</span>);</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            Map&lt;String, Object&gt; claim = JwtUtil.parseToken(token);</span><br><span class="line">            System.out.println(claim);</span><br><span class="line">            ThreadLocalUtil.set(claim);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            response.setStatus(<span class="number">401</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);</span></span><br><span class="line">        ThreadLocalUtil.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><h3 id="MyConfig"><a href="#MyConfig" class="headerlink" title="MyConfig"></a>MyConfig</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.interceptor.MyInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MyInterceptor myInterceptor;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(myInterceptor).excludePathPatterns(<span class="string">&quot;/user/login&quot;</span>,<span class="string">&quot;/user/register&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="anno"><a href="#anno" class="headerlink" title="anno"></a>anno</h2><h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.anno;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.validation.StateValidation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.Constraint;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Repeatable;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Constraint;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Payload;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Constraint(</span></span><br><span class="line"><span class="meta">        validatedBy = &#123;StateValidation.class&#125;//指定提供校验规则的类</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> State &#123;</span><br><span class="line"><span class="comment">//    提供校验失败后的提示消息</span></span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;State属性只能是已发布或草稿&#125;&quot;</span>;</span><br><span class="line"><span class="comment">//    指定分组</span></span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"><span class="comment">//    获取state注解的附加消息</span></span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="validation"><a href="#validation" class="headerlink" title="validation"></a>validation</h2><h3 id="StateValidation"><a href="#StateValidation" class="headerlink" title="StateValidation"></a>StateValidation</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.validation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.anno.State;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.ConstraintValidator;</span><br><span class="line"><span class="keyword">import</span> javax.validation.ConstraintValidatorContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StateValidation</span> <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;State,String&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s, ConstraintValidatorContext constraintValidatorContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s.equals(<span class="string">&quot;已发布&quot;</span>)||s.equals(<span class="string">&quot;草稿&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h2><h3 id="ArticleController"><a href="#ArticleController" class="headerlink" title="ArticleController"></a>ArticleController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Article;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.PageBean;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.ArticleService;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Delete;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.annotation.Validated;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/article&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArticleController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ArticleService articleService;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">getList</span><span class="params">(<span class="meta">@RequestHeader(name=&quot;Authorization&quot;)</span>String token, HttpServletResponse response)</span>&#123;</span><br><span class="line"><span class="comment">//        try&#123;</span></span><br><span class="line"><span class="comment">//            Map&lt;String,Object&gt; claim = JwtUtil.parseToken(token);</span></span><br><span class="line">            <span class="keyword">return</span> Result.success(<span class="string">&quot;所有文章数据&quot;</span>);</span><br><span class="line"><span class="comment">//        &#125;catch (Exception e)&#123;</span></span><br><span class="line"><span class="comment">//            response.setStatus(401);</span></span><br><span class="line"><span class="comment">//            return Result.error(&quot;未登录&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated</span> Article article)</span>&#123;</span><br><span class="line">        articleService.add(article);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;PageBean&lt;Article&gt;&gt; <span class="title function_">list</span><span class="params">(Integer pageNum,Integer pageSize,</span></span><br><span class="line"><span class="params">                                          <span class="meta">@RequestParam(required = false)</span>String categoryId,</span></span><br><span class="line"><span class="params">                                          <span class="meta">@RequestParam(required = false)</span>String state)</span>&#123;</span><br><span class="line">        PageBean&lt;Article&gt; bean=articleService.list(pageNum,pageSize,categoryId,state);</span><br><span class="line">        <span class="keyword">return</span> Result.success(bean);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detail&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Article&gt; <span class="title function_">getOne</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        <span class="type">Article</span> <span class="variable">article</span> <span class="operator">=</span> articleService.getOne(id);</span><br><span class="line">        <span class="keyword">return</span> Result.success(article);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">updateOne</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated</span> Article article)</span>&#123;</span><br><span class="line">        articleService.updateOne(article);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        articleService.deleteOne(id);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CategoryController"><a href="#CategoryController" class="headerlink" title="CategoryController"></a>CategoryController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.ThreadLocalUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.annotation.Validated;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/category&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CategoryService categoryService;</span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated(Category.Add.class)</span> Category category)</span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">id</span> <span class="operator">=</span> (Integer) map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        category.setCreateUser(id);</span><br><span class="line">        categoryService.add(category);</span><br><span class="line">        System.out.println(category);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;List&lt;Category&gt;&gt; <span class="title function_">getAll</span><span class="params">()</span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">userId</span> <span class="operator">=</span> (Integer) map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        List&lt;Category&gt; all = categoryService.getAll(userId);</span><br><span class="line">        <span class="keyword">return</span> Result.success(all);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detail&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Category&gt; <span class="title function_">getOne</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        <span class="type">Category</span> <span class="variable">one</span> <span class="operator">=</span> categoryService.getOne(id);</span><br><span class="line">        <span class="keyword">return</span>  Result.success(one);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">updateOne</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated(Category.Update.class)</span> Category category)</span>&#123;</span><br><span class="line">        categoryService.updateOne(category);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@DeleteMapping()</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">deleteOne</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">        categoryService.deleteOne(id);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="FileUploadController"><a href="#FileUploadController" class="headerlink" title="FileUploadController"></a>FileUploadController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.AliOssUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileUploadController</span> &#123;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile multipartFile)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> multipartFile.getOriginalFilename();</span><br><span class="line">        <span class="type">String</span> <span class="variable">filename</span> <span class="operator">=</span> UUID.randomUUID().toString()+originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"><span class="comment">//        multipartFile.transferTo(new File(&quot;C:\\Users\\23224\\Desktop\\txt文档\\&quot;+filename));</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> AliOssUtil.uploadFile(filename, multipartFile.getInputStream());</span><br><span class="line">        <span class="keyword">return</span> Result.success(url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UserController"><a href="#UserController" class="headerlink" title="UserController"></a>UserController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.Md4Util;</span><br><span class="line"><span class="keyword">import</span> com.example.bigevent.util.ThreadLocalUtil;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.URL;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.annotation.Validated;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/register&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span> String username,<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span> String password)</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">        <span class="keyword">if</span> (byUsername == <span class="literal">null</span>)&#123;</span><br><span class="line">            userService.add(username,password);</span><br><span class="line">            <span class="keyword">return</span> Result.success();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;用户名重复&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@Pattern(regexp=&quot;^\\S&#123;5,16&#125;$&quot;)</span>String username,<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span>String password)</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">        <span class="keyword">if</span>(byUsername==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;用户不存在&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">ps</span> <span class="operator">=</span> Md4Util.MD5(password);</span><br><span class="line">            System.out.println(ps);</span><br><span class="line">            System.out.println(byUsername.getPassword());</span><br><span class="line">            <span class="keyword">if</span> (ps.equals(byUsername.getPassword()))&#123;</span><br><span class="line">                Map&lt;String,Object&gt; token = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">                token.put(<span class="string">&quot;username&quot;</span>,byUsername.getUsername());</span><br><span class="line">                token.put(<span class="string">&quot;id&quot;</span>,byUsername.getId());</span><br><span class="line">                <span class="type">String</span> <span class="variable">token1</span> <span class="operator">=</span> JwtUtil.getToken(token);</span><br><span class="line">                stringRedisTemplate.opsForValue().set(token1,token1,<span class="number">1</span>, TimeUnit.HOURS);</span><br><span class="line">                <span class="keyword">return</span> Result.success(token1);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> Result.error(<span class="string">&quot;密码错误&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/userInfo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;User&gt; <span class="title function_">getInfo</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        @RequestHeader(name=&quot;Authorization&quot;) String token</span></span><br><span class="line">        Map&lt;String, Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> (String)map.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span>userService.findByUsername(username);</span><br><span class="line">        <span class="keyword">return</span> Result.success(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateUser</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated</span> User user)</span>&#123;</span><br><span class="line">        userService.update(user);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PatchMapping(&quot;/updateAvatar&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateAvatar</span><span class="params">(<span class="meta">@RequestParam</span> <span class="meta">@URL</span> String avatarUrl)</span>&#123;</span><br><span class="line">        userService.updateAvatar(avatarUrl);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PatchMapping(&quot;/updatePwd&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updatePwd</span><span class="params">(<span class="meta">@RequestBody</span> Map&lt;String,String&gt;psw,<span class="meta">@RequestHeader(&quot;Authorization&quot;)</span>String token)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">oldPwd</span> <span class="operator">=</span> psw.get(<span class="string">&quot;old_pwd&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">newPwd</span> <span class="operator">=</span> psw.get(<span class="string">&quot;new_pwd&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">rePwd</span> <span class="operator">=</span> psw.get(<span class="string">&quot;re_pwd&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(oldPwd==<span class="literal">null</span>||newPwd==<span class="literal">null</span>||rePwd==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;缺少重要参数!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> (String)map.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">        <span class="type">String</span> <span class="variable">oldPwd1</span> <span class="operator">=</span> byUsername.getPassword();</span><br><span class="line">        <span class="keyword">if</span> (!oldPwd1.equals(Md4Util.MD5(oldPwd)))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;米：&quot;</span>+Md4Util.MD5(oldPwd));</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;与原密码不一致!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!newPwd.equals(rePwd))&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;两次输入的密码不一致!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        userService.updatePwd(newPwd);</span><br><span class="line">        stringRedisTemplate.opsForValue().getOperations().delete(token);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/big_event?serverTimezone=Asia/Shanghai&amp;characterEncoding=utf-8&amp;useSSL=false&amp;useUnicode=true</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">lettuce:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="number">100</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.235</span><span class="number">.128</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line"><span class="comment">#  configuration:</span></span><br><span class="line"><span class="comment">#    map-underscore-to-camel-case: true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="依赖导入"><a href="#依赖导入" class="headerlink" title="依赖导入"></a>依赖导入</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>big-event<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>big-event<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>java-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.bytebuddy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>byte-buddy<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.15.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.activation<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- no more than 2.3.3--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.glassfish.jaxb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-runtime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="启动类"><a href="#启动类" class="headerlink" title="启动类"></a>启动类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigEventApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(BigEventApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>密码加密工具类</title>
      <link href="/myBlog.github.io/2024/05/10/%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
      <url>/myBlog.github.io/2024/05/10/%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<h2 id="创建工具类"><a href="#创建工具类" class="headerlink" title="创建工具类"></a>创建工具类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Md4Util</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">MD5</span><span class="params">(String s)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span>[] hexDigits = &#123; <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">byte</span>[] btInput = s.getBytes();</span><br><span class="line"></span><br><span class="line">            <span class="type">MessageDigest</span> <span class="variable">mdInst</span> <span class="operator">=</span> MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line"></span><br><span class="line">            mdInst.update(btInput);</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] md = mdInst.digest();</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> md.length;</span><br><span class="line">            <span class="type">char</span>[] str = <span class="keyword">new</span> <span class="title class_">char</span>[j * <span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; j; i++) &#123;</span><br><span class="line">                <span class="type">byte</span> <span class="variable">byte0</span> <span class="operator">=</span> md[i];</span><br><span class="line">                str[(k++)] = hexDigits[(byte0 &gt;&gt;&gt; <span class="number">4</span> &amp; <span class="number">0xF</span>)];</span><br><span class="line">                str[(k++)] = hexDigits[(byte0 &amp; <span class="number">0xF</span>)];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">convertMD5</span><span class="params">(String inStr)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] a = inStr.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++)&#123;</span><br><span class="line">            a[i] = (<span class="type">char</span>) (a[i] ^ <span class="string">&#x27;t&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="调用工具类例子"><a href="#调用工具类例子" class="headerlink" title="调用工具类例子"></a>调用工具类例子</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@Pattern(regexp=&quot;^\\S&#123;5,16&#125;$&quot;)</span>String username,<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span>String password)</span>&#123;</span><br><span class="line">     <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">     <span class="keyword">if</span>(byUsername==<span class="literal">null</span>)&#123;</span><br><span class="line">         <span class="keyword">return</span> Result.error(<span class="string">&quot;用户不存在&quot;</span>);</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="comment">//这呢</span></span><br><span class="line">         <span class="type">String</span> <span class="variable">ps</span> <span class="operator">=</span> Md4Util.MD5(password);</span><br><span class="line">         System.out.println(ps);</span><br><span class="line">         System.out.println(byUsername.getPassword());</span><br><span class="line">         <span class="keyword">if</span> (ps.equals(byUsername.getPassword()))&#123;</span><br><span class="line">             Map&lt;String,Object&gt; token = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">             token.put(<span class="string">&quot;username&quot;</span>,byUsername.getUsername());</span><br><span class="line">             token.put(<span class="string">&quot;id&quot;</span>,byUsername.getId());</span><br><span class="line">             <span class="type">String</span> <span class="variable">token1</span> <span class="operator">=</span> JwtUtil.getToken(token);</span><br><span class="line">             stringRedisTemplate.opsForValue().set(token1,token1,<span class="number">1</span>, TimeUnit.HOURS);</span><br><span class="line">             <span class="keyword">return</span> Result.success(token1);</span><br><span class="line">         &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             <span class="keyword">return</span> Result.error(<span class="string">&quot;密码错误&quot;</span>);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云图片上传工具类</title>
      <link href="/myBlog.github.io/2024/05/10/%E9%98%BF%E9%87%8C%E4%BA%91%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
      <url>/myBlog.github.io/2024/05/10/%E9%98%BF%E9%87%8C%E4%BA%91%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%B7%A5%E5%85%B7%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<p><img src="/myBlog.github.io/img/%E9%98%BF%E9%87%8C%E4%BA%91.png" alt="这是图片"></p><h2 id="创建阿里云上传图片工具类"><a href="#创建阿里云上传图片工具类" class="headerlink" title="创建阿里云上传图片工具类"></a>创建阿里云上传图片工具类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSS;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.common.auth.*;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSSClientBuilder;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSSException;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.PutObjectRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.PutObjectResult;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliOssUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">BUCKET_NAME</span> <span class="operator">=</span> <span class="string">&quot;big-eventsfeng&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ENDPOINT</span> <span class="operator">=</span> <span class="string">&quot;https://oss-cn-beijing.aliyuncs.com&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ACCESS_KEY_ID</span> <span class="operator">=</span> <span class="string">&quot;LTAI5tRTZb2wyzYGfX3o8t1Q&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ACCESS_KEY_SECRET</span> <span class="operator">=</span><span class="string">&quot;W924sKtF4wsOmP3mT38l79r31kLDsC&quot;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">uploadFile</span><span class="params">(String objectName,InputStream inputStream)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            <span class="comment">// Endpoint以华东1（杭州）为例，其它Region请按实际情况填写。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 从环境变量中获取访问凭证。运行本代码示例之前，请确保已设置环境变量OSS_ACCESS_KEY_ID和OSS_ACCESS_KEY_SECRET。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            EnvironmentVariableCredentialsProvider credentialsProvider = CredentialsProviderFactory.newEnvironmentVariableCredentialsProvider();</span></span><br><span class="line">            <span class="comment">// 填写Bucket名称，例如examplebucket。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 填写Object完整路径，完整路径中不能包含Bucket名称，例如exampledir/exampleobject.txt。</span></span><br><span class="line"><span class="comment">//            String objectName = &quot;exampledir/exampleobject.txt&quot;;</span></span><br><span class="line">            <span class="comment">// 填写本地文件的完整路径，例如D:\\localpath\\examplefile.txt。</span></span><br><span class="line">            <span class="comment">// 如果未指定本地路径，则默认从示例程序所属项目对应本地路径中上传文件流。</span></span><br><span class="line"><span class="comment">//            String filePath= &quot;D:\\localpath\\examplefile.txt&quot;;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 创建OSSClient实例。</span></span><br><span class="line">            <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(ENDPOINT,ACCESS_KEY_ID,ACCESS_KEY_SECRET);</span><br><span class="line">            <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//                InputStream inputStream = new FileInputStream(filePath);</span></span><br><span class="line">                <span class="comment">// 创建PutObjectRequest对象。</span></span><br><span class="line">                <span class="type">PutObjectRequest</span> <span class="variable">putObjectRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PutObjectRequest</span>(BUCKET_NAME, objectName, inputStream);</span><br><span class="line">                <span class="comment">// 创建PutObject请求。</span></span><br><span class="line">                url = <span class="string">&quot;https://&quot;</span>+BUCKET_NAME+<span class="string">&quot;.&quot;</span>+ENDPOINT.substring(ENDPOINT.lastIndexOf(<span class="string">&quot;/&quot;</span>)+<span class="number">1</span>)+<span class="string">&quot;/&quot;</span>+objectName;</span><br><span class="line">                <span class="type">PutObjectResult</span> <span class="variable">result</span> <span class="operator">=</span> ossClient.putObject(putObjectRequest);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (OSSException oe) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Caught an OSSException, which means your request made it to OSS, &quot;</span></span><br><span class="line">                        + <span class="string">&quot;but was rejected with an error response for some reason.&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Message:&quot;</span> + oe.getErrorMessage());</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Code:&quot;</span> + oe.getErrorCode());</span><br><span class="line">                System.out.println(<span class="string">&quot;Request ID:&quot;</span> + oe.getRequestId());</span><br><span class="line">                System.out.println(<span class="string">&quot;Host ID:&quot;</span> + oe.getHostId());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClientException ce) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Caught an ClientException, which means the client encountered &quot;</span></span><br><span class="line">                        + <span class="string">&quot;a serious internal problem while trying to communicate with OSS, &quot;</span></span><br><span class="line">                        + <span class="string">&quot;such as not being able to access the network.&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Error Message:&quot;</span> + ce.getMessage());</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (ossClient != <span class="literal">null</span>) &#123;</span><br><span class="line">                    ossClient.shutdown();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="写好可调用上传功能的接口"><a href="#写好可调用上传功能的接口" class="headerlink" title="写好可调用上传功能的接口"></a>写好可调用上传功能的接口</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileUploadController</span> &#123;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile multipartFile)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> multipartFile.getOriginalFilename();</span><br><span class="line">        <span class="type">String</span> <span class="variable">filename</span> <span class="operator">=</span> UUID.randomUUID().toString()+originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"><span class="comment">//        multipartFile.transferTo(new File(&quot;C:\\Users\\23224\\Desktop\\txt文档\\&quot;+filename));</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> AliOssUtil.uploadFile(filename, multipartFile.getInputStream());</span><br><span class="line">        <span class="keyword">return</span> Result.success(url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue使用axios传递数据实现注册</title>
      <link href="/myBlog.github.io/2024/05/04/vue%E4%BD%BF%E7%94%A8axios%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C/"/>
      <url>/myBlog.github.io/2024/05/04/vue%E4%BD%BF%E7%94%A8axios%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux和redis基本使用</title>
      <link href="/myBlog.github.io/2024/05/04/linux%E5%92%8Credis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
      <url>/myBlog.github.io/2024/05/04/linux%E5%92%8Credis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><p>ifup ens160<br>ip addr</p><h3 id="ls-列出目标路径的内容"><a href="#ls-列出目标路径的内容" class="headerlink" title="ls 列出目标路径的内容"></a>ls 列出目标路径的内容</h3><p>ls[-a -l -h] [Linux路径]<br>-a意思是all的意思，列出全部文件(包括隐藏的文件)<br>-l以列表排列的形式显示内容<br>组合使用 (-a -l,-al, -la)显示全部并且以列表显示<br>-h与-l配合使用显示大小单位</p><h3 id="cd-切换当前工作目录-change-directory"><a href="#cd-切换当前工作目录-change-directory" class="headerlink" title="cd 切换当前工作目录 change directory"></a>cd 切换当前工作目录 change directory</h3><p>cd [Linux路径]如果不写路径会回到~目录</p><h3 id="pwd-查看当前所在的工作目录"><a href="#pwd-查看当前所在的工作目录" class="headerlink" title="pwd 查看当前所在的工作目录"></a>pwd 查看当前所在的工作目录</h3><p>pwd :print work directory</p><p>相对路径<br>以根目录为起点描述linux路径，开头必须写斜杠(&#x2F;)</p><p>绝对路径<br>以当前目录为起点描述linux路径，开头可不必写斜杠(&#x2F;)</p><p>路径表示符<br>. 表示当前目录<br>.. 表示上一级目录<br>~ 表示home目录</p><h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><p>mkdir命令可以创建新的目录(文件夹)<br>mkdir：Make Directory<br>mkdir [-p] linux路径<br>-p 自动创建不存在的父目录</p><p>ctrl+l一键清屏 clear</p><h3 id="touch创建文件"><a href="#touch创建文件" class="headerlink" title="touch创建文件"></a>touch创建文件</h3><p>touch linux路径 路径标识符可使用</p><h3 id="cat查看文件内容"><a href="#cat查看文件内容" class="headerlink" title="cat查看文件内容"></a>cat查看文件内容</h3><p>cat linux路径</p><h3 id="more查看文件内容支持翻页查找"><a href="#more查看文件内容支持翻页查找" class="headerlink" title="more查看文件内容支持翻页查找"></a>more查看文件内容支持翻页查找</h3><p>more linux路径<br>查看中通过空格翻页<br>按b上一页<br>按q退出</p><h3 id="cp-复制文件或文件夹"><a href="#cp-复制文件或文件夹" class="headerlink" title="cp 复制文件或文件夹"></a>cp 复制文件或文件夹</h3><p>cp：copy<br>cp [-r] 参数1 参数2<br>-r 用于复制文件夹时使用表示递归<br>参数1，linux路径，表示被复制方<br>参数2，linux路径，表示要复制方s</p><h3 id="mv命令实现文件移动"><a href="#mv命令实现文件移动" class="headerlink" title="mv命令实现文件移动"></a>mv命令实现文件移动</h3><p>mv 参数1 参数2<br>参数1，linux路径，表示被移动的文件或文件夹<br>参数2，linux路径，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在</p><h3 id="rm用于删除文件或文件夹"><a href="#rm用于删除文件或文件夹" class="headerlink" title="rm用于删除文件或文件夹"></a>rm用于删除文件或文件夹</h3><p>remove<br>rm[-r -f]参数1 参数2 ……参数N<br>-r删除文件夹<br>-f表示force 强行删除<br>rm命令支持通配符*,用来做模糊匹配<br><em>text 以text结尾<br>text</em> 以text开头<br><em>text</em> 包含text</p><h3 id="su-root切换为root用户"><a href="#su-root切换为root用户" class="headerlink" title="su - root切换为root用户"></a>su - root切换为root用户</h3><p>exit注销</p><h3 id="which查看一系列命令的程序文件存在那里"><a href="#which查看一系列命令的程序文件存在那里" class="headerlink" title="which查看一系列命令的程序文件存在那里"></a>which查看一系列命令的程序文件存在那里</h3><p>which 要查找的命令</p><h3 id="find-查找指定的文件"><a href="#find-查找指定的文件" class="headerlink" title="find 查找指定的文件"></a>find 查找指定的文件</h3><p>find 起始路径 -name “被查找的文件名”<br>可使用*通配符查询<br>find 起始路径 -size + n[kMG]<br>+，-表示大于小于<br>n表示大小数字<br>kMG表示大小单位,k(小写字母)表示kb,M表示MB，G表示GB<br>find &#x2F; -size +100k&amp;&amp;-200k</p><h3 id="grep从文件中通过关键字过滤文件行"><a href="#grep从文件中通过关键字过滤文件行" class="headerlink" title="grep从文件中通过关键字过滤文件行"></a>grep从文件中通过关键字过滤文件行</h3><p>grep [-n] 关键字 文件路径<br>-n 表示在结果中显示匹配的行的行号<br>参数，关键字，表示过滤的关键字，带有空格或其他特殊符号建议用双引号<br>参数，文件路径，表示要过滤内容和文件路径，可作为内容输入端口</p><h3 id="wc统计文件的行数，单词数量"><a href="#wc统计文件的行数，单词数量" class="headerlink" title="wc统计文件的行数，单词数量"></a>wc统计文件的行数，单词数量</h3><p>wc[-c -m -l -w] 文件路径<br>-c 统计bytes数量<br>-m 统计字符数量<br>-l 统计行数<br>-w 统计单词数量</p><h3 id="管道符"><a href="#管道符" class="headerlink" title="| 管道符"></a>| 管道符</h3><p>将管道左边命令的结果作文右边命令的输入<br>如 cat itheima.txt | grep itheima</p><h3 id="ps-ef-grep-redis"><a href="#ps-ef-grep-redis" class="headerlink" title="ps -ef | grep redis"></a>ps -ef | grep redis</h3><p>验证redis是否启动 并显示redis启动的编号<br>kill -9 1683 可以关闭对应的redis服务</p><h3 id="redis-server-redis-conf"><a href="#redis-server-redis-conf" class="headerlink" title="redis-server redis.conf"></a>redis-server redis.conf</h3><p>开启redis<br>redis-cli<br>AUTH 123456</p><h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><h3 id="通用操作"><a href="#通用操作" class="headerlink" title="通用操作"></a>通用操作</h3><p>set name key_name：创建一个key<br>keys:查询所有符合模板的key<br>DEL :删除一个指定的key<br>EXISTS:判断key是否存在<br>EXPIRE:给一个key设置有效期，<br>TTL:查看一个key的剩余有效期</p><h3 id="string类型"><a href="#string类型" class="headerlink" title="string类型"></a>string类型</h3><p>其value是字符串，不过根据字符串的格式不同，又可以分为3类<br>string ：普通字符串<br>int：整数可以自增加，自减<br>float：浮点类型，可以自增，自减<br>不管是那种格式，底层都是字节数组组成存储，只不过是编码方式不同，字符串类型的最大空间不能超过512m</p><h3 id="String中常见命令"><a href="#String中常见命令" class="headerlink" title="String中常见命令"></a>String中常见命令</h3><p>set:添加或修改已存在的string类型的键值对<br>get:根据key获取string类型的value<br>mset:批量添加多个string类型的键值对<br>mget:根据多个key获取多个string类型的value<br>incr:让一个整型的key自增1<br>incrby:让一个整数的key自增并指定步长，例如:incrby num 2让num值自增2<br>incrbyfloat:让一个浮点类型的数字自增并指定步长<br>setnx:添加一个string类型的键值对，前提是这个key不存在<br>setex:添加一个string键值对，并且指定有效期</p><h3 id="key的结构"><a href="#key的结构" class="headerlink" title="key的结构"></a>key的结构</h3><p>redis的key允许有多个单词形式组成，多个单词之间用’:’隔开，<br>项目名:业务名:类型:id<br>如果value是个java对象，则可以将对象序列化为json字符串存储</p><p>feng:product:1 ‘{“id”:1,”name”:”小米su7”}’</p><h3 id="hash类型"><a href="#hash类型" class="headerlink" title="hash类型"></a>hash类型</h3><p>其value是一个无序字典，类似java中的hashmap<br>hash结构可以将对象中的每个字段独立存储，可以针对单个字段做crud</p><p>常见命令有<br>hset key field value: 添加或者修改hash类型key的field的值<br>hget key field:获取一个hash类型的field的值<br>hmset:批量设置多个hash类型key的field的值<br>hmget:批量获取多个hash类型key的field的值<br>hgetall:获取一个hash类型的key中的所有的field和value<br>hkeys:获取一个hash类型的key中所有的field<br>hvals:获取一个hash类型的key中的所有value<br>hincrby:让一个hash类型key的字段值自增并指定步长<br>hsetnx:添加一个hash类型的key的field值，前提是这个field不存在，否则不执行</p><h3 id="list类型"><a href="#list类型" class="headerlink" title="list类型"></a>list类型</h3><p>redis中的list类型与java中的linkedlis类似，可以看做是一个双向链表结构，<br>既可以支持正向检索也可以支持反向检索<br>有序<br>元素可重复<br>插入和删除快<br>查询速度一般<br>lpush key element ：向列表左侧插入一个或多个元素<br>lpop key ：移除并返回列表左侧的第一个元素，没有则会返回null<br>rpush key element ：向右侧插入一个或多个元素<br>rpop key ：移除并返回列表右侧的第一个元素<br>lrange key star end ：返回一段角标范围内的所有元素<br>blpop和brpop：与lpop和rpop类似，只不过在没有元素时等待指定时间，而不是直接返回null<br>利用list模拟一个栈<br>模拟一个队列<br>模拟一个堵塞队列</p><h3 id="set类型"><a href="#set类型" class="headerlink" title="set类型"></a>set类型</h3><p>类似hashset，可以看做是一个value为null的hashmap<br>无序<br>元素不可重复<br>查找快<br>支持交集并集差集等功能<br>sadd key memeber ：向set中添加一个或多个元素<br>srem key memeber：移除set中的指定元素<br>scard key：返回set中元素个数<br>sismember key member ：判断一个元素是否存在与set中<br>smembers ：获取set中的所有元素<br>sinter key1 key2 ：求key1与key2的交集<br>sdiff key1 key2 ：求key1与key2的差集<br>sunion key1 key2 ：求key1和key2的并集</p><h3 id="sortedset类型"><a href="#sortedset类型" class="headerlink" title="sortedset类型"></a>sortedset类型</h3><p>类似java treeset 每个元素都带有一个score，可以基于score属性对元素排序，<br>可排序<br>元素不重复<br>查询速度快<br>经常被来实现排行榜</p><p>zadd key score member:添加一个或多个元素到sorted set<br>。。。。<br>批量删除<br>redis-cli -h 127.0.0.1 -p 6379 -a 123456  keys “eyJ*” | xargs redis-cli -h 127.0.0.1 -p 6379 -a 123456  del</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> redis </category>
          
          <category> spring框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue配置pinia携带请求头</title>
      <link href="/myBlog.github.io/2024/05/04/vue%E9%85%8D%E7%BD%AEpinia%E6%90%BA%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4/"/>
      <url>/myBlog.github.io/2024/05/04/vue%E9%85%8D%E7%BD%AEpinia%E6%90%BA%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4/</url>
      
        <content type="html"><![CDATA[<h2 id="安装pinia-和-piniaPluginPersistedstate"><a href="#安装pinia-和-piniaPluginPersistedstate" class="headerlink" title="安装pinia 和 piniaPluginPersistedstate"></a>安装pinia 和 piniaPluginPersistedstate</h2><p>在终端输入以下代码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br><span class="line">npm i pinia-plugin-persistedstate</span><br></pre></td></tr></table></figure><h2 id="在vue应用实例中使用pinia"><a href="#在vue应用实例中使用pinia" class="headerlink" title="在vue应用实例中使用pinia"></a>在vue应用实例中使用pinia</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createPinia&#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> piniaPluginPersistedstate <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(piniaPluginPersistedstate)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="在src-stores-token-js中定义store"><a href="#在src-stores-token-js中定义store" class="headerlink" title="在src&#x2F;stores&#x2F;token.js中定义store"></a>在src&#x2F;stores&#x2F;token.js中定义store</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> userTokenStore =  <span class="title function_">defineStore</span>(<span class="string">&quot;token&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">setToken</span> = (<span class="params">newToken</span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span>=newToken;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">removeToken</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        token.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        token,setToken,removeToken</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 防止浏览器刷新丢失数据</span></span><br><span class="line">        <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="在组键中使用store"><a href="#在组键中使用store" class="headerlink" title="在组键中使用store"></a>在组键中使用store</h2><p>在登录事件中创建token</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;userTokenStore&#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/token.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> userToken = <span class="title function_">userTokenStore</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">let</span> result =<span class="keyword">await</span> <span class="title function_">userLoginService</span>(loginData.<span class="property">value</span>)</span><br><span class="line">  <span class="comment">// if(result.code ===0)&#123;</span></span><br><span class="line">  <span class="comment">//   alert(result.msg?result.msg:&quot;登录成功&quot;)</span></span><br><span class="line">  <span class="comment">// &#125;else&#123;</span></span><br><span class="line">  <span class="comment">//   alert(&quot;登录失败&quot;)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(result.<span class="property">msg</span>?result.<span class="property">msg</span>:<span class="string">&quot;登录成功&quot;</span>)</span><br><span class="line">  <span class="comment">//创建token</span></span><br><span class="line">  userToken.<span class="title function_">setToken</span>(result.<span class="property">data</span>)</span><br><span class="line"><span class="comment">//   路由跳转</span></span><br><span class="line">  router.<span class="title function_">push</span>(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在请求拦截器中将pinia中token放入到请求头中，保证每次向后端请求数据都携带”Authorization”</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;userTokenStore&#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/token.js&quot;</span>;</span><br><span class="line"><span class="comment">// const baseURL = &quot;http://localhost:8080&quot;</span></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&quot;/api&quot;</span></span><br><span class="line"><span class="keyword">const</span> instance= axios.<span class="title function_">create</span>(&#123;baseURL&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">config</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> tokenStore = <span class="title function_">userTokenStore</span>()</span><br><span class="line">        <span class="keyword">if</span>(tokenStore.<span class="property">token</span>)&#123;</span><br><span class="line">            config.<span class="property">headers</span>.<span class="property">Authorization</span> = tokenStore.<span class="property">token</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;token缺失&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据可视化期中考试</title>
      <link href="/myBlog.github.io/2024/04/24/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%9C%9F%E4%B8%AD%E8%80%83%E8%AF%95/"/>
      <url>/myBlog.github.io/2024/04/24/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%9C%9F%E4%B8%AD%E8%80%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p><img src="/myBlog.github.io/img/%E6%9C%9F%E4%B8%AD%E8%80%83%E8%AF%95.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;jquery/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> =<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts1 =echarts.<span class="title function_">init</span>(box1)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> title1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.title1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChartTitle = echarts.<span class="title function_">init</span>(title1)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> optionTitle = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;今日订单总金额&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">20</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;4509834&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;11%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">40</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;订单成功占比&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;70%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">20</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;93.25%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;80%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">30</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;今日成交订单数&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;9%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;70%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">20</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;34220&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;10%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;80%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">30</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;今日成交订单数&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;89%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;70%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">20</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">                 &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">text</span>:<span class="string">&quot;2310&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&#x27;90%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">y</span>:<span class="string">&quot;80%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">30</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                 &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChartTitle.<span class="title function_">setOption</span>(optionTitle)</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option1 = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">text</span>: <span class="string">&#x27;购买用户设备分布&#x27;</span>,  </span></span><br><span class="line"><span class="language-javascript"><span class="attr">x</span>:<span class="string">&quot;19%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">top</span>: <span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">textStyle</span>: &#123;<span class="comment">//文字配置</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">  <span class="attr">fontSize</span>: <span class="number">20</span>,<span class="comment">//字号</span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">align</span>: <span class="string">&quot;center&quot;</span><span class="comment">//对齐方式</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">text</span>: <span class="string">&#x27;购买用户设备分布&#x27;</span>,  </span></span><br><span class="line"><span class="language-javascript"><span class="attr">x</span>:<span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">top</span>: <span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">textStyle</span>: &#123;<span class="comment">//文字配置</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">  <span class="attr">fontSize</span>: <span class="number">20</span>,<span class="comment">//字号</span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">align</span>: <span class="string">&quot;center&quot;</span><span class="comment">//对齐方式</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">text</span>: <span class="string">&#x27;购买用户设备分布&#x27;</span>,  </span></span><br><span class="line"><span class="language-javascript"><span class="attr">x</span>:<span class="string">&quot;80%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">top</span>: <span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">textStyle</span>: &#123;<span class="comment">//文字配置</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">  <span class="attr">fontSize</span>: <span class="number">20</span>,<span class="comment">//字号</span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">align</span>: <span class="string">&quot;center&quot;</span><span class="comment">//对齐方式</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">               </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;Access From&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>: [<span class="string">&#x27;30%&#x27;</span>, <span class="string">&#x27;50%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&#x27;25%&#x27;</span>,<span class="number">300</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// label: &#123;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     show: true,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     position: &#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontWeight</span>: <span class="string">&#x27;bold&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">name</span>:<span class="string">&#x27;Mac&#x27;</span>,<span class="attr">value</span>:<span class="number">1032</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">name</span>:<span class="string">&#x27;iphone&#x27;</span>,<span class="attr">value</span>:<span class="number">10096</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">name</span>:<span class="string">&#x27;ipad&#x27;</span>,<span class="attr">value</span>:<span class="number">1240</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>:<span class="string">&#x27;Android&#x27;</span>,<span class="attr">value</span>:<span class="number">15098</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>:<span class="string">&#x27;Windows&#x27;</span>,<span class="attr">value</span>:<span class="number">4098</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>:<span class="string">&#x27;其他&#x27;</span>,<span class="attr">value</span>:<span class="number">2656</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;Access From&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>: [<span class="string">&#x27;30%&#x27;</span>, <span class="string">&#x27;50%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&#x27;55%&#x27;</span>,<span class="number">300</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// label: &#123;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     show: true,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     position: &#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontWeight</span>: <span class="string">&#x27;bold&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>:<span class="string">&#x27;小于25岁&#x27;</span>,<span class="attr">value</span>:<span class="number">11045</span>&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;25岁到40岁&#x27;</span>,<span class="attr">value</span>:<span class="number">20230</span>&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;大于40岁&#x27;</span>,<span class="attr">value</span>:<span class="number">2945</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;Access From&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>: [<span class="string">&#x27;30%&#x27;</span>, <span class="string">&#x27;50%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&#x27;85%&#x27;</span>,<span class="number">300</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// label: &#123;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     show: true,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     position: &#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>: <span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontWeight</span>: <span class="string">&#x27;bold&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>:<span class="string">&#x27;小于25岁&#x27;</span>,<span class="attr">value</span>:<span class="number">11045</span>&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     &#123;<span class="attr">name</span>:<span class="string">&#x27;25岁到40岁&#x27;</span>,<span class="attr">value</span>:<span class="number">20230</span>&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     &#123;<span class="attr">name</span>:<span class="string">&#x27;大于40岁&#x27;</span>,<span class="attr">value</span>:<span class="number">2945</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option =&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">text</span>:<span class="string">&quot;订单top10城市&quot;</span>,<span class="attr">left</span>:<span class="string">&quot;25%&quot;</span>,<span class="attr">top</span>:<span class="string">&quot;1%&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">text</span>:<span class="string">&quot;订单量分时量显示&quot;</span>,<span class="attr">left</span>:<span class="string">&quot;75%&quot;</span>,<span class="attr">top</span>:<span class="string">&quot;1%&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">left</span>:<span class="string">&quot;5%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">width</span>:<span class="string">&quot;45%&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">left</span>:<span class="string">&quot;55%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">width</span>:<span class="string">&quot;45%&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: [<span class="string">&#x27;城市A&#x27;</span>,<span class="string">&#x27;城市B&#x27;</span>,<span class="string">&#x27;城市C&#x27;</span>,<span class="string">&#x27;城市D&#x27;</span>,<span class="string">&#x27;城市E&#x27;</span>,<span class="string">&#x27;城市F&#x27;</span>,<span class="string">&#x27;城市G&#x27;</span>,<span class="string">&#x27;城市H&#x27;</span>,<span class="string">&#x27;城市I&#x27;</span>,<span class="string">&#x27;城市J&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gridIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;value&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    splitLine :&#123;    <span class="comment">//网格线</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">color</span>: <span class="string">&#x27;#0000000D&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span>    <span class="comment">//设置网格线类型 dotted：虚线   solid:实线</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">show</span>:<span class="literal">true</span> <span class="comment">//隐藏或显示</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">boundaryGap</span>: [<span class="number">0</span>, <span class="number">0.01</span>],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">axisLabel</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">formatter</span>: <span class="string">&#x27;&#123;value&#125;件&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        splitLine :&#123;    <span class="comment">//网格线</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">color</span>: <span class="string">&#x27;#0000000D&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span>    <span class="comment">//设置网格线类型 dotted：虚线   solid:实线</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">show</span>:<span class="literal">true</span> <span class="comment">//隐藏或显示</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gridIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: [<span class="string">&#x27;0时&#x27;</span>,<span class="string">&#x27;1时&#x27;</span>,<span class="string">&#x27;2时&#x27;</span>,<span class="string">&#x27;3时&#x27;</span>,<span class="string">&#x27;4时&#x27;</span>,<span class="string">&#x27;5时&#x27;</span>,<span class="string">&#x27;6时&#x27;</span>,<span class="string">&#x27;7时&#x27;</span>,<span class="string">&#x27;8时&#x27;</span>,<span class="string">&#x27;9时&#x27;</span>,<span class="string">&#x27;10时&#x27;</span>,<span class="string">&#x27;11时&#x27;</span>,<span class="string">&#x27;12时&#x27;</span>,<span class="string">&#x27;13时&#x27;</span>,<span class="string">&#x27;14时&#x27;</span>,<span class="string">&#x27;15时&#x27;</span>,<span class="string">&#x27;16时&#x27;</span>,<span class="string">&#x27;17时&#x27;</span>,<span class="string">&#x27;18时&#x27;</span>,<span class="string">&#x27;19时&#x27;</span>,<span class="string">&#x27;20时&#x27;</span>,<span class="string">&#x27;21时&#x27;</span>,<span class="string">&#x27;22时&#x27;</span>,<span class="string">&#x27;23时&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;2011&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: [<span class="number">4320</span>,<span class="number">3529</span>,<span class="number">3105</span>,<span class="number">2304</span>,<span class="number">2094</span>,<span class="number">1790</span>,<span class="number">1565</span>,<span class="number">1120</span>,<span class="number">780</span>,<span class="number">409</span>]</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: [<span class="number">416</span>,<span class="number">385</span>,<span class="number">318</span>,<span class="number">184</span>,<span class="number">215</span>,<span class="number">265</span>,<span class="number">557</span>,<span class="number">954</span>,<span class="number">1627</span>,<span class="number">1180</span>,<span class="number">2416</span>,<span class="number">2678</span>,<span class="number">3021</span>,<span class="number">2590</span>,<span class="number">2100</span>,<span class="number">1809</span>,<span class="number">2300</span>,<span class="number">2539</span>],</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">smooth</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">markPoint</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">type</span>:<span class="string">&quot;max&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">type</span>:<span class="string">&quot;average&quot;</span>,<span class="attr">name</span>:<span class="string">&#x27;平均值&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">          ]</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxisIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxisIndex</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> user_distribution =  [[<span class="string">&quot;海门&quot;</span>, <span class="number">121.15</span>, <span class="number">31.89</span>, <span class="number">1192</span>], [<span class="string">&quot;鄂尔多斯&quot;</span>, <span class="number">109.781327</span>, <span class="number">39.608266</span>, <span class="number">1137</span>], [<span class="string">&quot;招远&quot;</span>, <span class="number">120.38</span>, <span class="number">37.35</span>, <span class="number">1709</span>], [<span class="string">&quot;舟山&quot;</span>, <span class="number">122.207216</span>, <span class="number">29.985295</span>, <span class="number">2333</span>], [<span class="string">&quot;齐齐哈尔&quot;</span>, <span class="number">123.97</span>, <span class="number">47.33</span>, <span class="number">1876</span>], [<span class="string">&quot;盐城&quot;</span>, <span class="number">120.13</span>, <span class="number">33.38</span>, <span class="number">1642</span>], [<span class="string">&quot;赤峰&quot;</span>, <span class="number">118.87</span>, <span class="number">42.28</span>, <span class="number">858</span>], [<span class="string">&quot;青岛&quot;</span>, <span class="number">120.33</span>, <span class="number">36.07</span>, <span class="number">699</span>], [<span class="string">&quot;乳山&quot;</span>, <span class="number">121.52</span>, <span class="number">36.89</span>, <span class="number">1141</span>], [<span class="string">&quot;金昌&quot;</span>, <span class="number">102.188043</span>, <span class="number">38.520089</span>, <span class="number">1407</span>], [<span class="string">&quot;泉州&quot;</span>, <span class="number">118.58</span>, <span class="number">24.93</span>, <span class="number">955</span>], [<span class="string">&quot;莱西&quot;</span>, <span class="number">120.53</span>, <span class="number">36.86</span>, <span class="number">1781</span>], [<span class="string">&quot;日照&quot;</span>, <span class="number">119.46</span>, <span class="number">35.42</span>, <span class="number">1139</span>], [<span class="string">&quot;胶南&quot;</span>, <span class="number">119.97</span>, <span class="number">35.88</span>, <span class="number">1619</span>], [<span class="string">&quot;南通&quot;</span>, <span class="number">121.05</span>, <span class="number">32.08</span>, <span class="number">1452</span>], [<span class="string">&quot;拉萨&quot;</span>, <span class="number">91.11</span>, <span class="number">29.97</span>, <span class="number">1438</span>], [<span class="string">&quot;云浮&quot;</span>, <span class="number">112.02</span>, <span class="number">22.93</span>, <span class="number">1784</span>], [<span class="string">&quot;梅州&quot;</span>, <span class="number">116.1</span>, <span class="number">24.55</span>, <span class="number">2456</span>], [<span class="string">&quot;文登&quot;</span>, <span class="number">122.05</span>, <span class="number">37.2</span>, <span class="number">862</span>], [<span class="string">&quot;上海&quot;</span>, <span class="number">121.4801</span>, <span class="number">31.2363</span>, <span class="number">2379</span>], [<span class="string">&quot;攀枝花&quot;</span>, <span class="number">101.718637</span>, <span class="number">26.582347</span>, <span class="number">2150</span>], [<span class="string">&quot;威海&quot;</span>, <span class="number">122.1</span>, <span class="number">37.5</span>, <span class="number">1780</span>], [<span class="string">&quot;承德&quot;</span>, <span class="number">117.93</span>, <span class="number">40.97</span>, <span class="number">1530</span>], [<span class="string">&quot;厦门&quot;</span>, <span class="number">118.1</span>, <span class="number">24.46</span>, <span class="number">1797</span>], [<span class="string">&quot;汕尾&quot;</span>, <span class="number">115.375279</span>, <span class="number">22.786211</span>, <span class="number">1768</span>], [<span class="string">&quot;潮州&quot;</span>, <span class="number">116.63</span>, <span class="number">23.68</span>, <span class="number">2211</span>]]</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box2 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box2)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> max =<span class="number">0</span> </span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;user_distribution.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(max&lt;user_distribution[i][<span class="number">3</span>])&#123;</span></span><br><span class="line"><span class="language-javascript">                max=user_distribution[i][<span class="number">3</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> min = max</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;user_distribution.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(min&gt;user_distribution[i][<span class="number">3</span>])&#123;</span></span><br><span class="line"><span class="language-javascript">                min=user_distribution[i][<span class="number">3</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(max)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(min)</span></span><br><span class="line"><span class="language-javascript">        $.<span class="title function_">get</span>(<span class="string">&quot;map/map/json/china.json&quot;</span>,<span class="keyword">function</span>(<span class="params">ret</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            echarts.<span class="title function_">registerMap</span>(<span class="string">&quot;china&quot;</span>,ret)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> option2=&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataset</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">source</span>:user_distribution</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">visualMap</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dimension</span>:<span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">align</span>:<span class="string">&#x27;left&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">calculable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:min,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:max,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&quot;24%&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">geo</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">map</span>:<span class="string">&#x27;china&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&quot;scatter&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// symbolSize:function(ret)&#123;</span></span></span><br><span class="line"><span class="language-javascript">                            </span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//     return ret[3]/50</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">coordinateSystem</span>:<span class="string">&#x27;geo&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">encode</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">lng</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">lat</span>:<span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        </span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option2)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">       </span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        myCharts.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">        myCharts1.<span class="title function_">setOption</span>(option1)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot分页查询</title>
      <link href="/myBlog.github.io/2024/04/24/springboot%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2/"/>
      <url>/myBlog.github.io/2024/04/24/springboot%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="1-在-sql-中使用-limit-进行分页查询"><a href="#1-在-sql-中使用-limit-进行分页查询" class="headerlink" title="1. 在 sql 中使用 limit 进行分页查询"></a>1. 在 sql 中使用 limit 进行分页查询</h1><p>用法：LIMIT [offset,] rows</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> article LIMIT <span class="number">10</span>, <span class="number">10</span></span><br></pre></td></tr></table></figure><p>offset 是相对于首行的偏移量（首行是 0），rows 是返回条数<br>mapper 中可以传变量，即在实际使用的时候 offset 与 rows 可以用变量替代</p><h1 id="2-使用第三方库进行分页查询"><a href="#2-使用第三方库进行分页查询" class="headerlink" title="2. 使用第三方库进行分页查询"></a>2. 使用第三方库进行分页查询</h1><h2 id="编写PageBean"><a href="#编写PageBean" class="headerlink" title="编写PageBean"></a>编写PageBean</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PageBean</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Long total;</span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="编写分页查询的路径"><a href="#编写分页查询的路径" class="headerlink" title="编写分页查询的路径"></a>编写分页查询的路径</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@GetMapping</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;PageBean&lt;Article&gt;&gt; <span class="title function_">list</span><span class="params">(Integer pageNum,Integer pageSize,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@RequestParam(required = false)</span>String categoryId,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@RequestParam(required = false)</span>String state)</span>&#123;</span><br><span class="line">    PageBean&lt;Article&gt; bean=articleService.list(pageNum,pageSize,categoryId,state);</span><br><span class="line">    <span class="keyword">return</span> Result.success(bean);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> PageBean&lt;Article&gt; <span class="title function_">list</span><span class="params">(Integer pageNum, Integer pageSize, String categoryId, String state)</span> &#123;</span><br><span class="line">    PageBean&lt;Article&gt; page = <span class="keyword">new</span> <span class="title class_">PageBean</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// 设置第几条记录开始，多少页记录为一页</span></span><br><span class="line">    PageHelper.startPage(pageNum,pageSize);</span><br><span class="line">    Map&lt;String,Object&gt; map = ThreadLocalUtil.get();</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">userId</span> <span class="operator">=</span>(Integer) map.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="comment">// 因为已经注册了 PageHelper插件，所以 PageHelper会在原 sql 语句上增加 limit，从而实现分页</span></span><br><span class="line">    List&lt;Article&gt; list = articleMapper.list(userId,categoryId,state);</span><br><span class="line">    Page&lt;Article&gt; p = (Page&lt;Article&gt;) list;</span><br><span class="line">    page.setTotal(p.getTotal());</span><br><span class="line">    page.setItems(p.getResult());</span><br><span class="line">    <span class="keyword">return</span> page;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">       select * from article</span><br><span class="line">       <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;categoryId!=null&quot;</span>&gt;</span></span><br><span class="line">               category_id =#&#123;categoryId&#125;</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;state!=null&quot;</span>&gt;</span></span><br><span class="line">               and state=#&#123;state&#125;</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">               and create_user =#&#123;userId&#125;</span><br><span class="line">       <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot和JWT</title>
      <link href="/myBlog.github.io/2024/04/14/springboot%E5%92%8CJWT/"/>
      <url>/myBlog.github.io/2024/04/14/springboot%E5%92%8CJWT/</url>
      
        <content type="html"><![CDATA[<h2 id="jwt的组成"><a href="#jwt的组成" class="headerlink" title="jwt的组成"></a>jwt的组成</h2><p>json web token<br>定义了一种简洁的,自包含的格式,用于通信双方以json数据格式安全的传输信息</p><h3 id="组成"><a href="#组成" class="headerlink" title="组成:"></a>组成:</h3><p>第一部分 Header(头) 纪录令牌类型，签名算法等<br>第二部分 Payload(有效载荷) 携带一些自定义信息，默认信息等<br>第三部分 Signature(签名) 防止token被篡改，确保安全性，将header，payload，并加入指定密钥，通过指定签名算法计算而来</p><h2 id="认证流程"><a href="#认证流程" class="headerlink" title="认证流程"></a>认证流程</h2><p>1.前端通过Web表单将自己的用户名和密码发送到后端的接口。该过程一般是HTTP的POST请求。建议的方式是通过SSL加密的传输(https协议)，从而避免敏感信息被嗅探。<br>2.后端核对用户名和密码成功后，将用户的id等其他信息作为JWT Payload(负载)，将其与头部分别进行Base64编码拼接后签名，形成一个JWT(Token)。<br>3.后端将JWT字符串作为登录成功的返回结果返回给前端。前端可以将返回的结果保存在localStorage（浏览器本地缓存）或sessionStorage（session缓存）上，退出登录时前端删除保存的JWT即可。<br>4.前端在每次请求时将JWT放入HTTP的Header中的Authorization位。(解决XSS和XSRF问题）HEADER<br>5.后端检查是否存在，如存在验证JWT的有效性。例如，检查签名是否正确﹔检查Token是否过期;检查Token的接收方是否是自己(可选）<br>6·验证通过后后端使用JWT中包含的用户信息进行其他逻辑操作，返回相应结果。<br><img src="/myBlog.github.io/img/jwt%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png" alt="这是图片"></p><h2 id="编写jwt工具类"><a href="#编写jwt工具类" class="headerlink" title="编写jwt工具类"></a>编写jwt工具类</h2><h3 id="依赖导入"><a href="#依赖导入" class="headerlink" title="依赖导入"></a>依赖导入</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>java-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.JWT;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.algorithms.Algorithm;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">KEY</span> <span class="operator">=</span><span class="string">&quot;itheima&quot;</span>;</span><br><span class="line">    <span class="comment">// 创建token的方法</span></span><br><span class="line">    <span class="comment">// withClaim添加有效载荷（存放内容的地方，可添加多个）</span></span><br><span class="line">    <span class="comment">// withExpiresAt设置有效时间</span></span><br><span class="line">    <span class="comment">// sign设置签名防盗</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getToken</span><span class="params">(Map&lt;String,Object&gt; objectMap)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.create()</span><br><span class="line">                .withClaim(<span class="string">&quot;claim&quot;</span>,objectMap).withExpiresAt(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis()+<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">12</span>))</span><br><span class="line">                .sign(Algorithm.HMAC256(KEY));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 验证token的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String,Object&gt; <span class="title function_">parseToken</span><span class="params">(String token)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.require(Algorithm.HMAC256(KEY)).build().verify(token).getClaim(<span class="string">&quot;claim&quot;</span>).asMap();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="登录界面创建token"><a href="#登录界面创建token" class="headerlink" title="登录界面创建token"></a>登录界面创建token</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@Pattern(regexp=&quot;^\\S&#123;5,16&#125;$&quot;)</span>String username,<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span>String password)</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">    <span class="keyword">if</span>(byUsername==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;用户不存在&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">ps</span> <span class="operator">=</span> Md4Util.MD5(password);</span><br><span class="line">        System.out.println(ps);</span><br><span class="line">        System.out.println(byUsername.getPassword());</span><br><span class="line">        <span class="keyword">if</span> (ps.equals(byUsername.getPassword()))&#123;</span><br><span class="line">            Map&lt;String,Object&gt; token = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            token.put(<span class="string">&quot;username&quot;</span>,byUsername.getUsername());</span><br><span class="line">            token.put(<span class="string">&quot;id&quot;</span>,byUsername.getId());</span><br><span class="line">            <span class="type">String</span> <span class="variable">token1</span> <span class="operator">=</span> JwtUtil.getToken(token);</span><br><span class="line">            stringRedisTemplate.opsForValue().set(token1,token1,<span class="number">1</span>, TimeUnit.HOURS);</span><br><span class="line">            <span class="keyword">return</span> Result.success(token1);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;密码错误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="与拦截器配合使用"><a href="#与拦截器配合使用" class="headerlink" title="与拦截器配合使用"></a>与拦截器配合使用</h2><h3 id="编写拦截器类"><a href="#编写拦截器类" class="headerlink" title="编写拦截器类"></a>编写拦截器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        System.out.println(token);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map&lt;String, Object&gt; claim = JwtUtil.parseToken(token);</span><br><span class="line">            System.out.println(claim);</span><br><span class="line">            ThreadLocalUtil.set(claim);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            response.setStatus(<span class="number">401</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);</span></span><br><span class="line">        ThreadLocalUtil.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="编写ThreadLocalUtil管理数据减少多余代码"><a href="#编写ThreadLocalUtil管理数据减少多余代码" class="headerlink" title="编写ThreadLocalUtil管理数据减少多余代码"></a>编写ThreadLocalUtil管理数据减少多余代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.bigevent.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ThreadLocal 工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadLocalUtil</span> &#123;</span><br><span class="line">    <span class="comment">//提供ThreadLocal对象,</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ThreadLocal</span> <span class="variable">THREAD_LOCAL</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据键获取值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (T) THREAD_LOCAL.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//存储键值对</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(Object value)</span>&#123;</span><br><span class="line">        THREAD_LOCAL.set(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//清除ThreadLocal 防止内存泄漏</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>&#123;</span><br><span class="line">        THREAD_LOCAL.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="配置拦截器"><a href="#配置拦截器" class="headerlink" title="配置拦截器"></a>配置拦截器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MyInterceptor myInterceptor;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(myInterceptor).excludePathPatterns(<span class="string">&quot;/user/login&quot;</span>,<span class="string">&quot;user/register&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot零散知识CommandLineRunner</title>
      <link href="/myBlog.github.io/2024/04/13/springboot%E9%9B%B6%E6%95%A3%E7%9F%A5%E8%AF%86CommandLineRunner/"/>
      <url>/myBlog.github.io/2024/04/13/springboot%E9%9B%B6%E6%95%A3%E7%9F%A5%E8%AF%86CommandLineRunner/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo15Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">run</span> <span class="operator">=</span> SpringApplication.run(Demo15Application.class, args);</span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">bean</span> <span class="operator">=</span> run.getBean(Teacher.class);</span><br><span class="line">        System.out.println(bean);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//在运行时执行</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    CommandLineRunner <span class="title function_">cmd</span><span class="params">(CompanyMapper companyMapper)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> args -&gt; &#123;</span><br><span class="line">            List&lt;Company&gt; companies = companyMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">for</span> (Company company:companies)&#123;</span><br><span class="line">                System.out.println(company);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot@Validation,@Pattern</title>
      <link href="/myBlog.github.io/2024/04/13/springboot-Validation-Pattern/"/>
      <url>/myBlog.github.io/2024/04/13/springboot-Validation-Pattern/</url>
      
        <content type="html"><![CDATA[<h1 id="Validation基本使用"><a href="#Validation基本使用" class="headerlink" title="@Validation基本使用"></a>@Validation基本使用</h1><p>@Validation主要功能是可以在controller层开启数据校验功能<br>@validated如果要开启方法验证。注解应该打在类上，而不是方法参数上。</p><h2 id="Validation配合-Pattern使用"><a href="#Validation配合-Pattern使用" class="headerlink" title="@Validation配合@Pattern使用"></a>@Validation配合@Pattern使用</h2><p>下文register方法形参中的@Pattern(regexp &#x3D; “^\S{5,16}$”) String username表示当访问&#x2F;register路径携带的username&#x2F;password参数小于5或16是会报异常,该方法中之所以没去捕获异常是因为我们已经利用@ExceptionHandler,@RestControllerAdvice注解统一处理了异常<br>如果将@Validated删除@Pattern将没有作用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/register&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span> String username,<span class="meta">@Pattern(regexp = &quot;^\\S&#123;5,16&#125;$&quot;)</span> String password)</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">byUsername</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line">        <span class="keyword">if</span> (byUsername == <span class="literal">null</span>)&#123;</span><br><span class="line">            userService.add(username,password);</span><br><span class="line">            <span class="keyword">return</span> Result.success();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;用户名重复&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="其他的注解"><a href="#其他的注解" class="headerlink" title="其他的注解"></a>其他的注解</h2><table><thead><tr><th align="left">限制</th><th align="right">说明</th></tr></thead><tbody><tr><td align="left">@Null</td><td align="right">限制只能为null</td></tr><tr><td align="left">@NotNull</td><td align="right">限制必须不为null</td></tr><tr><td align="left">@AssertFalse</td><td align="right">限制必须为false</td></tr><tr><td align="left">@AssertTrue</td><td align="right">限制必须为true</td></tr><tr><td align="left">@DecimalMax(value)</td><td align="right">限制必须为一个不大于指定值的数字</td></tr><tr><td align="left">@DecimalMin(value)</td><td align="right">限制必须为一个不小于指定值的数字</td></tr><tr><td align="left">@Digits(integer,fraction)</td><td align="right">限制必须为一个小数，且整数部分的位数不能超过integer，小数部分的位数不能超过fraction</td></tr><tr><td align="left">@Future</td><td align="right">限制必须是一个将来的日期</td></tr><tr><td align="left">@Max(value)</td><td align="right">限制必须为一个不大于指定值的数字</td></tr><tr><td align="left">@Min(value)</td><td align="right">限制必须为一个不小于指定值的数字</td></tr><tr><td align="left">@Past</td><td align="right">限制必须是一个过去的日期</td></tr><tr><td align="left">@Pattern(value)</td><td align="right">限制必须符合指定的正则表达式</td></tr><tr><td align="left">@Size(max,min)</td><td align="right">限制字符长度必须在min到max之间</td></tr><tr><td align="left">@Past</td><td align="right">验证注解的元素值（日期类型）比当前时间早</td></tr><tr><td align="left">@NotEmpty</td><td align="right">验证注解的元素值不为null且不为空（字符串长度不为0、集合大小不为0)</td></tr><tr><td align="left">@NotBlank</td><td align="right">验证注解的元素值不为空（不为null、去除首位空格后长度为0），不同于@NotEmpty，@NotBlank只应用于字符串且在比较时会去除字符串的空格</td></tr><tr><td align="left">@Email</td><td align="right">验证注解的元素值是Email，也可以通过正则表达式和flag指定自定义的email格式</td></tr></tbody></table><h2 id="分组校验"><a href="#分组校验" class="headerlink" title="分组校验"></a>分组校验</h2><p>把校验项进行归类分组，在完成不同功能的时候，校验指定组中的校验项<br>1.定义校验<br>2.定义校验项时指定归属的分组<br>3.校验时指定要校验的分组</p><h3 id="定义校验"><a href="#定义校验" class="headerlink" title="定义校验"></a>定义校验</h3><p>在实体类中编写两个接口，这两个接口就好像标签一样，标记出两个校验</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Add</span> <span class="keyword">extends</span> <span class="title class_">Default</span> &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Update</span> <span class="keyword">extends</span> <span class="title class_">Default</span>&#123;&#125;</span><br><span class="line"> <span class="comment">//如果说某个校验项没有指定分组,默认属于Default分组</span></span><br><span class="line"><span class="comment">//分组之间可以继承, A extends B  那么A中拥有B中所有的校验项</span></span><br></pre></td></tr></table></figure><h3 id="指定归属"><a href="#指定归属" class="headerlink" title="指定归属"></a>指定归属</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">    <span class="meta">@NotNull(groups = Update.class)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;<span class="comment">//主键ID</span></span><br><span class="line">    <span class="comment">// ...</span></span><br></pre></td></tr></table></figure><h3 id="校验时指定分组"><a href="#校验时指定分组" class="headerlink" title="校验时指定分组"></a>校验时指定分组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="comment">//@Validated(Category.Update.class)指定</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Object&gt; <span class="title function_">updateOne</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Validated(Category.Update.class)</span> Category category)</span>&#123;</span><br><span class="line">        categoryService.updateOne(category);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot@ExceptionHandler,@RestControllerAdvice</title>
      <link href="/myBlog.github.io/2024/04/13/springboot-ExceptionHandler-RestControllerAdvice/"/>
      <url>/myBlog.github.io/2024/04/13/springboot-ExceptionHandler-RestControllerAdvice/</url>
      
        <content type="html"><![CDATA[<h1 id="springboot-ExceptionHandler-RestControllerAdvice"><a href="#springboot-ExceptionHandler-RestControllerAdvice" class="headerlink" title="springboot@ExceptionHandler,@RestControllerAdvice"></a>springboot@ExceptionHandler,@RestControllerAdvice</h1><h2 id="RestControllerAdvice"><a href="#RestControllerAdvice" class="headerlink" title="@RestControllerAdvice"></a>@RestControllerAdvice</h2><p>@RestControllerAdvice是一个组合注解，由@ControllerAdvice、@ResponseBody组成，而@ControllerAdvice继承了@Component，因此@RestControllerAdvice本质上是个Component，用于定义@ExceptionHandler，@InitBinder和@ModelAttribute方法，适用于所有使用@RequestMapping方法。</p><h3 id="RestControllerAdvice的特点："><a href="#RestControllerAdvice的特点：" class="headerlink" title="@RestControllerAdvice的特点："></a>@RestControllerAdvice的特点：</h3><p>1.通过@ControllerAdvice注解可以将对于控制器的全局配置放在同一个位置。<br>2.注解了@RestControllerAdvice的类的方法可以使用@ExceptionHandler、@InitBinder、@ModelAttribute注解到方法上。<br>3.@RestControllerAdvice注解将作用在所有注解了@RequestMapping的控制器的方法上。<br>4.@ExceptionHandler：用于指定异常处理方法。当与@RestControllerAdvice配合使用时，用于全局处理控制器里的异常。<br>5.@InitBinder：用来设置WebDataBinder，用于自动绑定前台请求参数到Model中。<br>6.@ModelAttribute：本来作用是绑定键值对到Model中，当与@ControllerAdvice配合使用时，可以让全局的@RequestMapping</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalException</span> &#123;</span><br><span class="line">    <span class="meta">@ExceptionHandler</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">hasException</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> Result.error(StringUtils.hasLength(e.getMessage())?e.getMessage():<span class="string">&quot;操作失败!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ExceptionHandler"><a href="#ExceptionHandler" class="headerlink" title="@ExceptionHandler"></a>@ExceptionHandler</h2><p>和@RestControllerAdvice配合使用，当我们使用这个@ExceptionHandler注解时，我们需要定义一个异常的处理方法，给这个方法加上@ExceptionHandler注解，这个方法就会处理类中其他方法（被@RequestMapping注解）抛出的异常。</p><h3 id="2，注解的参数"><a href="#2，注解的参数" class="headerlink" title="2，注解的参数"></a>2，注解的参数</h3><p>@ExceptionHandler注解中可以添加参数，参数是某个异常类的class，代表这个方法专门处理该类异常，比如这样：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler(NumberFormatException.class)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">handleExeption</span><span class="params">(Exception ex)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;抛异常了:&quot;</span> + ex);</span><br><span class="line">    ex.printStackTrace();</span><br><span class="line">    <span class="type">String</span> <span class="variable">resultStr</span> <span class="operator">=</span> <span class="string">&quot;异常：NumberFormatException&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> resultStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时注解的参数是NumberFormatException.class，表示只有方法抛出NumberFormatException时，才会调用该方法。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>旭日图,仪表盘,多Radar图,数据集</title>
      <link href="/myBlog.github.io/2024/04/08/%E6%97%AD%E6%97%A5%E5%9B%BE-%E4%BB%AA%E8%A1%A8%E7%9B%98-%E5%A4%9ARadar%E5%9B%BE/"/>
      <url>/myBlog.github.io/2024/04/08/%E6%97%AD%E6%97%A5%E5%9B%BE-%E4%BB%AA%E8%A1%A8%E7%9B%98-%E5%A4%9ARadar%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="旭日图"><a href="#旭日图" class="headerlink" title="旭日图"></a>旭日图</h1><p><img src="/myBlog.github.io/img/%E6%97%AD%E6%97%A5%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;sunburst&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&#x27;Grandpa&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">children</span>: [</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>: <span class="string">&#x27;Uncle Leo&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">value</span>: <span class="number">15</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">children</span>:[</span></span><br><span class="line"><span class="language-javascript">                                    &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">name</span>: <span class="string">&#x27;Cousin Jack&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">value</span>: <span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                                    &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">name</span>: <span class="string">&#x27;Cousin Mary&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">value</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">children</span>:[</span></span><br><span class="line"><span class="language-javascript">                                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                                <span class="attr">name</span>: <span class="string">&#x27;Jackson&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                                <span class="attr">value</span>: <span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                                            &#125;</span></span><br><span class="line"><span class="language-javascript">                                        ]</span></span><br><span class="line"><span class="language-javascript">                                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                                    &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">name</span>: <span class="string">&#x27;Cousin Ben&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">value</span>: <span class="number">4</span></span></span><br><span class="line"><span class="language-javascript">                                    &#125;</span></span><br><span class="line"><span class="language-javascript">                                ]</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>: <span class="string">&#x27;Father&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">value</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">children</span>:[</span></span><br><span class="line"><span class="language-javascript">                                    &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">name</span>:<span class="string">&#x27;me&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">value</span>:<span class="number">5</span></span></span><br><span class="line"><span class="language-javascript">                                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                                    &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">name</span>: <span class="string">&#x27;Brother Peter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">value</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                                    &#125;</span></span><br><span class="line"><span class="language-javascript">                                ]</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&#x27;Nancy&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">children</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;Uncle Nike&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">children</span>: [</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>: <span class="string">&#x27;Cousin Betty&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">value</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>: <span class="string">&#x27;Cousin Jenny&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">value</span>: <span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            ]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">radius</span>: [<span class="number">0</span>, <span class="string">&#x27;90%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rotate</span>: <span class="string">&#x27;radial&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myCharts.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="仪表盘"><a href="#仪表盘" class="headerlink" title="仪表盘"></a>仪表盘</h1><p><img src="/myBlog.github.io/img/%E4%BB%AA%E8%A1%A8%E7%9B%98.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">backgroundColor</span>:<span class="string">&quot;rgba(128,128,128,0.1)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>:<span class="string">&quot;&#123;b&#125;:&#123;c&#125;%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">backgroundColor</span>:<span class="string">&quot;rgba(255,0,0,0.8)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">borderColor</span>:<span class="string">&quot;#333&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">borderWidth</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">padding</span>:<span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// textStyle:&#123;</span></span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;项目实际完成率(%)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>:<span class="number">25</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">offsetCenter</span>:[<span class="number">50</span>,<span class="string">&quot;20%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontFamily</span>:<span class="string">&quot;黑体&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;blue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontSize</span>:<span class="number">20</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&quot;单仪表盘示例&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;gauge&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&#x27;80%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;50%&quot;</span>,<span class="string">&quot;55%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">startAngle</span>:<span class="number">225</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">endAngle</span>:-<span class="number">45</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">clockwise</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitNumber</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axisLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>:[</span></span><br><span class="line"><span class="language-javascript">                                [<span class="number">0.2</span>,<span class="string">&quot;rgba(255,0,0,1)&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                                [<span class="number">0.8</span>,<span class="string">&quot;rgba(0,255,255,1)&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                                [<span class="number">1</span>,<span class="string">&quot;rgba(0,255,0,1)&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">                            ],</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">width</span>:<span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowBlur</span>:<span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowColor</span>:<span class="string">&#x27;#fff&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">length</span>:<span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>:<span class="string">&#x27;#eee&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">width</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowBlur</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowColor</span>:<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axisTick</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">splitNumber</span>:<span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">length</span>:<span class="number">8</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>:<span class="string">&#x27;#eee&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowBlue</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">shadowColor</span>:<span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">distance</span>:<span class="number">25</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;blue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">32</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">formatter</span>:<span class="string">&quot;&#123;value&#125;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">pointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">length</span>:<span class="string">&quot;70%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">9</span>,</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;auto&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">borderWidth</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">borderType</span>:<span class="string">&quot;solid&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">borderColor</span>:<span class="string">&quot;#000&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowBlue</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowColor</span>:<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">detail</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">offsetCenter</span>:[<span class="number">0</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&#x27;auto&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">fontSize</span>:<span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">formatter</span>:<span class="string">&quot;&#123;value&#125;%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;完成率(%)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:<span class="number">50</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>[<span class="number">0</span>].<span class="property">value</span>=(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>)</span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option,<span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,<span class="number">2000</span>)</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="多仪表盘"><a href="#多仪表盘" class="headerlink" title="多仪表盘"></a>多仪表盘</h1><p><img src="/myBlog.github.io/img/%E5%A4%9A%E4%BB%AA%E8%A1%A8%E7%9B%98.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>:<span class="string">&quot;&#123;a&#125;&lt;br/&gt;&#123;c&#125;&#123;b&#125;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;速度&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;gauge&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">z</span>:<span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">220</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitNumber</span>:<span class="number">22</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;60%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">offsetCenter</span>:[<span class="number">0</span>,<span class="string">&quot;-30%&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">detail</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">fontWeight</span>:<span class="string">&quot;bolder&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:<span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&quot;车速(km/h)&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;转速&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;gauge&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;28%&quot;</span>,<span class="string">&quot;55%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;35%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">7</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">endAngle</span>:<span class="number">45</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitNumber</span>:<span class="number">7</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">pointer</span>:&#123;<span class="attr">width</span>:<span class="number">5</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">offsetCenter</span>:[<span class="number">10</span>,<span class="string">&quot;-20%&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">detail</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">fontWeight</span>:<span class="string">&quot;bolder&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[&#123;<span class="attr">value</span>:<span class="number">1.5</span>,<span class="attr">name</span>:<span class="string">&#x27;转速(x1000 r/min)&#x27;</span>&#125;]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&quot;油表&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;gauge&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;70%&quot;</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;25%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">startAngle</span>:<span class="number">135</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">endAngle</span>:<span class="number">45</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitNumber</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">pointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">4</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">v</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">switch</span>(v+<span class="string">&#x27;&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>:<span class="keyword">return</span> <span class="string">&#x27;E&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;油表&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;F&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">detail</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">value</span>:<span class="number">0.5</span>,<span class="attr">name</span>:<span class="string">&#x27;gas&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;水表&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;gauge&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;70%&quot;</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;25%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">startAngle</span>:<span class="number">315</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">endAngle</span>:<span class="number">225</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">splitNumber</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">pointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">v</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">switch</span>(v+<span class="string">&#x27;&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;H&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;水表&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;C&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">detail</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:<span class="number">0.5</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;gas&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>[<span class="number">0</span>].<span class="property">value</span> = (<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>) -<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">1</span>].<span class="property">data</span>[<span class="number">0</span>].<span class="property">value</span> = (<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">7</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>) -<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">2</span>].<span class="property">data</span>[<span class="number">0</span>].<span class="property">value</span> = (<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">2</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>) -<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">3</span>].<span class="property">data</span>[<span class="number">0</span>].<span class="property">value</span> = (<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">2</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>) -<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option,<span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,<span class="number">2000</span>)</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="多雷达图"><a href="#多雷达图" class="headerlink" title="多雷达图"></a>多雷达图</h1><p><img src="/myBlog.github.io/img/%E5%A4%9A%E9%9B%B7%E8%BE%BE%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">visualMap</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="string">&quot;47%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>:<span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">calculable</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">radar</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;50%&quot;</span>,<span class="string">&quot;20%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;25%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">indicator</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;品牌&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;内容&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;可用性&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;功能&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;50%&quot;</span>,<span class="string">&quot;60%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:<span class="string">&quot;25%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">indicator</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;品牌&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;内容&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;可用性&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">text</span>:<span class="string">&#x27;功能&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">max</span>:<span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;radar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;软件&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:[<span class="number">65</span>,<span class="number">72</span>,<span class="number">88</span>,<span class="number">80</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;radar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radarIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;软件&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:[<span class="number">65</span>,<span class="number">72</span>,<span class="number">88</span>,<span class="number">80</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;软件s&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:[<span class="number">55</span>,<span class="number">42</span>,<span class="number">87</span>,<span class="number">60</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot 事务</title>
      <link href="/myBlog.github.io/2024/04/08/springboot-%E4%BA%8B%E5%8A%A1/"/>
      <url>/myBlog.github.io/2024/04/08/springboot-%E4%BA%8B%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot JPA</title>
      <link href="/myBlog.github.io/2024/04/08/springboot-JPA/"/>
      <url>/myBlog.github.io/2024/04/08/springboot-JPA/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot自动配置</title>
      <link href="/myBlog.github.io/2024/04/07/springboot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE/"/>
      <url>/myBlog.github.io/2024/04/07/springboot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Springboot的自动装配"><a href="#Springboot的自动装配" class="headerlink" title="Springboot的自动装配"></a>Springboot的自动装配</h1><h2 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h2><p>在启动类中有@SpringBootApplication注解,点开@SpringBootApplication的源码我们发现<br>它是由多个注解组合成的一个注解,其中@SpringBootConfiguration也是个组合注解,表示该类为配置类<br>而@EnableAutoConfiguratio才是自动配置的核心注解</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span></span><br><span class="line"><span class="meta">@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication &#123;</span><br><span class="line">    <span class="comment">///...代码省略</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="EnableAutoConfiguratio"><a href="#EnableAutoConfiguratio" class="headerlink" title="@EnableAutoConfiguratio"></a>@EnableAutoConfiguratio</h2><p>点开@EnableAutoConfiguration可以发现一个@Import注解,也就是说这里可以导入一个或多个配置类<br>接着在查看AutoConfigurationImportSelector.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@AutoConfigurationPackage</span></span><br><span class="line"><span class="meta">@Import(AutoConfigurationImportSelector.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EnableAutoConfiguration &#123;</span><br><span class="line">     <span class="comment">///...代码省略</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AutoConfigurationImportSelector"><a href="#AutoConfigurationImportSelector" class="headerlink" title="AutoConfigurationImportSelector"></a>AutoConfigurationImportSelector</h2><p>可以发现他实现了一个DeferredImportSelector接口,而DeferredImportSelector接口继承了ImportSelector接口<br>这说明AutoConfigurationImportSelector是实现ImportSelector接口的类<br>也就是AutoConfigurationImportSelector可以通过selectImports方法返回多个配置类到@EnableAutoConfiguratio的@import注解中<br>在以下代码中可以看出返回值的数据源是通过getAutoConfigurationEntry方法获取的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AutoConfigurationImportSelector</span> <span class="keyword">implements</span> <span class="title class_">DeferredImportSelector</span>, BeanClassLoaderAware,</span><br><span class="line">ResourceLoaderAware, BeanFactoryAware, EnvironmentAware, Ordered &#123;</span><br><span class="line">    <span class="comment">///...代码省略</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String[] selectImports(AnnotationMetadata annotationMetadata) &#123;</span><br><span class="line"><span class="keyword">if</span> (!isEnabled(annotationMetadata)) &#123;</span><br><span class="line"><span class="keyword">return</span> NO_IMPORTS;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">AutoConfigurationEntry</span> <span class="variable">autoConfigurationEntry</span> <span class="operator">=</span> getAutoConfigurationEntry(annotationMetadata);</span><br><span class="line"><span class="keyword">return</span> StringUtils.toStringArray(autoConfigurationEntry.getConfigurations());</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">///...代码省略</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="点开getAutoConfigurationEntry方法"><a href="#点开getAutoConfigurationEntry方法" class="headerlink" title="点开getAutoConfigurationEntry方法"></a>点开getAutoConfigurationEntry方法</h2><p>getAutoConfigurationEntry是AutoConfigurationImportSelector中的方法<br>点开getCandidateConfigurations方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> AutoConfigurationEntry <span class="title function_">getAutoConfigurationEntry</span><span class="params">(AnnotationMetadata annotationMetadata)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!isEnabled(annotationMetadata)) &#123;</span><br><span class="line"><span class="keyword">return</span> EMPTY_ENTRY;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">AnnotationAttributes</span> <span class="variable">attributes</span> <span class="operator">=</span> getAttributes(annotationMetadata);</span><br><span class="line">List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);</span><br><span class="line">configurations = removeDuplicates(configurations);</span><br><span class="line">Set&lt;String&gt; exclusions = getExclusions(annotationMetadata, attributes);</span><br><span class="line">checkExcludedClasses(configurations, exclusions);</span><br><span class="line">configurations.removeAll(exclusions);</span><br><span class="line">configurations = getConfigurationClassFilter().filter(configurations);</span><br><span class="line">fireAutoConfigurationImportEvents(configurations, exclusions);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AutoConfigurationEntry</span>(configurations, exclusions);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="getCandidateConfigurations方法"><a href="#getCandidateConfigurations方法" class="headerlink" title="getCandidateConfigurations方法"></a>getCandidateConfigurations方法</h2><p>getCandidateConfigurations是AutoConfigurationImportSelector中的方法<br>我们可以发现META-INF&#x2F;spring&#x2F;org.springframework.boot.autoconfigure.AutoConfiguration.imports的路径<br>也就是说selectImports方法返回值中的数据是来自AutoConfiguration.imports这个文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> List&lt;String&gt; <span class="title function_">getCandidateConfigurations</span><span class="params">(AnnotationMetadata metadata, AnnotationAttributes attributes)</span> &#123;</span><br><span class="line">List&lt;String&gt; configurations = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(</span><br><span class="line">SpringFactoriesLoader.loadFactoryNames(getSpringFactoriesLoaderFactoryClass(), getBeanClassLoader()));</span><br><span class="line">ImportCandidates.load(AutoConfiguration.class, getBeanClassLoader()).forEach(configurations::add);</span><br><span class="line">Assert.notEmpty(configurations,</span><br><span class="line"><span class="string">&quot;No auto configuration classes found in META-INF/spring.factories nor in META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports. If you &quot;</span></span><br><span class="line">+ <span class="string">&quot;are using a custom packaging, make sure that file is correct.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> configurations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AutoConfiguration-imports"><a href="#AutoConfiguration-imports" class="headerlink" title="AutoConfiguration.imports"></a>AutoConfiguration.imports</h2><p>在AutoConfiguration.imports有许多自动配置类的全类名<br>我们拿DispatcherServletAutoConfiguration举例<br>DispatcherServletAutoConfiguration中通过注解可以发现他是个配置类，其中有一个注解是@ConditionalOnClass(DispatcherServlet.Class)也就是在当前环境中有DispatcherServlet的类该配置类生效<br>DispatcherServletAutoConfiguration中有个DispatcherServletConfiguration配置类，且该配置类中有一个dispatcherServlet方法，返回了一个dispatcherServlet类，并且该方法添加了@Bean从而生成了DispatcherServlet做到了自动配置</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)</span></span><br><span class="line"><span class="meta">@AutoConfiguration(after = ServletWebServerFactoryAutoConfiguration.class)</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(type = Type.SERVLET)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(DispatcherServlet.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DispatcherServletAutoConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">///...代码省略</span></span><br><span class="line">    <span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@Conditional(DefaultDispatcherServletCondition.class)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(ServletRegistration.class)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(WebMvcProperties.class)</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DispatcherServletConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean(name = DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)</span></span><br><span class="line"><span class="keyword">public</span> DispatcherServlet <span class="title function_">dispatcherServlet</span><span class="params">(WebMvcProperties webMvcProperties)</span> &#123;</span><br><span class="line"><span class="type">DispatcherServlet</span> <span class="variable">dispatcherServlet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DispatcherServlet</span>();</span><br><span class="line">dispatcherServlet.setDispatchOptionsRequest(webMvcProperties.isDispatchOptionsRequest());</span><br><span class="line">dispatcherServlet.setDispatchTraceRequest(webMvcProperties.isDispatchTraceRequest());</span><br><span class="line">dispatcherServlet.setThrowExceptionIfNoHandlerFound(webMvcProperties.isThrowExceptionIfNoHandlerFound());</span><br><span class="line">dispatcherServlet.setPublishEvents(webMvcProperties.isPublishRequestHandledEvents());</span><br><span class="line">dispatcherServlet.setEnableLoggingRequestDetails(webMvcProperties.isLogRequestDetails());</span><br><span class="line"><span class="keyword">return</span> dispatcherServlet;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">///...代码省略</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src="/myBlog.github.io/img/springboot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE.png" alt="这是图片"></p><p>1.在主启动类上添加了SpringBootApplication注解,这个注解组合了EnableAutoConfiguration注解<br>2.EnableAutoConfiguration注解又组合了Import注解,导入了AutoConfigurationImportSelector类<br>3.实现selectImports方法,这个方法经过层层调用,最终会读取META-INF目录下的后缀名为Imports的文件,当然了,boot2.7以前的版本,读取的是spring.factories文件,<br>4.读取到全类名了之后,会解析注册条件,也就是@Conditional以及其衍生注解,把满足注册条件的Bean对象自动注入到Ioc容器中</p><h1 id="自动装配的案例"><a href="#自动装配的案例" class="headerlink" title="自动装配的案例"></a>自动装配的案例</h1><h2 id="准备一个jar包"><a href="#准备一个jar包" class="headerlink" title="准备一个jar包"></a>准备一个jar包</h2><p><img src="/myBlog.github.io/img/springboot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AEjar%E5%8C%85%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95.png" alt="这是图片"></p><h2 id="准备一个带-Bean的配置类"><a href="#准备一个带-Bean的配置类" class="headerlink" title="准备一个带@Bean的配置类"></a>准备一个带@Bean的配置类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnClass(name=&quot;org.springframework.web.servlet.DispatcherServlet&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Teacher <span class="title function_">getTeacher</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean(Teacher.class)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;student&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="准备一个自动配置类"><a href="#准备一个自动配置类" class="headerlink" title="准备一个自动配置类"></a>准备一个自动配置类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AutoConfiguration</span></span><br><span class="line"><span class="meta">@Import(MyConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAutoConfig</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyAutoConfig</span><span class="params">()</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h2><p>省略</p><h2 id="在META-INF-spring-文件中创建org-springframework-boot-autoconfigure-AutoConfiguration-imports"><a href="#在META-INF-spring-文件中创建org-springframework-boot-autoconfigure-AutoConfiguration-imports" class="headerlink" title="在META-INF&#x2F;spring&#x2F;文件中创建org.springframework.boot.autoconfigure.AutoConfiguration.imports"></a>在META-INF&#x2F;spring&#x2F;文件中创建org.springframework.boot.autoconfigure.AutoConfiguration.imports</h2><p>将自动配置类的全类名添加到org.springframework.boot.autoconfigure.AutoConfiguration.imports中</p><h2 id="打包成jar包"><a href="#打包成jar包" class="headerlink" title="打包成jar包"></a>打包成jar包</h2><p>省略</p><h2 id="将jar包保存到maven本地仓库"><a href="#将jar包保存到maven本地仓库" class="headerlink" title="将jar包保存到maven本地仓库"></a>将jar包保存到maven本地仓库</h2><p>打开cmd输入<br>mvn install:install-file “-Dfile&#x3D;C:\Users\23224\Desktop\demo16-0.0.1-SNAPSHOT.jar” “-DgroupId&#x3D;demo16” “-DartifactId&#x3D;reggie-demo16” “-Dversion&#x3D;1.0” “-Dpackaging&#x3D;jar”</p><h2 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>demo16<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reggie-demo16<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="在启动类中测试"><a href="#在启动类中测试" class="headerlink" title="在启动类中测试"></a>在启动类中测试</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo15Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">run</span> <span class="operator">=</span> SpringApplication.run(Demo15Application.class, args);</span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">bean</span> <span class="operator">=</span> run.getBean(Teacher.class);</span><br><span class="line">        System.out.println(bean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot @Been @import</title>
      <link href="/myBlog.github.io/2024/04/06/SpringBoot-Been-import/"/>
      <url>/myBlog.github.io/2024/04/06/SpringBoot-Been-import/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringBoot-Been和-Import"><a href="#SpringBoot-Been和-Import" class="headerlink" title="SpringBoot @Been和@Import"></a>SpringBoot @Been和@Import</h1><h2 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h2><h3 id="在启动类中编写"><a href="#在启动类中编写" class="headerlink" title="在启动类中编写"></a>在启动类中编写</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo16Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">run</span> <span class="operator">=</span> SpringApplication.run(Demo16Application.class, args);</span><br><span class="line">        <span class="type">LoaderOptions</span> <span class="variable">bean</span> <span class="operator">=</span> run.getBean(LoaderOptions.class);</span><br><span class="line">        System.out.println(bean);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> LoaderOptions <span class="title function_">getLoaderOptions</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LoaderOptions</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在配置类中编写"><a href="#在配置类中编写" class="headerlink" title="在配置类中编写"></a>在配置类中编写</h3><p>在启动类包中创建config文件夹接着在创建配置类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> LoaderOptions <span class="title function_">getLoaderOptions</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LoaderOptions</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h2><p>当启动类中的@ComponentScan找不到配置文件时可以用@Import导入</p><h3 id="常规用法"><a href="#常规用法" class="headerlink" title="常规用法"></a>常规用法</h3><p>在启动类中添加@Import(MyConfig.class),就可以导入配置类,MyConfig为配置类的名字<br>配置类中的信息与上文的一致,只是路径发生改变,导致@SpringBootApplication无法找到该配置类</p><h3 id="ImportSelector接口"><a href="#ImportSelector接口" class="headerlink" title="ImportSelector接口"></a>ImportSelector接口</h3><p>新建SelectImport文件在实现ImportSelector,接着在添加配置类的路径</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectImport</span> <span class="keyword">implements</span> <span class="title class_">ImportSelector</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectImports(AnnotationMetadata importingClassMetadata) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;com.example.config.MyConfig&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>启动类中修改@Import中的参数@Import(SelectImport.class)</p><h3 id="引入resources中imports文件"><a href="#引入resources中imports文件" class="headerlink" title="引入resources中imports文件"></a>引入resources中imports文件</h3><p>在resources文件夹中创建common.imports文件,imports中的信息为配置类的路径,可存放多个配置类<br>接着将该文件中的信息导入导SelectImport类中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectImport</span> <span class="keyword">implements</span> <span class="title class_">ImportSelector</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectImports(AnnotationMetadata importingClassMetadata) &#123;</span><br><span class="line">        List&lt;String&gt; imports = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> SelectImport.class.getClassLoader().getResourceAsStream(<span class="string">&quot;common.imports&quot;</span>);</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(resourceAsStream));</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>((line = br.readLine())!= <span class="literal">null</span>)&#123;</span><br><span class="line">                imports.add(line);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (br!=<span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> imports.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注册条件"><a href="#注册条件" class="headerlink" title="注册条件"></a>注册条件</h2><h3 id="ConditionalOnProperty"><a href="#ConditionalOnProperty" class="headerlink" title="@ConditionalOnProperty"></a>@ConditionalOnProperty</h3><p>配置文件中存在对应的属性，才声明该bean<br>prefix为Property文件中的student类,name为student中的属性名<br>当没有Properties的数据传入该bean就不会将该bean带入ioc容器中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnProperty(prefix = &quot;student&quot;,name=&#123;&quot;name&quot;,&quot;id&quot;&#125;)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;student&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ConditionalOnMissingBean"><a href="#ConditionalOnMissingBean" class="headerlink" title="@ConditionalOnMissingBean"></a>@ConditionalOnMissingBean</h3><p>当不存在当前类型的bean时，才声明该bean<br>当容器中有Teacher时Student不创建,有前后之分</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Teacher <span class="title function_">getTeacher</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean(Teacher.class)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;student&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ConditionalOnClass"><a href="#ConditionalOnClass" class="headerlink" title="@ConditionalOnClass"></a>@ConditionalOnClass</h3><p>当前环境存在指定的这个类时，才声明该bean<br>name未指定类的全类名</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnClass(name=&quot;org.springframework.web.servlet.DispatcherServlet&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Teacher <span class="title function_">getTeacher</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean(Teacher.class)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;student&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring黑马程序员笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>散点图和水滴图</title>
      <link href="/myBlog.github.io/2024/04/02/%E6%95%A3%E7%82%B9%E5%9B%BE%E5%92%8C%E6%B0%B4%E6%BB%B4%E5%9B%BE/"/>
      <url>/myBlog.github.io/2024/04/02/%E6%95%A3%E7%82%B9%E5%9B%BE%E5%92%8C%E6%B0%B4%E6%BB%B4%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h2><p><img src="/myBlog.github.io/img/%E7%94%B7%E6%80%A7%E5%92%8C%E5%A5%B3%E6%80%A7%E8%BA%AB%E9%AB%98%E3%80%81%E4%BD%93%E9%87%8D%E5%88%86%E5%B8%83.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>:<span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> dataWomen = []</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i =<span class="number">0</span>;i&lt;<span class="number">21</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            data = [<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()*(<span class="number">180</span>-<span class="number">160</span>+<span class="number">1</span>)+<span class="number">160</span>)*<span class="number">100</span>)/<span class="number">100</span>,<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()*(<span class="number">100</span>-<span class="number">40</span>+<span class="number">1</span>)+<span class="number">40</span>)*<span class="number">100</span>)/<span class="number">100</span>]</span></span><br><span class="line"><span class="language-javascript">            dataWomen.<span class="title function_">push</span>(data)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> dataMen = []</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i =<span class="number">0</span>;i&lt;<span class="number">21</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            data = [<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()*(<span class="number">200</span>-<span class="number">160</span>+<span class="number">1</span>)+<span class="number">160</span>)*<span class="number">100</span>)/<span class="number">100</span>,<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()*(<span class="number">150</span>-<span class="number">50</span>+<span class="number">1</span>)+<span class="number">50</span>)*<span class="number">100</span>)/<span class="number">100</span>]</span></span><br><span class="line"><span class="language-javascript">            dataMen.<span class="title function_">push</span>(data)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(dataWomen)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">color</span>:[<span class="string">&quot;red&quot;</span>,<span class="string">&quot;green&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="number">33</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;男性和女性身高、体重分布&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>:<span class="string">&quot;抽样调查来自:FLQ2020&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;男性&quot;</span>,<span class="string">&quot;女性&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="number">900</span>,<span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataZoom</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">scale</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLable</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">formatter</span>:<span class="string">&quot;&#123;value&#125;cm&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;value&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">scale</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLable</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">formatter</span>:<span class="string">&quot;&#123;value&#125;kg&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;effectScatter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;极值&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rippleEffect</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">period</span>:<span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">scale</span>:<span class="number">5.5</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">brushType</span>:<span class="string">&#x27;stroke&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;black&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        [<span class="number">172.7</span>,<span class="number">87.2</span>],</span></span><br><span class="line"><span class="language-javascript">                        [<span class="number">153.4</span>,<span class="number">42</span>]</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;女性&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:<span class="number">8</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;scatter&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:dataWomen,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markPoint</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>:<span class="string">&#x27;最大值&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>:<span class="string">&quot;最小值&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                            &#123;<span class="attr">type</span>:<span class="string">&quot;average&quot;</span>,<span class="attr">name</span>:<span class="string">&#x27;平均值&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;男性&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:<span class="number">8</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;scatter&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:dataMen,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markPoint</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>:<span class="string">&#x27;最大值&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>:<span class="string">&quot;最小值&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                            &#123;<span class="attr">type</span>:<span class="string">&quot;average&quot;</span>,<span class="attr">name</span>:<span class="string">&#x27;平均值&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="气泡图"><a href="#气泡图" class="headerlink" title="气泡图"></a>气泡图</h2><p><img src="/myBlog.github.io/img/%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%B0%94%E6%B3%A1%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> data = [</span></span><br><span class="line"><span class="language-javascript">            [</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">28604</span>, <span class="number">77</span>, <span class="number">17096869</span>, <span class="string">&#x27;Australia&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">31163</span>, <span class="number">77.4</span>, <span class="number">27662440</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">1516</span>, <span class="number">68</span>, <span class="number">1154605773</span>, <span class="string">&#x27;China&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">13670</span>, <span class="number">74.7</span>, <span class="number">10582082</span>, <span class="string">&#x27;Cuba&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">28599</span>, <span class="number">75</span>, <span class="number">4986705</span>, <span class="string">&#x27;Finland&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">29476</span>, <span class="number">77.1</span>, <span class="number">56943299</span>, <span class="string">&#x27;France&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">31476</span>, <span class="number">75.4</span>, <span class="number">78958237</span>, <span class="string">&#x27;Germany&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">28666</span>, <span class="number">78.1</span>, <span class="number">254830</span>, <span class="string">&#x27;Iceland&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">1777</span>, <span class="number">57.7</span>, <span class="number">870601776</span>, <span class="string">&#x27;India&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">29550</span>, <span class="number">79.1</span>, <span class="number">122249285</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">2076</span>, <span class="number">67.9</span>, <span class="number">20194354</span>, <span class="string">&#x27;North Korea&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">12087</span>, <span class="number">72</span>, <span class="number">42972254</span>, <span class="string">&#x27;South Korea&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">24021</span>, <span class="number">75.4</span>, <span class="number">3397534</span>, <span class="string">&#x27;New Zealand&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">43296</span>, <span class="number">76.8</span>, <span class="number">4240375</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">10088</span>, <span class="number">70.8</span>, <span class="number">38195258</span>, <span class="string">&#x27;Poland&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">19349</span>, <span class="number">69.6</span>, <span class="number">147568552</span>, <span class="string">&#x27;Russia&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">10670</span>, <span class="number">67.3</span>, <span class="number">53994605</span>, <span class="string">&#x27;Turkey&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">26424</span>, <span class="number">75.7</span>, <span class="number">57110117</span>, <span class="string">&#x27;United Kingdom&#x27;</span>, <span class="number">1990</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">37062</span>, <span class="number">75.4</span>, <span class="number">252847810</span>, <span class="string">&#x27;United States&#x27;</span>, <span class="number">1990</span>]</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            [</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">44056</span>, <span class="number">81.8</span>, <span class="number">23968973</span>, <span class="string">&#x27;Australia&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">43294</span>, <span class="number">81.7</span>, <span class="number">35939927</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">13334</span>, <span class="number">76.9</span>, <span class="number">1376048943</span>, <span class="string">&#x27;China&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">21291</span>, <span class="number">78.5</span>, <span class="number">11389562</span>, <span class="string">&#x27;Cuba&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">38923</span>, <span class="number">80.8</span>, <span class="number">5503457</span>, <span class="string">&#x27;Finland&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">37599</span>, <span class="number">81.9</span>, <span class="number">64395345</span>, <span class="string">&#x27;France&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">44053</span>, <span class="number">81.1</span>, <span class="number">80688545</span>, <span class="string">&#x27;Germany&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">42182</span>, <span class="number">82.8</span>, <span class="number">329425</span>, <span class="string">&#x27;Iceland&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">5903</span>, <span class="number">66.8</span>, <span class="number">1311050527</span>, <span class="string">&#x27;India&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">36162</span>, <span class="number">83.5</span>, <span class="number">126573481</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">1390</span>, <span class="number">71.4</span>, <span class="number">25155317</span>, <span class="string">&#x27;North Korea&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">34644</span>, <span class="number">80.7</span>, <span class="number">50293439</span>, <span class="string">&#x27;South Korea&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">34186</span>, <span class="number">80.6</span>, <span class="number">4528526</span>, <span class="string">&#x27;New Zealand&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">64304</span>, <span class="number">81.6</span>, <span class="number">5210967</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">24787</span>, <span class="number">77.3</span>, <span class="number">38611794</span>, <span class="string">&#x27;Poland&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">23038</span>, <span class="number">73.13</span>, <span class="number">143456918</span>, <span class="string">&#x27;Russia&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">19360</span>, <span class="number">76.5</span>, <span class="number">78665830</span>, <span class="string">&#x27;Turkey&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">38225</span>, <span class="number">81.4</span>, <span class="number">64715810</span>, <span class="string">&#x27;United Kingdom&#x27;</span>, <span class="number">2015</span>],</span></span><br><span class="line"><span class="language-javascript">                [<span class="number">53354</span>, <span class="number">79.1</span>, <span class="number">321773631</span>, <span class="string">&#x27;United States&#x27;</span>, <span class="number">2015</span>]</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        ];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;这是一个气泡图&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="string">&quot;2%&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">scale</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">scale</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>: <span class="string">&#x27;10%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;1990&#x27;</span>, <span class="string">&#x27;2015&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;1990&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;scatter&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:data[<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:<span class="keyword">function</span>(<span class="params">data</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(data[<span class="number">2</span>])/<span class="number">5e2</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">focus</span>:<span class="string">&quot;series&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">p</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">return</span> p.<span class="property">data</span>[<span class="number">3</span>]</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowBlur</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(120, 36, 50, 0.5)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowOffsetY</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="keyword">new</span> echarts.<span class="property">graphic</span>.<span class="title class_">RadialGradient</span>(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,[</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">offset</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">offset</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&#x27;yellow&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        ])</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:data[<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;2015&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;scatter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:<span class="keyword">function</span>(<span class="params">data</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(data[<span class="number">2</span>]) /<span class="number">5e2</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">focus</span>:<span class="string">&#x27;series&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">p</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                                p.<span class="property">data</span>[<span class="number">3</span>]</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowBlur</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(120, 36, 50, 0.5)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">shadowOffsetY</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="keyword">new</span> echarts.<span class="property">graphic</span>.<span class="title class_">RadialGradient</span>(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,[</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">offset</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">offset</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&#x27;black&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        ])</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="地图"><a href="#地图" class="headerlink" title="地图"></a>地图</h2><p><img src="/myBlog.github.io/img/china.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;jquery/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;map/map/json/china.json&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box  = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        $.<span class="title function_">get</span>(<span class="string">&quot;map/map/json/china.json&quot;</span>,<span class="keyword">function</span>(<span class="params">ret</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            echarts.<span class="title function_">registerMap</span>(<span class="string">&#x27;china&#x27;</span>,ret)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">geo</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">map</span>:<span class="string">&#x27;china&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">roam</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="number">103.84</span>,<span class="number">36.07</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">zoom</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">areaColor</span>:<span class="string">&#x27;pink&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&#x27;effectScatter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[[<span class="number">103.84</span>,<span class="number">36.07</span>],[<span class="number">115.87</span>,<span class="number">28.69</span>]],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">coordinateSystem</span>:<span class="string">&#x27;geo&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="雷达图"><a href="#雷达图" class="headerlink" title="雷达图"></a>雷达图</h2><p><img src="/myBlog.github.io/img/radar.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option =&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">radar</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">indicator</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;高中&#x27;</span>,<span class="attr">max</span>:<span class="number">9000000</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;专科&#x27;</span>,<span class="attr">max</span>:<span class="number">5000000</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;本科&#x27;</span>,<span class="attr">max</span>:<span class="number">3500000</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;硕士&#x27;</span>,<span class="attr">max</span>:<span class="number">800000</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;博士&#x27;</span>,<span class="attr">max</span>:<span class="number">20000</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;radar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;女&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:[<span class="number">4400000</span>,<span class="number">2700000</span>,<span class="number">1600000</span>,<span class="number">380000</span>,<span class="number">7000</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>:<span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">value</span>:[<span class="number">4600000</span>,<span class="number">2300000</span>,<span class="number">1900000</span>,<span class="number">420000</span>,<span class="number">13000</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬虫技术</title>
      <link href="/myBlog.github.io/2024/03/30/Python%E7%88%AC%E8%99%AB%E6%8A%80%E6%9C%AF/"/>
      <url>/myBlog.github.io/2024/03/30/Python%E7%88%AC%E8%99%AB%E6%8A%80%E6%9C%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="爬取房星网租房数据并打包成json文件"><a href="#爬取房星网租房数据并打包成json文件" class="headerlink" title="爬取房星网租房数据并打包成json文件"></a>爬取房星网租房数据并打包成json文件</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">header = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span> :<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">houses=[]</span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>):</span><br><span class="line">    url =<span class="string">f&quot;https://www.fangstar.com/rentls/pg<span class="subst">&#123;page&#125;</span>/&quot;</span></span><br><span class="line">    h = requests.get(url=url,headers=header)</span><br><span class="line">    html = BeautifulSoup(h.text,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    box = html.find_all(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;rhs-list-item&quot;</span>&#125;)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(box)):</span><br><span class="line">        titleModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;dic-name nowrap&quot;</span>&#125;)</span><br><span class="line">        title = titleModel[<span class="string">&quot;title&quot;</span>]</span><br><span class="line">        house_typeModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">1</span>]</span><br><span class="line">        house_type = house_typeModel.string</span><br><span class="line">        areaModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">2</span>]</span><br><span class="line">        area = areaModel.string</span><br><span class="line">        floorModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">3</span>]</span><br><span class="line">        floor = floorModel.string</span><br><span class="line">        yearModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;base-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)[<span class="number">4</span>]</span><br><span class="line">        year = yearModel.string</span><br><span class="line">        priceModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;total-price&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        price = <span class="string">&quot;&#123;&#125;&#123;&#125;&quot;</span>.<span class="built_in">format</span>(priceModel[<span class="number">0</span>].string, priceModel[<span class="number">1</span>].string)</span><br><span class="line">        addressModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;location-wrap nowrap&quot;</span>&#125;).find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        addressModelSpan = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;location-wrap nowrap&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        address = <span class="string">&quot;&#123;0&#125;-&#123;1&#125;-&#123;2&#125;&quot;</span>.<span class="built_in">format</span>(addressModel[<span class="number">0</span>].string, addressModel[<span class="number">1</span>].string, addressModelSpan[<span class="number">0</span>].string)</span><br><span class="line">        authorTimeModel = box[i].find(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;post-info&quot;</span>&#125;).find_all(<span class="string">&quot;span&quot;</span>)</span><br><span class="line">        author = authorTimeModel[<span class="number">0</span>].string</span><br><span class="line">        times = authorTimeModel[<span class="number">1</span>].string</span><br><span class="line">        house = &#123;<span class="string">&quot;标题&quot;</span>: title, <span class="string">&quot;房屋类型&quot;</span>: house_type, <span class="string">&quot;面积&quot;</span>: area, <span class="string">&quot;楼层&quot;</span>: floor, <span class="string">&quot;建筑年限&quot;</span>: year, <span class="string">&quot;租金&quot;</span>: price,</span><br><span class="line">                 <span class="string">&quot;地点&quot;</span>: address, <span class="string">&quot;作者&quot;</span>: author, <span class="string">&quot;发布时间&quot;</span>: times&#125;</span><br><span class="line">        houses.append(house)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;第<span class="subst">&#123;page&#125;</span>页&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(house)</span><br><span class="line"><span class="built_in">print</span>(houses)</span><br><span class="line">j = &#123;</span><br><span class="line">    <span class="string">&quot;data&quot;</span> :houses</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;house_homework.json&quot;</span>,<span class="string">&quot;a&quot;</span>,encoding=<span class="string">&quot;UTF-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    out = json.dumps(j,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">    f.write(out)</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;house_homework.json&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json_data = json.load(f)</span><br><span class="line">    data=json_data[<span class="string">&quot;data&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(data)):</span><br><span class="line">    <span class="built_in">print</span>(data[i])</span><br></pre></td></tr></table></figure><h1 id="爬取图片网站"><a href="#爬取图片网站" class="headerlink" title="爬取图片网站"></a>爬取图片网站</h1><h2 id="获取所有图片的网页路径"><a href="#获取所有图片的网页路径" class="headerlink" title="获取所有图片的网页路径"></a>获取所有图片的网页路径</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">s = <span class="number">1</span></span><br><span class="line">box =[]</span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">84</span>,<span class="number">42</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;第<span class="subst">&#123;s&#125;</span>页&quot;</span>)</span><br><span class="line">    s+=<span class="number">1</span></span><br><span class="line">    ret = requests.get(url=<span class="string">f&quot;网站&amp;pid=<span class="subst">&#123;page&#125;</span>&quot;</span>)</span><br><span class="line">    https = BeautifulSoup(ret.text,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> https.find_all(<span class="string">&quot;span&quot;</span>,attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;thumb&quot;</span>&#125;):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> i(<span class="string">&quot;a&quot;</span>):</span><br><span class="line">            <span class="built_in">str</span> = <span class="string">&quot;https://主网站&#123;&#125;&quot;</span>.<span class="built_in">format</span>(y[<span class="string">&#x27;href&#x27;</span>])</span><br><span class="line">            box.append(<span class="built_in">str</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">out = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> box:</span><br><span class="line">    s = requests.get(url=num)</span><br><span class="line">    getImage = BeautifulSoup(s.text, <span class="string">&quot;html.parser&quot;</span>).find_all(<span class="string">&quot;img&quot;</span>, attrs=&#123;<span class="string">&quot;id&quot;</span>: <span class="string">&quot;image&quot;</span>&#125;)</span><br><span class="line">    en = <span class="string">f&#x27;https:<span class="subst">&#123;getImage[<span class="number">0</span>][<span class="string">&quot;src&quot;</span>]&#125;</span>&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(en)</span><br><span class="line">    out.append(en)</span><br><span class="line"></span><br><span class="line">j = &#123;</span><br><span class="line">    <span class="string">&quot;data&quot;</span>:out</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;322031608/my_wife.json&quot;</span>,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(json.dumps(j))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="判断图片后缀名下载"><a href="#判断图片后缀名下载" class="headerlink" title="判断图片后缀名下载"></a>判断图片后缀名下载</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">data =[]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;322031608/my_wife.json&quot;</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    j = json.load(f)</span><br><span class="line">    data = j[<span class="string">&quot;data&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">y = <span class="number">253</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    s = requests.get(url=i)</span><br><span class="line">    imgName=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;.gif&quot;</span> <span class="keyword">in</span> i:</span><br><span class="line">        imgName = <span class="string">&quot;&#123;&#125;.gif&quot;</span>.<span class="built_in">format</span>(y)</span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;.png&quot;</span> <span class="keyword">in</span> i:</span><br><span class="line">        imgName = <span class="string">&quot;&#123;&#125;.png&quot;</span>.<span class="built_in">format</span>(y)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        imgName = <span class="string">&quot;&#123;&#125;.jpg&quot;</span>.<span class="built_in">format</span>(y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    u = <span class="string">&quot;images/&#123;&#125;&quot;</span>.<span class="built_in">format</span>(imgName)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(u, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;正在下载///&quot;</span>)</span><br><span class="line">        f.write(s.content)</span><br><span class="line">    y = y+<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;下载完毕!!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatis Plus</title>
      <link href="/myBlog.github.io/2024/03/29/Mybatis-Plus/"/>
      <url>/myBlog.github.io/2024/03/29/Mybatis-Plus/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring学校笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> mybatis plus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatis基本应用</title>
      <link href="/myBlog.github.io/2024/03/27/Mybatis%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8/"/>
      <url>/myBlog.github.io/2024/03/27/Mybatis%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Mybatis基本应用"><a href="#Mybatis基本应用" class="headerlink" title="Mybatis基本应用"></a>Mybatis基本应用</h1><h2 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="application-yaml中配置数据"><a href="#application-yaml中配置数据" class="headerlink" title="application.yaml中配置数据"></a>application.yaml中配置数据</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.example.demo.entity</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="Xml配置Mybatis"><a href="#Xml配置Mybatis" class="headerlink" title="Xml配置Mybatis"></a>Xml配置Mybatis</h2><h3 id="编写Mapper"><a href="#编写Mapper" class="headerlink" title="编写Mapper"></a>编写Mapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMappers</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">saveUser</span><span class="params">(User user)</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUser</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updateUser</span><span class="params">(User user)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteUser</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">selectById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="type">int</span> id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="classpath中配置元数据"><a href="#classpath中配置元数据" class="headerlink" title="classpath中配置元数据"></a>classpath中配置元数据</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.demo.mapper.UserMappers&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        update user set username = #&#123;username&#125;,email = #&#123;email&#125;,is_active=#&#123;isActive&#125;,birthday=#&#123;birthday&#125; where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;saveUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        insert into user (username,email,birthday,is_active) values (#&#123;username&#125;,#&#123;email&#125;,#&#123;birthday&#125;,#&#123;isActive&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="测试一下"><a href="#测试一下" class="headerlink" title="测试一下"></a>测试一下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserMapper userMappers;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">insertOnes</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setUsername(<span class="string">&quot;13125214254&quot;</span>);</span><br><span class="line">    user.setBirthday(<span class="string">&quot;2005-3-5&quot;</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;822807553@qq.com&quot;</span>);</span><br><span class="line">    user.setIsActive(<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> userMappers.saveUser(user);</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span> )&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;添加成功!&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;添加失败!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注解配置Mybatis"><a href="#注解配置Mybatis" class="headerlink" title="注解配置Mybatis"></a>注解配置Mybatis</h2><h3 id="编写Mapper并配置Mybatis"><a href="#编写Mapper并配置Mybatis" class="headerlink" title="编写Mapper并配置Mybatis"></a>编写Mapper并配置Mybatis</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into user(username,email,birthday,is_active) values(#&#123;username&#125;,#&#123;email&#125;,#&#123;birthday&#125;,#&#123;isActive&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">saveUser</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUser</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;update user set username = #&#123;username&#125;,email=#&#123;email&#125;,birthday=#&#123;birthday&#125;,is_active=#&#123;isActive&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updateUser</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete(&quot;delete from user where id =#&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteUser</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">selectById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="测试一下-1"><a href="#测试一下-1" class="headerlink" title="测试一下"></a>测试一下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">selectAll</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;User&gt; allUser = userMapper.getAllUser();</span><br><span class="line">    <span class="keyword">for</span> (User u : allUser)&#123;</span><br><span class="line">        System.out.println(u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h2><h3 id="编写dao"><a href="#编写dao" class="headerlink" title="编写dao"></a>编写dao</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PositionDao</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from user limit #&#123;curPage&#125;,#&#123;pageSize&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllPosition</span><span class="params">(<span class="meta">@Param(&quot;curPage&quot;)</span>Integer curPage,<span class="meta">@Param(&quot;pageSize&quot;)</span>Integer pageSize)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="编写service接口"><a href="#编写service接口" class="headerlink" title="编写service接口"></a>编写service接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PositionService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllPosition</span><span class="params">(Integer curPage, Integer pageSize)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现service接口"><a href="#实现service接口" class="headerlink" title="实现service接口"></a>实现service接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PositionServiceImp</span> <span class="keyword">implements</span> <span class="title class_">PositionService</span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PositionDao positionDao;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllPosition</span><span class="params">(Integer curPage, Integer pageSize)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> positionDao.getAllPosition(curPage,pageSize);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="编写controller"><a href="#编写controller" class="headerlink" title="编写controller"></a>编写controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowier</span></span><br><span class="line"><span class="keyword">private</span> PositionService positionService</span><br><span class="line"><span class="comment">///////////////////////</span></span><br><span class="line"><span class="comment">//省略部分代码</span></span><br><span class="line"><span class="comment">///////////////////////</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/position&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getAllPositionLimit</span><span class="params">(<span class="meta">@RequestParam(&quot;curPage&quot;)</span>Integer curPage,<span class="meta">@RequestParam(&quot;pageSize&quot;)</span>Integer pageSize)</span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        List&lt;User&gt; list = positionService.getAllPosition((curPage-<span class="number">1</span>)*pageSize,pageSize);</span><br><span class="line">        <span class="keyword">if</span>(list!=<span class="literal">null</span>&amp;&amp;list.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            map.put(<span class="string">&quot;code&quot;</span>,<span class="number">200</span>);</span><br><span class="line">            map.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;查询成功&quot;</span>);</span><br><span class="line">            map.put(<span class="string">&quot;data&quot;</span>,list);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            map.put(<span class="string">&quot;code&quot;</span>,<span class="number">100</span>);</span><br><span class="line">            map.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;暂时没有数据&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="测试一下-2"><a href="#测试一下-2" class="headerlink" title="测试一下"></a>测试一下</h4><p>运行springboot访问position路径并且携带curPage和pageSize数据(<a href="http://localhost:8080/position?curPage=1&pageSize=5">http://localhost:8080/position?curPage=1&amp;pageSize=5</a>)</p><h2 id="Mybatis分页插件"><a href="#Mybatis分页插件" class="headerlink" title="Mybatis分页插件"></a>Mybatis分页插件</h2><h2 id="Mybatis-一对一"><a href="#Mybatis-一对一" class="headerlink" title="Mybatis 一对一"></a>Mybatis 一对一</h2><p>创建实体类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> gender;</span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line">    <span class="keyword">private</span> String job;</span><br><span class="line">    <span class="keyword">private</span> String entrydate;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> deptId;</span><br><span class="line">    <span class="keyword">private</span> String createTime;</span><br><span class="line">    <span class="keyword">private</span> String updateTime;</span><br><span class="line">    <span class="keyword">private</span> Dept dept;</span><br><span class="line">    <span class="keyword">private</span> Company company;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Company <span class="title function_">getCompany</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> company;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCompany</span><span class="params">(Company company)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.company = company;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Dept <span class="title function_">getDept</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDept</span><span class="params">(Dept dept)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dept = dept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Emp&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, gender=&quot;</span> + gender +</span><br><span class="line">                <span class="string">&quot;, image=&#x27;&quot;</span> + image + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, job=&#x27;&quot;</span> + job + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, entrydate=&#x27;&quot;</span> + entrydate + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, deptId=&quot;</span> + deptId +</span><br><span class="line">                <span class="string">&quot;, createTime=&#x27;&quot;</span> + createTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, updateTime=&#x27;&quot;</span> + updateTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, dept=&quot;</span> + dept +</span><br><span class="line">                <span class="string">&quot;, company=&quot;</span> + company +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(<span class="type">int</span> gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getImage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setImage</span><span class="params">(String image)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.image = image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getJob</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> job;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setJob</span><span class="params">(String job)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.job = job;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEntrydate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> entrydate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEntrydate</span><span class="params">(String entrydate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.entrydate = entrydate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDeptId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> deptId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDeptId</span><span class="params">(<span class="type">int</span> deptId)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.deptId = deptId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCreateTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> createTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCreateTime</span><span class="params">(String createTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.createTime = createTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUpdateTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> updateTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUpdateTime</span><span class="params">(String updateTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.updateTime = updateTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>创建mapper文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">selectAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建mapper配置文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.demo.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;All&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.demo.entity.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span> <span class="attr">property</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;password&quot;</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">property</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;image&quot;</span> <span class="attr">property</span>=<span class="string">&quot;image&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;job&quot;</span> <span class="attr">property</span>=<span class="string">&quot;job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;entrydate&quot;</span> <span class="attr">property</span>=<span class="string">&quot;entrydate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.example.demo.entity.Dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;did&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dcreate_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dupdate_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;company&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.example.demo.entity.Company&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;deptment&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptment&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">        select e.id,e.username,e.`password`,e.`name`,e.gender,e.image,e.job,e.entrydate,e.dept_id,e.update_time,d.id as did,d.`name` as dname,d.create_time as dcreate_time,d.update_time as dupdate_time,c.id as cid,c.deptment from emp e,dept d,company c where e.job = d.id and c.id = e.dept_id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Mybatis-一对多"><a href="#Mybatis-一对多" class="headerlink" title="Mybatis 一对多"></a>Mybatis 一对多</h2><p>创建实体类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String createTime;</span><br><span class="line">    <span class="keyword">private</span> String updateTime;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Emp&gt; emps;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dept&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, createTime=&#x27;&quot;</span> + createTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, updateTime=&#x27;&quot;</span> + updateTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, emps=&quot;</span> + emps +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">getEmps</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> emps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmps</span><span class="params">(List&lt;Emp&gt; emps)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.emps = emps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCreateTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> createTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCreateTime</span><span class="params">(String createTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.createTime = createTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUpdateTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> updateTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUpdateTime</span><span class="params">(String updateTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.updateTime = updateTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>创建mapper文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Dept&gt; <span class="title function_">selectAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建mapper配置文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.demo.mapper.DeptMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;All&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.demo.entity.Dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;update_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;emps&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;com.example.demo.entity.Emp&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;eid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span> <span class="attr">property</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;password&quot;</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">property</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;image&quot;</span> <span class="attr">property</span>=<span class="string">&quot;image&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;job&quot;</span> <span class="attr">property</span>=<span class="string">&quot;job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;entrydate&quot;</span> <span class="attr">property</span>=<span class="string">&quot;entrydate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;ecreate_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;eupdate_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;updateTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;All&quot;</span>&gt;</span></span><br><span class="line">        select d.id,d.name,d.create_time,d.update_time,e.id as eid,e.username,e.`password`,e.`name` as ename,e.gender,e.image,e.job,e.entrydate,e.dept_id,e.create_time as ecreate_time,e.update_time as eupdate_time  from dept d,emp e where d.id = e.dept_id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Mybatis-plus"><a href="#Mybatis-plus" class="headerlink" title="Mybatis-plus"></a>Mybatis-plus</h2><p>导入依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>创建接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CompanyMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Company&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>介绍BaseMapper接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BaseMapper</span>&lt;T&gt; <span class="keyword">extends</span> <span class="title class_">Mapper</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">insert</span><span class="params">(T entity)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteByMap</span><span class="params">(<span class="meta">@Param(&quot;cm&quot;)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">delete</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteBatchIds</span><span class="params">(<span class="meta">@Param(&quot;coll&quot;)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateById</span><span class="params">(<span class="meta">@Param(&quot;et&quot;)</span> T entity)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">update</span><span class="params">(<span class="meta">@Param(&quot;et&quot;)</span> T entity, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">selectById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectBatchIds</span><span class="params">(<span class="meta">@Param(&quot;coll&quot;)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectByMap</span><span class="params">(<span class="meta">@Param(&quot;cm&quot;)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">selectOne</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    Integer <span class="title function_">selectCount</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;T&gt; <span class="title function_">selectList</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectMaps</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Object&gt; <span class="title function_">selectObjs</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    &lt;E <span class="keyword">extends</span> <span class="title class_">IPage</span>&lt;T&gt;&gt; E <span class="title function_">selectPage</span><span class="params">(E page, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line">    &lt;E <span class="keyword">extends</span> <span class="title class_">IPage</span>&lt;Map&lt;String, Object&gt;&gt;&gt; E <span class="title function_">selectMapsPage</span><span class="params">(E page, <span class="meta">@Param(&quot;ew&quot;)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>继承该接口可直接使用该接口里的方法</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring学校笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascript数据可视化个别组件</title>
      <link href="/myBlog.github.io/2024/03/19/javascript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%AA%E5%88%AB%E7%BB%84%E4%BB%B6/"/>
      <url>/myBlog.github.io/2024/03/19/javascript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%AA%E5%88%AB%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript数据可视化组件"><a href="#JavaScript数据可视化组件" class="headerlink" title="JavaScript数据可视化组件"></a>JavaScript数据可视化组件</h1><h2 id="1-自定义的toolbox以及自定义dataView"><a href="#1-自定义的toolbox以及自定义dataView" class="headerlink" title="1.自定义的toolbox以及自定义dataView"></a>1.自定义的toolbox以及自定义dataView</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toolbox</span>: &#123;</span><br><span class="line">    <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">feature</span>: &#123;</span><br><span class="line">        <span class="attr">dataView</span>: &#123; <span class="comment">//数据视图部分的配置</span></span><br><span class="line">            <span class="attr">optionToContent</span>:<span class="keyword">function</span>(<span class="params">opt</span>)&#123; </span><br><span class="line">                <span class="keyword">return</span> divObj[<span class="number">0</span>];</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">readOnly</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">saveAsImage</span>: &#123;<span class="comment">//下载图片 的 配置</span></span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;png&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;资金分析图&#x27;</span>,</span><br><span class="line">            <span class="attr">backgroundColor</span>: <span class="string">&#x27;#f1f1f1&#x27;</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;资金分析图&#x27;</span>,</span><br><span class="line">            <span class="attr">pixelRatio</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">myTool</span>:&#123; <span class="comment">//自定义方法 配置   我这是为了实现 饼图切换为柱状图</span></span><br><span class="line">            show : <span class="literal">true</span>,</span><br><span class="line">            title : <span class="string">&#x27;切换为柱状图&#x27;</span>,</span><br><span class="line">            icon : <span class="string">&#x27;image://images/inp-icon/zuzhut_03.png&#x27;</span>,</span><br><span class="line">            onclick : <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">                myChart.<span class="title function_">clear</span>();</span><br><span class="line">                myChart.<span class="title function_">setOption</span>(option2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">right</span>:<span class="number">50</span>,</span><br><span class="line">    <span class="attr">top</span>:<span class="number">36</span>,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-dataView的optionToContent函数"><a href="#2-dataView的optionToContent函数" class="headerlink" title="2.dataView的optionToContent函数"></a>2.dataView的optionToContent函数</h2><p>该javascript的opt.xAxis[0].data为x轴上的data数据<br>opt.series就是对应着series的数据，series.data，series.name对应的就是series中的data和name</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">optionToContent</span>: <span class="keyword">function</span> (<span class="params">opt</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> axisData = opt.<span class="property">xAxis</span>[<span class="number">0</span>].<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">var</span> series = opt.<span class="property">series</span>;</span><br><span class="line">    <span class="keyword">var</span> table = <span class="string">&#x27;&lt;table style=&quot;width:100%;text-align:center&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&#x27;</span></span><br><span class="line">        + <span class="string">&#x27;&lt;td&gt;类别/td&gt;&#x27;</span></span><br><span class="line">        + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + series[<span class="number">0</span>].<span class="property">name</span> + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span><br><span class="line">        + <span class="string">&#x27;&lt;/tr&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = axisData.<span class="property">length</span>; i &lt; l; i++) &#123;</span><br><span class="line">        table += <span class="string">&#x27;&lt;tr&gt;&#x27;</span></span><br><span class="line">            + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + axisData[i] + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span><br><span class="line">            + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + series[<span class="number">0</span>].<span class="property">data</span>[i] + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span><br><span class="line">            + <span class="string">&#x27;&lt;/tr&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    table += <span class="string">&#x27;&lt;/tbody&gt;&lt;/table&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> table;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以下是实现案例可以以此参考：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">optionToContent</span>: <span class="keyword">function</span> (<span class="params">opt</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> axisData = opt.<span class="property">xAxis</span>[<span class="number">0</span>].<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> series = opt.<span class="property">series</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> table = <span class="string">&#x27;&lt;table style=&quot;width:100%;text-align:center&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                + <span class="string">&#x27;&lt;td&gt;类别&lt;/td&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + series[<span class="number">0</span>].<span class="property">name</span> + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                + <span class="string">&#x27;&lt;/tr&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = axisData.<span class="property">length</span>; i &lt; l; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                                table += <span class="string">&#x27;&lt;tr&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                    + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + axisData[i] + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                    + <span class="string">&#x27;&lt;td&gt;&#x27;</span> + series[<span class="number">0</span>].<span class="property">data</span>[i] + <span class="string">&#x27;&lt;/td&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                    + <span class="string">&#x27;&lt;/tr&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            table += <span class="string">&#x27;&lt;/tbody&gt;&lt;/table&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> table;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;category&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;mon&quot;</span>,<span class="string">&quot;tue&quot;</span>,<span class="string">&quot;web&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&quot;销售&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;bar&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myCharts.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-时间轴"><a href="#3-时间轴" class="headerlink" title="3.时间轴"></a>3.时间轴</h2><p>timeline中data的数据对应着options数组中一一对应着每一个元素<br>在options中的数据表示是会随着时间轴变化的数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">timeline</span>:&#123;</span><br><span class="line">    <span class="attr">data</span>: [<span class="string">&#x27;2002-01-01&#x27;</span>, <span class="string">&#x27;2003-01-01&#x27;</span>, <span class="string">&#x27;2004-01-01&#x27;</span>],</span><br><span class="line">    <span class="attr">loop</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">playInterval</span>:<span class="number">3000</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">options</span>:[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>:&#123;</span><br><span class="line">            <span class="attr">text</span>:<span class="string">&quot;2012&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">series</span>:&#123;</span><br><span class="line">            <span class="attr">data</span>:[<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>:&#123;</span><br><span class="line">            <span class="attr">text</span>:<span class="string">&quot;2013&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">series</span>:&#123;</span><br><span class="line">            <span class="attr">data</span>:[<span class="number">9</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>:&#123;</span><br><span class="line">            <span class="attr">text</span>:<span class="string">&quot;2014&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">series</span>:&#123;</span><br><span class="line">            <span class="attr">data</span>:[<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>以下是实现案例可以以此参考：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">timeline</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;2010&quot;</span>,<span class="string">&quot;2011&quot;</span>,<span class="string">&quot;2012&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;category&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;mon&quot;</span>,<span class="string">&quot;tue&quot;</span>,<span class="string">&quot;web&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;bar&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">options</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>:<span class="string">&quot;2010&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>:<span class="string">&quot;2011&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>:<span class="string">&quot;2012&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[<span class="number">2</span>,<span class="number">3</span>,<span class="number">8</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myCharts.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-grid中实现一盒子多表"><a href="#4-grid中实现一盒子多表" class="headerlink" title="4.grid中实现一盒子多表"></a>4.grid中实现一盒子多表</h2><p>利用gridIndex将多余的x轴和y轴绑定到另一个grid中</p><p><img src="/myBlog.github.io/img/%E5%A4%9A%E5%9B%BE%E8%A1%A8.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myCharts = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option =&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">text</span>:<span class="string">&quot;图一&quot;</span>,<span class="attr">left</span>:<span class="string">&quot;25%&quot;</span>,<span class="attr">top</span>:<span class="string">&quot;1%&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">text</span>:<span class="string">&quot;图二&quot;</span>,<span class="attr">left</span>:<span class="string">&quot;75%&quot;</span>,<span class="attr">top</span>:<span class="string">&quot;1%&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">left</span>:<span class="string">&quot;5%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">width</span>:<span class="string">&quot;45%&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">left</span>:<span class="string">&quot;55%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">width</span>:<span class="string">&quot;45%&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gridIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">min</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">120</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;category&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="string">&quot;Mon&quot;</span>,<span class="string">&quot;Tue&quot;</span>,<span class="string">&quot;Web&quot;</span>,<span class="string">&quot;Thu&quot;</span>,<span class="string">&quot;Fri&quot;</span>,<span class="string">&quot;Sat&quot;</span>,<span class="string">&quot;Sun&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gridIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&quot;category&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="string">&quot;january&quot;</span>,<span class="string">&quot;february&quot;</span>,<span class="string">&quot;march&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">120</span>, <span class="number">200</span>, <span class="number">150</span>, <span class="number">80</span>, <span class="number">70</span>, <span class="number">110</span>, <span class="number">130</span>],</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">smooth</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">44</span>, <span class="number">20</span>, <span class="number">100</span>, <span class="number">80</span>, <span class="number">70</span>, <span class="number">40</span>, <span class="number">80</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxisIndex</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxisIndex</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myCharts.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot配置文件</title>
      <link href="/myBlog.github.io/2024/03/16/SpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>/myBlog.github.io/2024/03/16/SpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="注入配置文件属性值"><a href="#注入配置文件属性值" class="headerlink" title="注入配置文件属性值"></a>注入配置文件属性值</h2><h3 id="properties语法"><a href="#properties语法" class="headerlink" title="properties语法"></a>properties语法</h3><p>键(key)&#x3D;值(value)</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.thymeleaf.cache</span> = <span class="string">false</span></span><br></pre></td></tr></table></figure><h3 id="yaml-yml-语法"><a href="#yaml-yml-语法" class="headerlink" title="yaml(yml)语法"></a>yaml(yml)语法</h3><p>大小写敏感<br>key:value<br>使用空格缩进表示层级<br>不允许tab键缩进</p><h4 id="普通数据"><a href="#普通数据" class="headerlink" title="普通数据"></a>普通数据</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">student:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">fengyue</span></span><br><span class="line"> <span class="attr">age:</span> <span class="number">20</span></span><br><span class="line"> <span class="attr">height:</span> <span class="number">40</span></span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">student:</span> &#123;<span class="attr">name:</span> <span class="string">fengyue</span>,<span class="attr">age:</span> <span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">friend:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">zhangsan</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">lisi</span></span><br></pre></td></tr></table></figure><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">friend:</span></span><br><span class="line"> <span class="bullet">-</span></span><br><span class="line">   <span class="attr">name:</span> <span class="string">lisi</span></span><br><span class="line">   <span class="attr">age:</span> <span class="number">20</span></span><br><span class="line"> <span class="bullet">-</span> </span><br><span class="line">   <span class="attr">name:</span> <span class="string">zhangsan</span></span><br><span class="line">   <span class="attr">age:</span> <span class="number">20</span></span><br></pre></td></tr></table></figure><h3 id="注入"><a href="#注入" class="headerlink" title="注入"></a>注入</h3><h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><p>value注解可不写set方法,<br>不支持松散绑定和JSR303数据验证<br>不提供复杂数据类型</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constomer</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;student.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;student.age&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ConfigruationProperties-prefix-””"><a href="#ConfigruationProperties-prefix-””" class="headerlink" title="@ConfigruationProperties(prefix&#x3D;””)"></a>@ConfigruationProperties(prefix&#x3D;””)</h4><p>将properties或者yml配置文件转化为bean来使用的<br>prefix中写入在配置文件中对应的类名<br>和@Value不同要些set方法<br>@ConfigurationProperties会自动匹配对应对应的数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix=&quot;constomer&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constomer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h3><h4 id="Componet"><a href="#Componet" class="headerlink" title="@Componet"></a>@Componet</h4><p>在类上使用@Componet表示该类是SpringBoot的组件，将此类标记为Spring容器中的一个Bean<br>spring的组件扫描就会自动发现它，并且会将其初始化为spring应用上下文中的bean</p><h4 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h4><p>@Autowired可以标注在属性上、方法上和构造器上，来完成自动装配，依赖注入</p><h2 id="自定义配置类"><a href="#自定义配置类" class="headerlink" title="自定义配置类"></a>自定义配置类</h2><h3 id="Configuration和-Bean"><a href="#Configuration和-Bean" class="headerlink" title="@Configuration和@Bean"></a>@Configuration和@Bean</h3><p>@Bean表示标记为spring容器中的一个bean<br>@Configuration，表示定义一个配置类，有@Componet的功能<br>springboot会自动扫描配置类，可替代spring中的xml配置文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AutoProper</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;fengyue&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自定义配置文件"><a href="#自定义配置文件" class="headerlink" title="自定义配置文件"></a>自定义配置文件</h2><h3 id="properties的配置方法"><a href="#properties的配置方法" class="headerlink" title="properties的配置方法"></a>properties的配置方法</h3><p>springboot会自动使用名称为application的配置文件，当要使用其他名称的配置文件时就要手动配置<br>@PropertySource()引入自定义配置文件，指定配置文件的位置和名字<br>@EnableConfigurationProperties(Role.class)表示开启对应配置类的属性注入功能其余功能如下<br>1、让使用了 @ConfigurationProperties 注解的类生效<br>2、将该类注入到 IOC 容器中,交由 IOC 容器进行管理<br>注:在下面的例子中体系不出@EnableConfigurationProperties的作用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:mytest.properties&quot;)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(Role.class)</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;role&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Role</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Role&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="yaml的配置方法"><a href="#yaml的配置方法" class="headerlink" title="yaml的配置方法"></a>yaml的配置方法</h3><p>yaml的配置需要新建工厂转换类PropertySourceFactory</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyPropertySourceFactory</span> <span class="keyword">implements</span> <span class="title class_">PropertySourceFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">YamlPropertySourceLoader</span>().load(name,resource.getResource()).get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接着就是和properties类似的操作<br>在@ProperySource中需要指定工厂</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(value=&quot;classpath:mytest.yaml&quot;,factory = MyPropertySourceFactory.class)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(Role.class)</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;role&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Role</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Role&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Value中的EL表达式"><a href="#Value中的EL表达式" class="headerlink" title="@Value中的EL表达式"></a>@Value中的EL表达式</h2><p>#{}被包裹的数据可以参与运算</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;#&#123;$&#123;user.height&#125; + 10&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> h;</span><br></pre></td></tr></table></figure><h2 id="多环境配置"><a href="#多环境配置" class="headerlink" title="多环境配置"></a>多环境配置</h2><p>当前使用的时test配置<br>—该分割线用来分开配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/index</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">test</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/dev</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">dev</span></span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/test</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">test</span></span><br></pre></td></tr></table></figure><h2 id="配置文件之间的优先级"><a href="#配置文件之间的优先级" class="headerlink" title="配置文件之间的优先级"></a>配置文件之间的优先级</h2><p>1为最高优先级，优先级依次减低<br>1.在当前项目目录下的config文件<br>2.在当前项目目录下<br>3.在classpath根路径的config目录下<br>4.在classpath根路径下</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> spring学校笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript数据可视化基本图形</title>
      <link href="/myBlog.github.io/2024/03/11/javaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2/"/>
      <url>/myBlog.github.io/2024/03/11/javaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript数据可视化三大数据图"><a href="#JavaScript数据可视化三大数据图" class="headerlink" title="JavaScript数据可视化三大数据图"></a>JavaScript数据可视化三大数据图</h1><h2 id="柱形图-bar"><a href="#柱形图-bar" class="headerlink" title="柱形图(bar)"></a>柱形图(bar)</h2><h3 id="简单柱形图"><a href="#简单柱形图" class="headerlink" title="简单柱形图:"></a>简单柱形图:</h3><p><img src="/myBlog.github.io/img/%E7%AE%80%E5%8D%95%E6%9F%B1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bar</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.bar&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChar = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&quot;this my first chart&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>: <span class="string">&quot;this subtext&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtextStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;#bbb&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">padding</span>: [<span class="number">10</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;plain&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="string">&quot;1%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selected</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;sale&quot;</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">backgroundColor</span>: <span class="string">&quot;pink&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">&quot;red&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&quot;sale&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">icon</span>: <span class="string">&quot;circle&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">backgroundColor</span>:<span class="string">&quot;red&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&quot;item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;shadow&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">axis</span>: <span class="string">&#x27;auto&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">padding</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;#807900&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">containLabel</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">trigger</span>:<span class="string">&quot;item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;#298900&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">position</span>:<span class="string">&quot;bottom&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">offset</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&quot;sort&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameLocation</span>: <span class="string">&quot;end&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameTextStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">padding</span>: [<span class="number">10</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">5</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameGap</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameRotate</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbol</span>:[<span class="string">&#x27;none&#x27;</span>,<span class="string">&#x27;arrow&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:[<span class="number">8</span>,<span class="number">10</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolOffset</span>:[<span class="number">0</span>,<span class="number">7</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">&quot;#278572&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&quot;solid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisTick</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">inside</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">length</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;yellow&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">inside</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rotate</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">margin</span>:<span class="number">5</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitArea</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&quot;shirt&quot;</span>,<span class="string">&quot;cardigan&quot;</span>,<span class="string">&quot;trousers&quot;</span>,<span class="string">&quot;high heels&quot;</span>,<span class="string">&quot;socks&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">position</span>:<span class="string">&quot;left&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">offset</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameLocation</span>:<span class="string">&#x27;end&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&quot;sale&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameTextStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">padding</span>:[<span class="number">5</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">5</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameGap</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nameRotate</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbol</span>:[<span class="string">&#x27;none&#x27;</span>,<span class="string">&#x27;arrow&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolSize</span>:[<span class="number">8</span>,<span class="number">10</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">symbolOffset</span>:[<span class="number">0</span>,<span class="number">7</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;#fff&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisTick</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">inside</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">length</span>:<span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;yellow&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&quot;solid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">inside</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rotate</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">margin</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;red&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&quot;#666&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">width</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitArea</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&quot;sale&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;bar&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">legendHoverLink</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">position</span>:<span class="string">&#x27;insideTop&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rotate</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;#eee&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;blue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">barBorderRadius</span>:[<span class="number">18</span>,<span class="number">18</span>,<span class="number">10</span>,<span class="number">10</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">barWidth</span>:<span class="string">&#x27;50&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">barCategoryGap</span>:<span class="string">&#x27;20%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        myChar.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="堆积柱形图"><a href="#堆积柱形图" class="headerlink" title="堆积柱形图:"></a>堆积柱形图:</h3><p><img src="/myBlog.github.io/img/%E5%A0%86%E7%A7%AF%E6%9F%B1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bar</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.bar&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myChart)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//显示布局</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&quot;axis&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//鼠标移动到数据时的样式为阴影</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&quot;shadow&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&quot;直接访问&quot;</span>, <span class="string">&quot;邮件营销&quot;</span>, <span class="string">&quot;联盟广告&quot;</span>, <span class="string">&quot;视频广告&quot;</span>, <span class="string">&quot;搜索引擎&quot;</span>, <span class="string">&quot;百度&quot;</span>, <span class="string">&quot;谷歌&quot;</span>, <span class="string">&quot;必应&quot;</span>, <span class="string">&quot;其他&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>: <span class="string">&quot;vertical&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&quot;right&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>: &#123; </span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>, </span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">readOnly</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: [<span class="string">&quot;line&quot;</span>, <span class="string">&quot;bar&quot;</span>, <span class="string">&quot;stack&quot;</span>, <span class="string">&quot;tiled&quot;</span>],</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&quot;category&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;monday&quot;</span>,<span class="string">&quot;tuesday&quot;</span>,<span class="string">&quot;wednesday&quot;</span>,<span class="string">&quot;thursday&quot;</span>,<span class="string">&quot;friday&quot;</span>,<span class="string">&quot;saturday&quot;</span>,<span class="string">&quot;sunday&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                name :<span class="string">&#x27;直接访问&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">320</span>,<span class="number">332</span>,<span class="number">301</span>,<span class="number">334</span>,<span class="number">390</span>,<span class="number">330</span>,<span class="number">320</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        [&#123;<span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>&#125;,&#123;<span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>&#125;]</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;邮件营销&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;广告&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">120</span>,<span class="number">132</span>,<span class="number">101</span>,<span class="number">134</span>,<span class="number">90</span>,<span class="number">230</span>,<span class="number">210</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;联盟广告&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;广告&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">220</span>,<span class="number">182</span>,<span class="number">191</span>,<span class="number">234</span>,<span class="number">290</span>,<span class="number">330</span>,<span class="number">310</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;视频广告&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;广告&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">150</span>,<span class="number">232</span>,<span class="number">201</span>,<span class="number">154</span>,<span class="number">190</span>,<span class="number">330</span>,<span class="number">410</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;搜索引擎&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">860</span>,<span class="number">1018</span>,<span class="number">964</span>,<span class="number">1026</span>,<span class="number">1679</span>,<span class="number">1600</span>,<span class="number">1570</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        [&#123;<span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>&#125;,&#123;<span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>&#125;]</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;百度&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">barWidth</span>:<span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&quot;搜索引擎&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">620</span>,<span class="number">732</span>,<span class="number">701</span>,<span class="number">134</span>,<span class="number">290</span>,<span class="number">230</span>,<span class="number">220</span>]</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;必应&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;搜索引擎&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">60</span>,<span class="number">72</span>,<span class="number">71</span>,<span class="number">74</span>,<span class="number">190</span>,<span class="number">130</span>,<span class="number">110</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;其他&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;搜索引擎&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">62</span>,<span class="number">82</span>,<span class="number">91</span>,<span class="number">84</span>,<span class="number">109</span>,<span class="number">110</span>,<span class="number">120</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图:"></a>条形图:</h3><p><img src="/myBlog.github.io/img/%E6%9D%A1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bar</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.bar&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;世界人口总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>:<span class="string">&#x27;数据来源自网络&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&quot;axis&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;shadow&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;2011年&quot;</span>,<span class="string">&quot;2012年&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;show :<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">readOnly</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">type</span>:[<span class="string">&#x27;line&#x27;</span>,<span class="string">&#x27;bar&#x27;</span>]&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">boundaryGap</span>:[<span class="number">0</span>,<span class="number">0.01</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;A国&#x27;</span>,<span class="string">&#x27;B国&#x27;</span>,<span class="string">&#x27;C国&#x27;</span>,<span class="string">&#x27;D国&#x27;</span>,<span class="string">&#x27;E国&#x27;</span>,<span class="string">&#x27;世界人口(万)&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;2011年&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">18203</span>,<span class="number">23489</span>,<span class="number">29034</span>,<span class="number">104970</span>,<span class="number">131744</span>,<span class="number">630230</span>],</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;2012年&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">19325</span>,<span class="number">23438</span>,<span class="number">31000</span>,<span class="number">121594</span>,<span class="number">134141</span>,<span class="number">681807</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="瀑布流"><a href="#瀑布流" class="headerlink" title="瀑布流:"></a>瀑布流:</h3><p><img src="/myBlog.github.io/img/%E7%80%91%E5%B8%83%E6%9F%B1%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.bar</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.bar&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&#x27;深圳月最低生活费组成(单位:元)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>: <span class="string">&#x27;数据来自ExcelHome&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;shadow&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> tar = params[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> tar.<span class="property">name</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span> + tar.<span class="property">seriesName</span> + <span class="string">&#x27;:&#x27;</span> + tar.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">readOnly</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitLine</span>:&#123;<span class="attr">show</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;总费用&#x27;</span>,<span class="string">&#x27;房租&#x27;</span>,<span class="string">&#x27;水电费&#x27;</span>,<span class="string">&#x27;交通费&#x27;</span>,<span class="string">&#x27;伙食费&#x27;</span>,<span class="string">&#x27;日用品费用&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;辅助&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// barBorderColor:&#x27;rgba(0,0,0,0)&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">barBorderColor</span>:<span class="string">&quot;raba(20,20,0,0.5)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">barBorderWidth</span>:<span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// color:&quot;rgba(0,0,0,0)&quot;,</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&#x27;rgba(0,220,0,0.8)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//鼠标tach变色</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">barBorderColor</span>:<span class="string">&#x27;rgba(0,0,0,0)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">barBorderWidth</span>:<span class="number">25</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:<span class="string">&#x27;rgba(0,0,0,0)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">0</span>,<span class="number">1700</span>,<span class="number">1400</span>,<span class="number">1200</span>,<span class="number">300</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&quot;生活费&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//数据标签</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">postion</span>:<span class="string">&quot;inside&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">2900</span>,<span class="number">1200</span>,<span class="number">300</span>,<span class="number">200</span>,<span class="number">900</span>,<span class="number">300</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="折线图-line"><a href="#折线图-line" class="headerlink" title="折线图(line)"></a>折线图(line)</h2><h3 id="简单折线图"><a href="#简单折线图" class="headerlink" title="简单折线图:"></a>简单折线图:</h3><p><img src="/myBlog.github.io/img/%E7%AE%80%E5%8D%95%E6%8A%98%E7%BA%BF%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.line</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.line&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;某城市的人流统计&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;人流量&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;right&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            ,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&#x27;axis&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// formatter:function(params)&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     let tar = params[0];</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     return tar.name+&quot;:&lt;br/&gt;&quot;+tar.seriesName+&quot;:&quot;+tar.value</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">14</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;monday&quot;</span>,<span class="string">&quot;tuesday&quot;</span>,<span class="string">&quot;wednesday&quot;</span>,<span class="string">&quot;thursday&quot;</span>,<span class="string">&quot;friday&quot;</span>,<span class="string">&quot;saturday&quot;</span>,<span class="string">&quot;sunday&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;人流量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">80</span>,<span class="number">125</span>,<span class="number">160</span>,<span class="number">140</span>,<span class="number">200</span>,<span class="number">245</span>,<span class="number">155</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">smooth</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="堆积折线图"><a href="#堆积折线图" class="headerlink" title="堆积折线图:"></a>堆积折线图:</h3><p><img src="/myBlog.github.io/img/%E5%A0%86%E7%A7%AF%E6%8A%98%E7%BA%BF.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.line</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.line&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;堆积面积图&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;phone&#x27;</span>,<span class="string">&#x27;fridge&#x27;</span>,<span class="string">&#x27;conditioner&#x27;</span>,<span class="string">&#x27;television&#x27;</span>,<span class="string">&#x27;other&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">160</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&#x27;axis&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>:<span class="string">&quot;vertical&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">readOnly</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">type</span>:[<span class="string">&#x27;line&#x27;</span>,<span class="string">&#x27;bar&#x27;</span>,<span class="string">&#x27;stack&#x27;</span>,<span class="string">&#x27;tiled&#x27;</span>]&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">boundaryGap</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;monday&#x27;</span>,<span class="string">&#x27;tuesday&#x27;</span>,<span class="string">&#x27;wednesday&#x27;</span>,<span class="string">&#x27;thursday&#x27;</span>,<span class="string">&#x27;friday&#x27;</span>,<span class="string">&#x27;sunday&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;phone&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;rgb(0,0,0)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaStyle</span>:&#123;<span class="attr">type</span>:<span class="string">&#x27;default&#x27;</span>,<span class="attr">color</span>:<span class="string">&#x27;rgb(174,221,139)&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">434</span>,<span class="number">345</span>,<span class="number">456</span>,<span class="number">222</span>,<span class="number">333</span>,<span class="number">444</span>,<span class="number">432</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;fridge&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;blue&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaStyle</span>:&#123;<span class="attr">type</span>:<span class="string">&#x27;default&#x27;</span>,<span class="attr">color</span>:<span class="string">&#x27;rgb(107,194,43)&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">420</span>,<span class="number">282</span>,<span class="number">391</span>,<span class="number">344</span>,<span class="number">530</span>,<span class="number">410</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;conditioner&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaStyle</span>:&#123;<span class="attr">type</span>:<span class="string">&#x27;default&#x27;</span>,<span class="attr">color</span>:<span class="string">&#x27;rgb(6,128,67)&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">350</span>,<span class="number">332</span>,<span class="number">331</span>,<span class="number">334</span>,<span class="number">390</span>,<span class="number">320</span>,<span class="number">340</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;television&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;default&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&quot;grey&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">420</span>,<span class="number">222</span>,<span class="number">333</span>,<span class="number">442</span>,<span class="number">230</span>,<span class="number">430</span>,<span class="number">430</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;other&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;总量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;#FA8072&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;default&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>:<span class="string">&#x27;rgb(38,157,128)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[<span class="number">330</span>,<span class="number">442</span>,<span class="number">432</span>,<span class="number">555</span>,<span class="number">456</span>,<span class="number">666</span>,<span class="number">877</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="阶梯图"><a href="#阶梯图" class="headerlink" title="阶梯图:"></a>阶梯图:</h3><p><img src="/myBlog.github.io/img/%E9%98%B6%E6%A2%AF%E6%8A%98%E7%BA%BF%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.line</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.line&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;风景名胜区门票价格&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">15</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;景区A&#x27;</span>,<span class="string">&#x27;景区B&#x27;</span>,<span class="string">&#x27;景区C&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">260</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&quot;axis&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>:<span class="string">&#x27;4%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">bottom</span>:<span class="string">&#x27;3%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">containLabel</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;2013年&quot;</span>,<span class="string">&#x27;2014年&#x27;</span>,<span class="string">&#x27;2015年&#x27;</span>,<span class="string">&#x27;2016年&#x27;</span>,<span class="string">&#x27;2017年&#x27;</span>,<span class="string">&#x27;2018年&#x27;</span>,<span class="string">&#x27;2019年&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;景区A&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">step</span>:<span class="string">&#x27;start&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">120</span>,<span class="number">140</span>,<span class="number">120</span>,<span class="number">160</span>,<span class="number">250</span>,<span class="number">280</span>,<span class="number">240</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;景区B&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">step</span>:<span class="string">&#x27;middle&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">220</span>,<span class="number">280</span>,<span class="number">300</span>,<span class="number">350</span>,<span class="number">320</span>,<span class="number">380</span>,<span class="number">350</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;景区C&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">step</span>:<span class="string">&#x27;end&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="number">400</span>,<span class="number">480</span>,<span class="number">540</span>,<span class="number">450</span>,<span class="number">580</span>,<span class="number">750</span>,<span class="number">650</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="拼图-pie"><a href="#拼图-pie" class="headerlink" title="拼图(pie)"></a>拼图(pie)</h2><h3 id="简单饼图"><a href="#简单饼图" class="headerlink" title="简单饼图:"></a>简单饼图:</h3><p><img src="/myBlog.github.io/img/%E7%AE%80%E5%8D%95%E9%A5%BC%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.pid</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.pid&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&quot;影响健康、寿命的各类因素&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>: <span class="string">&quot;WHO统计调查报告&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="number">444</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">28</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>, <span class="attr">readOnly</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: [<span class="string">&quot;pid&quot;</span>, <span class="string">&quot;funnel&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">option</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">funnel</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">x</span>: <span class="string">&#x27;25%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">width</span>: <span class="string">&#x27;50%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">funnelAlign</span>: <span class="string">&#x27;left&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">max</span>: <span class="number">1548</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&quot;&#123;a&#125; &lt;br/&gt; &#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;生活方式&#x27;</span>, <span class="string">&#x27;遗传因素&#x27;</span>, <span class="string">&#x27;社会因素&#x27;</span>, <span class="string">&#x27;医疗条件&#x27;</span>, <span class="string">&#x27;气候环境&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="number">62</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">22</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;访问来源&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// radius:[&quot;45%&quot;,&quot;75%&quot;],</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>: <span class="string">&#x27;66%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>: [<span class="string">&#x27;58%&#x27;</span>, <span class="string">&#x27;55%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//沿着顺时针旋转</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">clockWise</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">60</span>, <span class="attr">name</span>: <span class="string">&#x27;生活方式&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">15</span>, <span class="attr">name</span>: <span class="string">&#x27;遗传因素&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">10</span>, <span class="attr">name</span>: <span class="string">&#x27;社会因素&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">8</span>, <span class="attr">name</span>: <span class="string">&#x27;医疗条件&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">7</span>, <span class="attr">name</span>: <span class="string">&#x27;气候环境&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="环形图"><a href="#环形图" class="headerlink" title="环形图:"></a>环形图:</h3><p><img src="/myBlog.github.io/img/%E7%8E%AF%E5%BD%A2%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.pid</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.pid&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&quot;影响健康、寿命的各类因素&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>: <span class="string">&quot;WHO统计调查报告&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="number">444</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">28</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>, <span class="attr">readOnly</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: [<span class="string">&quot;pid&quot;</span>, <span class="string">&quot;funnel&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">option</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">funnel</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">x</span>: <span class="string">&#x27;25%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">width</span>: <span class="string">&#x27;50%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">funnelAlign</span>: <span class="string">&#x27;left&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">max</span>: <span class="number">1548</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&quot;&#123;a&#125; &lt;br/&gt; &#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;生活方式&#x27;</span>, <span class="string">&#x27;遗传因素&#x27;</span>, <span class="string">&#x27;社会因素&#x27;</span>, <span class="string">&#x27;医疗条件&#x27;</span>, <span class="string">&#x27;气候环境&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="number">62</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">22</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;访问来源&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&quot;45%&quot;</span>,<span class="string">&quot;75%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// radius: &#x27;66%&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>: [<span class="string">&#x27;58%&#x27;</span>, <span class="string">&#x27;55%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//沿着顺时针旋转</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">clockWise</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">60</span>, <span class="attr">name</span>: <span class="string">&#x27;生活方式&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">15</span>, <span class="attr">name</span>: <span class="string">&#x27;遗传因素&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">10</span>, <span class="attr">name</span>: <span class="string">&#x27;社会因素&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">8</span>, <span class="attr">name</span>: <span class="string">&#x27;医疗条件&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">value</span>: <span class="number">7</span>, <span class="attr">name</span>: <span class="string">&#x27;气候环境&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="堆积拼图"><a href="#堆积拼图" class="headerlink" title="堆积拼图:"></a>堆积拼图:</h3><p><img src="/myBlog.github.io/img/%E5%A0%86%E7%A7%AF%E9%A5%BC%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.pie</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">850px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pie&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.pie&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;某大学三大学院的专业分布&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">backgroundColor</span>:<span class="string">&quot;yellow&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontSize</span>:<span class="number">28</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontFamily</span>:<span class="string">&quot;黑体&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&quot;item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>:<span class="string">&#x27;&#123;a&#125;&lt;br/&gt;&#123;b&#125;:&#123;c&#125;(&#123;d&#125;%)&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>:<span class="string">&quot;vertical&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="number">32</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>:<span class="number">74</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;1-软件技术&#x27;</span>,<span class="string">&#x27;1-移动应用开发&#x27;</span>,<span class="string">&#x27;2-大数据技术与应用&#x27;</span>,<span class="string">&#x27;2-移动互联应用技术&#x27;</span>,<span class="string">&#x27;2-云计算技术与应用&#x27;</span>,<span class="string">&#x27;3-投资与理财&#x27;</span>,<span class="string">&#x27;3-财务管理&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="number">700</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">readOnly</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>:&#123;<span class="attr">type</span>:[<span class="string">&quot;pie&quot;</span>,<span class="string">&quot;funnel&quot;</span>],<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;专业名称&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">selectedMode</span>:<span class="string">&#x27;single&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&#x27;10%&#x27;</span>,<span class="string">&#x27;30%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">position</span>:<span class="string">&#x27;inner&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">labelLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1200</span>,<span class="attr">name</span>:<span class="string">&#x27;计算机学院&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">900</span>,<span class="attr">name</span>:<span class="string">&#x27;大数据学院&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">600</span>,<span class="attr">name</span>:<span class="string">&#x27;财金学院&#x27;</span>,<span class="attr">selected</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;专业名称&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">selectedMode</span>:<span class="string">&#x27;single&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&#x27;40%&#x27;</span>,<span class="string">&#x27;55%&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">800</span>,<span class="attr">name</span>:<span class="string">&#x27;1-软件技术&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">400</span>,<span class="attr">name</span>:<span class="string">&#x27;1-移动应用开发&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">500</span>,<span class="attr">name</span>:<span class="string">&#x27;2-大数据技术与应用&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">200</span>,<span class="attr">name</span>:<span class="string">&#x27;2-移动互联应用技术&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">200</span>,<span class="attr">name</span>:<span class="string">&#x27;2-云计算技术与应用&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">400</span>,<span class="attr">name</span>:<span class="string">&#x27;3-投资与理财&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">200</span>,<span class="attr">name</span>:<span class="string">&#x27;3-财务管理&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="玫瑰拼图"><a href="#玫瑰拼图" class="headerlink" title="玫瑰拼图:"></a>玫瑰拼图:</h3><p><img src="/myBlog.github.io/img/%E7%8E%AB%E7%91%B0%E9%A5%BC%E5%9B%BE.png" alt="这是图片"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.rose</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&#x27;rose&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.rose&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChart = echarts.<span class="title function_">init</span>(box)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;二级学院分布————南丁格尔玫瑰图&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">backgroundColor</span>:<span class="string">&quot;#B5A642&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">textStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontSize</span>:<span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">fontFamily</span>:<span class="string">&quot;黑体&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>:<span class="string">&quot;#9932CD&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&quot;item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>:<span class="string">&quot;&#123;a&#125;&lt;br/&gt;&#123;b&#125;:&#123;c&#125;(&#123;d&#125;%)&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;计算机&#x27;</span>,<span class="string">&#x27;大数据&#x27;</span>,<span class="string">&#x27;外国语&#x27;</span>,<span class="string">&#x27;机器人&#x27;</span>,<span class="string">&#x27;建工&#x27;</span>,<span class="string">&#x27;机电&#x27;</span>,<span class="string">&#x27;艺术&#x27;</span>,<span class="string">&#x27;财经&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>:<span class="string">&quot;bottom&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>:<span class="number">800</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>:<span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>,<span class="attr">readOnly</span>:<span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">magicType</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>:[<span class="string">&#x27;pie&#x27;</span>,<span class="string">&#x27;funnel&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calculable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;学生人数(半径模式)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&#x27;10%&#x27;</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&#x27;30%&#x27;</span>,<span class="number">300</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">roseType</span>:<span class="string">&#x27;radius&#x27;</span>,<span class="comment">//设置南丁格尔玫瑰图参数：半径模式</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">width</span>:<span class="string">&#x27;50%&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">labelLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">emphasis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">labelLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">2000</span>,<span class="attr">name</span>:<span class="string">&#x27;计算机&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1500</span>,<span class="attr">name</span>:<span class="string">&#x27;大数据&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1200</span>,<span class="attr">name</span>:<span class="string">&#x27;外国语&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1100</span>,<span class="attr">name</span>:<span class="string">&#x27;机器人&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1000</span>,<span class="attr">name</span>:<span class="string">&#x27;建工&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">900</span>,<span class="attr">name</span>:<span class="string">&#x27;机电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">800</span>,<span class="attr">name</span>:<span class="string">&#x27;艺术&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">700</span>,<span class="attr">name</span>:<span class="string">&#x27;财经&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;学生人数(面积模式)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&quot;10%&quot;</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;50%&quot;</span>,<span class="number">200</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">roseType</span>:<span class="string">&#x27;area&#x27;</span>,<span class="comment">//设置南丁格尔玫瑰图为面积模式</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">sort</span>:<span class="string">&#x27;ascending&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">2000</span>,<span class="attr">name</span>:<span class="string">&#x27;计算机&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1500</span>,<span class="attr">name</span>:<span class="string">&#x27;大数据&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1200</span>,<span class="attr">name</span>:<span class="string">&#x27;外国语&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1100</span>,<span class="attr">name</span>:<span class="string">&#x27;机器人&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1000</span>,<span class="attr">name</span>:<span class="string">&#x27;建工&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">900</span>,<span class="attr">name</span>:<span class="string">&#x27;机电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">800</span>,<span class="attr">name</span>:<span class="string">&#x27;艺术&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">700</span>,<span class="attr">name</span>:<span class="string">&#x27;财经&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;教授人数(面积模式)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">radius</span>:[<span class="string">&quot;10%&quot;</span>,<span class="string">&quot;50%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">center</span>:[<span class="string">&quot;50%&quot;</span>,<span class="number">600</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">roseType</span>:<span class="string">&#x27;area&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">x</span>:<span class="string">&quot;50%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max</span>:<span class="number">40</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">sorrt</span>:<span class="string">&#x27;ascending&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">2000</span>,<span class="attr">name</span>:<span class="string">&#x27;计算机&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1500</span>,<span class="attr">name</span>:<span class="string">&#x27;大数据&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1200</span>,<span class="attr">name</span>:<span class="string">&#x27;外国语&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1100</span>,<span class="attr">name</span>:<span class="string">&#x27;机器人&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">1000</span>,<span class="attr">name</span>:<span class="string">&#x27;建工&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">900</span>,<span class="attr">name</span>:<span class="string">&#x27;机电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">800</span>,<span class="attr">name</span>:<span class="string">&#x27;艺术&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">value</span>:<span class="number">700</span>,<span class="attr">name</span>:<span class="string">&#x27;财经&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> javaScript框架 </category>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reggie外卖项目搭建</title>
      <link href="/myBlog.github.io/2024/03/02/Reggie%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/"/>
      <url>/myBlog.github.io/2024/03/02/Reggie%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="Reggie外卖项目搭建"><a href="#Reggie外卖项目搭建" class="headerlink" title="Reggie外卖项目搭建"></a>Reggie外卖项目搭建</h1><h2 id="Reggie外卖数据库部署"><a href="#Reggie外卖数据库部署" class="headerlink" title="Reggie外卖数据库部署"></a>Reggie外卖数据库部署</h2><blockquote><p>创建数据库，使用sql语句创建:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span><span class="keyword">create</span> database reggie <span class="type">character</span> <span class="keyword">set</span> utf8</span><br></pre></td></tr></table></figure><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/one.png"></p></blockquote><h2 id="导入数据，运行sql文件导入"><a href="#导入数据，运行sql文件导入" class="headerlink" title="导入数据，运行sql文件导入"></a>导入数据，运行sql文件导入</h2><blockquote><p>使用图型界面导入sql文件（如果使用命令：source 文件路径）:<br><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/two.png"></p><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/three.png"></p></blockquote><h2 id="1-打开Idea-新建项目Maven"><a href="#1-打开Idea-新建项目Maven" class="headerlink" title="1.打开Idea 新建项目Maven"></a>1.打开Idea 新建项目Maven</h2><blockquote><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/four.png"></p></blockquote><blockquote><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/five.png"></p></blockquote><h2 id="2-导入依赖"><a href="#2-导入依赖" class="headerlink" title="2.导入依赖"></a>2.导入依赖</h2><blockquote></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reggie_take_out<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.76<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-新建springboot入口文件"><a href="#3-新建springboot入口文件" class="headerlink" title="3.新建springboot入口文件"></a>3.新建springboot入口文件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itmeima.reggie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude= &#123;DataSourceAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReggieApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span>&#123;</span><br><span class="line">        SpringApplication.run(ReggieApplication.class,args);</span><br><span class="line">        log.info(<span class="string">&quot;项目运行成功...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-yaml文件"><a href="#4-yaml文件" class="headerlink" title="4.yaml文件"></a>4.yaml文件</h2><p>在resource文件夹下导入yaml文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">reggie_take_out</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#      url: jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;characterEncoding=utf-8&amp;useSSL=false&amp;useUnicode=true</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#在映射实体或者属性时，将数据库中表名和字段名中的下划线去掉，按照驼峰命名法映射</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span></span><br></pre></td></tr></table></figure><h2 id="5-导入静态页面"><a href="#5-导入静态页面" class="headerlink" title="5.导入静态页面"></a>5.导入静态页面</h2><p>通过黑马程序员那里取来了前端页面，将这两文件复制到项目的resource文件夹下:</p><blockquote><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/six.png"></p></blockquote><p>spring项目的默认静态资源文件夹为static，而且也并没有配置template所以需要创建配置类手动映射<br></p><p>创建config包且新建WebMvcConfig类:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itmeima.reggie.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    静态资源映射,默认为static</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line"></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/front/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/front/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/backend/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/backend/&quot;</span>);</span><br><span class="line">        log.info(<span class="string">&quot;静态资源映射成功...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最后clean一下运行且进入网站(Maven中clean)</p><blockquote><p><img src="/myBlog.github.io/img/Reggie%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87/seven.png"></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
          <category> springboot项目 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python网路爬虫介绍</title>
      <link href="/myBlog.github.io/2024/02/29/python%E7%BD%91%E8%B7%AF%E7%88%AC%E8%99%AB%E4%BB%8B%E7%BB%8D/"/>
      <url>/myBlog.github.io/2024/02/29/python%E7%BD%91%E8%B7%AF%E7%88%AC%E8%99%AB%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>1.类名选择器 .<br>2.id选择器 #<br>3.标签选择器</p><h2 id="组合器"><a href="#组合器" class="headerlink" title="组合器"></a>组合器</h2><h3 id="直接子代组合器"><a href="#直接子代组合器" class="headerlink" title="直接子代组合器"></a>直接子代组合器</h3><h4 id="后代组合器"><a href="#后代组合器" class="headerlink" title="后代组合器"></a>后代组合器</h4><p>“ ”（空格）组合器选择前一个元素的后代节点。</p><p>语法：A B</p><p>例子：div span 匹配所有位于任意 <div> 元素之内的 <span> 元素。</p><h4 id="直接子代组合器-1"><a href="#直接子代组合器-1" class="headerlink" title="直接子代组合器"></a>直接子代组合器</h4><blockquote><p>组合器选择前一个元素的直接子代的节点。<br>语法：A &gt; B</p></blockquote><p>例子：ul &gt; li 匹配直接嵌套在 <ul> 元素内的所有 <li> 元素。</p><h4 id="一般兄弟组合器"><a href="#一般兄弟组合器" class="headerlink" title="一般兄弟组合器"></a>一般兄弟组合器</h4><p>~ 组合器选择兄弟元素，也就是说，后一个节点在前一个节点后面的任意位置，并且共享同一个父节点。</p><p>语法：A ~ B</p><p>例子：p ~ span 匹配同一父元素下，<p> 元素后的所有 <span> 元素。</p><h4 id="紧邻兄弟组合器"><a href="#紧邻兄弟组合器" class="headerlink" title="紧邻兄弟组合器"></a>紧邻兄弟组合器</h4><ul><li>组合器选择相邻元素，即后一个元素紧跟在前一个之后，并且共享同一个父节点。</li></ul><p>语法：A + B</p><p>例子：h2 + p 会匹配紧邻在 h2 元素后的第一个 <p> 元素。</p><h4 id="列组合器-实验性"><a href="#列组合器-实验性" class="headerlink" title="列组合器 实验性"></a>列组合器 实验性</h4><p>|| 组合器选择属于某个表格行的节点。</p><p>语法：A || B</p><p>例子：col || td 会匹配所有 <col> 作用域内的 <td> (en-US) 元素。</p><h2 id="什么是网络爬虫"><a href="#什么是网络爬虫" class="headerlink" title="什么是网络爬虫"></a>什么是网络爬虫</h2><p>我们将互联网(因特网)比作一张巨大的蜘蛛网，而爬虫就是一个蜘蛛，沿着蜘蛛网抓取想要的昆虫(数据)<br>爬虫就是一个探测机器，模拟人的行为去各个网站爬取想要的数据，像一只虫子在网上不知疲倦的工作</p><h3 id="爬虫的发展"><a href="#爬虫的发展" class="headerlink" title="爬虫的发展"></a>爬虫的发展</h3><p>1.在网站发展以前，最开始的网站数量很少，用户访问网站都是通过输入域名进行访问<br>2.随着互联网发展，网站的数量呈爆炸式增长，用户的数量也在变多，需求随之发生变化，从主动浏览变成被动查询<br>3.搜索网站随之诞生，爬虫也随之诞生</p><h3 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h3><p>客户端向服务器发送请求<br>1.请求网址 request url(统一资源定位符)<br>2.请求方法 request methods<br>3.请求头 request headers<br>谷歌浏览器 webkit Blink  firefox  IE    safari   欧鹏<br>urllib&#x2F;python 3.0<br>4.请求体 request body</p><p>爬虫模拟浏览器，发送请求，获取响应<br>为什么要模拟浏览器<br>一般来说服务器是不欢迎爬虫程序的，爬虫要尽可能的模拟正常用户发送请求<br>爬虫的工作—模拟客户端访问，抓取数据<br>反爬的工作—保护数据，阻止恶意网络攻击<br>反反爬—针对反爬采取的措施</p><h3 id="爬虫的用途"><a href="#爬虫的用途" class="headerlink" title="爬虫的用途"></a>爬虫的用途</h3><p>数据分析&#x2F;人工数据集<br>社交软件冷启动<br>舆情监控<br>竞争对手监控<br>自动化测试<br>做一些脱离手动的操作(买票，投票)<br>灰产业<br>    薅羊毛、发起网络攻击、水军</p><h3 id="robots协议"><a href="#robots协议" class="headerlink" title="robots协议"></a>robots协议</h3><p>一个约束文本文件,防君子不防小人</p><h3 id="爬虫的分类"><a href="#爬虫的分类" class="headerlink" title="爬虫的分类"></a>爬虫的分类</h3><pre><code>通用爬虫    特点:爬取的网站没有上限    百度、360、google    SEO优化(获得搜索引擎免费流量扶持)    SEM搜索引擎营销聚焦爬虫    特点:爬取的网站有上限，有明确的目标    分类        功能性爬虫            特点:不针对数据,主要目的是为了实现某一些功能        数据增量爬虫            特点:获取数据用于后续的分析            分类                url与数据同时变化                    数据与url同时更新                url不变，数据发生变化                    数据部分更新</code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> python网络爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring</title>
      <link href="/myBlog.github.io/2024/02/26/spring/"/>
      <url>/myBlog.github.io/2024/02/26/spring/</url>
      
        <content type="html"><![CDATA[<h1 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h1><p>spring是一个轻量级非入侵的框架，控制反转（ioc）和面向切面（aop）是spring的核心<br>spring可以通过 maven中的spring web mvc导入<br>支持事务处理，对框架整合支持</p><h2 id="spring七大模块"><a href="#spring七大模块" class="headerlink" title="spring七大模块"></a>spring七大模块</h2><h3 id="1、核心容器-Spring-Core"><a href="#1、核心容器-Spring-Core" class="headerlink" title="1、核心容器(Spring Core)"></a>1、核心容器(Spring Core)</h3><p>核心容器提供Spring框架的基础功能。Spring以bean的方式进行java应用的各大组件及关系的组织和管理。Spring使用BeanFactory来产生和管理bean,是工厂模式的实现。BeanFactory使用控制反转（IOC）模式来将应用的配置和依赖性规范与实际的应用程序代码分开。</p><h3 id="2、应用上下文（Spring-Context）"><a href="#2、应用上下文（Spring-Context）" class="headerlink" title="2、应用上下文（Spring Context）"></a>2、应用上下文（Spring Context）</h3><p>实现了ApplicationContext接口，Spring的上下文，拓展了核心容器，提供事件处理、国际化等功能。它还提供了一些企业级服务的功能，提供了JNDI、EJB、RMI的支持。</p><h3 id="3、Spring面向切面编程（Spring-AOP）"><a href="#3、Spring面向切面编程（Spring-AOP）" class="headerlink" title="3、Spring面向切面编程（Spring AOP）"></a>3、Spring面向切面编程（Spring AOP）</h3><p>提供切面支持，是个轻量级的容器。Spring管理的任何对象都支持AOP，SpringAOP模块基于Spring的应用程序中的对象提供了事务管理服务，通过使用SpringAOP，就可以将声明性事务管理集成在应用程序中。</p><h3 id="4、JDBC和DAO模块（Spring-DAO）"><a href="#4、JDBC和DAO模块（Spring-DAO）" class="headerlink" title="4、JDBC和DAO模块（Spring DAO）"></a>4、JDBC和DAO模块（Spring DAO）</h3><p>提供对JDBC的支持，还提供了DAO的支持，提供事务支持。</p><p>JDBC、DAO的抽象层，提供了有意义的异常层次结构实现，可用该结构来管理异常处理，和不同数据库提供商抛出的错误信息，异常层次结构简化了错误处理，并且极大的降低了需要编写的代码数量，比如打开和关闭链接。</p><h3 id="5、对象实体映射（Spring-ORM）"><a href="#5、对象实体映射（Spring-ORM）" class="headerlink" title="5、对象实体映射（Spring ORM）"></a>5、对象实体映射（Spring ORM）</h3><p>ORM：Object Relational Mapping，指对象实体映射。Spring插入了若干个ORM框架，提供了ORM对象的关系工具，其中包括Hibernate，JDO和IBatisSQL Map等，所有这些都遵从Spring的通用事务和DAO异常层次结构。</p><h3 id="6、Web模块（Spring-Web）"><a href="#6、Web模块（Spring-Web）" class="headerlink" title="6、Web模块（Spring Web）"></a>6、Web模块（Spring Web）</h3><p>拓展了Spring上下文，提供Web应用上下文，对Web开发提供功能上的支持，如请求、表单、异常等。</p><h3 id="7、MVC模块（SpringWebMVC）"><a href="#7、MVC模块（SpringWebMVC）" class="headerlink" title="7、MVC模块（SpringWebMVC）"></a>7、MVC模块（SpringWebMVC）</h3><p>MVC框架是一个全功能的构建Web应用程序的MVC实现，通过策略接口，MVC框架编程高度可配置的，MVC容纳了大量视图技术，其中包括JSP，POI等，模型由JavaBean来构成，存放于m当中，而视图是一个接口，负责实现模型，控制器表示逻辑代码，由c的事情。</p><p>spring框架的功能可以用在任何J2EE服务器当中，大多数功能也适用于不受管理的环境，spring的核心要点就是支持不绑定到特定J2EE服务的可重用业务和数据的访问对象，毫无疑问这样的对象可以在不同的J2EE环境，独立应用程序和测试环境之间重用。</p><h2 id="ioc"><a href="#ioc" class="headerlink" title="ioc"></a>ioc</h2><p>id为bean的姓名 class为控制反转的全全限定名<br>property可以调用javabean中的set方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;userServer&quot; class=&quot;server.UserDaoImpli&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;user&quot; ref=&quot;userVip&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br></pre></td></tr></table></figure><h2 id="怎么实现控制反转有参构造"><a href="#怎么实现控制反转有参构造" class="headerlink" title="怎么实现控制反转有参构造"></a>怎么实现控制反转有参构造</h2><h3 id="1-下标赋值："><a href="#1-下标赋值：" class="headerlink" title="1.下标赋值："></a>1.下标赋值：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在&lt;bean&gt;中输入&lt;constructor-arg index=&quot;&quot; value=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="2-参数类型匹配"><a href="#2-参数类型匹配" class="headerlink" title="2.参数类型匹配"></a>2.参数类型匹配</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;constructor-arg type=&quot;&quot; value=&quot;&quot;&gt;会根据你的有参类型赋值，如果有多个参数相同会根据顺序赋值</span><br></pre></td></tr></table></figure><h3 id="3-通过参数名称赋值"><a href="#3-通过参数名称赋值" class="headerlink" title="3.通过参数名称赋值"></a>3.通过参数名称赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;constructor-arg name=&quot;&quot; value=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure><h4 id="额外知识：在配置文件被执行时对应的javabean就会被实例化"><a href="#额外知识：在配置文件被执行时对应的javabean就会被实例化" class="headerlink" title="额外知识：在配置文件被执行时对应的javabean就会被实例化"></a>额外知识：在配置文件被执行时<bean>对应的javabean就会被实例化</h4><h4 id="导入spring核心beans-xml在配置上下文"><a href="#导入spring核心beans-xml在配置上下文" class="headerlink" title="导入spring核心beans.xml在配置上下文"></a>导入spring核心beans.xml在配置上下文</h4><h4 id="默认spring的控制反转前提是javabean有无参构造"><a href="#默认spring的控制反转前提是javabean有无参构造" class="headerlink" title="默认spring的控制反转前提是javabean有无参构造"></a>默认spring的控制反转前提是javabean有无参构造</h4><h4 id="在容器（beans-xml）在加载的时候对象就已经初始化了"><a href="#在容器（beans-xml）在加载的时候对象就已经初始化了" class="headerlink" title="在容器（beans.xml）在加载的时候对象就已经初始化了"></a>在容器（beans.xml）在加载的时候对象就已经初始化了</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</span><br><span class="line">        UserDaoImpli userServer = (UserDaoImpli) applicationContext.getBean(&quot;userServer&quot;);</span><br><span class="line">        UserDaoImpli userDaoImpli=(UserDaoImpli) applicationContext.getBean(&quot;userServer&quot;);</span><br><span class="line">        System.out.println(userDaoImpli==userServer);</span><br></pre></td></tr></table></figure><h2 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h2><h3 id="1-别名alias"><a href="#1-别名alias" class="headerlink" title="1.别名alias"></a>1.别名alias</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;alias name=&quot;userVip&quot; alias=&quot;userVip2&quot;/&gt;</span><br></pre></td></tr></table></figure><p>起别名也可以在bean标签中的name属性中设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;&quot; class=&quot;&quot; name=&quot;&quot;&gt; </span><br></pre></td></tr></table></figure><h3 id="2-import可以将多个配置文件导入合并为一个"><a href="#2-import可以将多个配置文件导入合并为一个" class="headerlink" title="2.import可以将多个配置文件导入合并为一个"></a>2.import可以将多个配置文件导入合并为一个</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;import resource=&quot;bean.xml&quot;/&gt;</span><br></pre></td></tr></table></figure><h1 id="依赖注入-DI"><a href="#依赖注入-DI" class="headerlink" title="依赖注入(DI)"></a>依赖注入(DI)</h1><h1 id="set注入"><a href="#set注入" class="headerlink" title="set注入"></a>set注入</h1><h2 id="1-一般类型注入"><a href="#1-一般类型注入" class="headerlink" title="1.一般类型注入"></a>1.一般类型注入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;name&quot; value=&quot;冯越&quot;/&gt;</span><br></pre></td></tr></table></figure><h2 id="2-对象注入"><a href="#2-对象注入" class="headerlink" title="2.对象注入"></a>2.对象注入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;name&quot; ref=&quot;&quot;/&gt;</span><br></pre></td></tr></table></figure><h2 id="3-数组注入"><a href="#3-数组注入" class="headerlink" title="3.数组注入"></a>3.数组注入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;books&quot;&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;红楼梦&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;西游记&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;水浒传&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;三国演义&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="4-map注入"><a href="#4-map注入" class="headerlink" title="4.map注入"></a>4.map注入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    &lt;property name=&quot;card&quot;&gt;</span><br><span class="line">            &lt;map&gt;</span><br><span class="line">                &lt;entry key=&quot;身份证&quot; value=&quot;361030200403091718&quot;/&gt;</span><br><span class="line">                &lt;entry key=&quot;学生号&quot; value=&quot;322031608&quot;/&gt;</span><br><span class="line">            &lt;/map&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="5-set"><a href="#5-set" class="headerlink" title="5.set"></a>5.set</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;games&quot;&gt;</span><br><span class="line">            &lt;set&gt;</span><br><span class="line">                &lt;value&gt;LOL&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;Minecraft&lt;/value&gt;</span><br><span class="line">            &lt;/set&gt;</span><br><span class="line">        &lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="6-列表注入"><a href="#6-列表注入" class="headerlink" title="6.列表注入"></a>6.列表注入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;books&quot;&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;红楼梦&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;西游记&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;水浒传&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;三国演义&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="7-空"><a href="#7-空" class="headerlink" title="7.空"></a>7.空</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;wife&quot;&gt;</span><br><span class="line">       &lt;null/&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="8-Properties"><a href="#8-Properties" class="headerlink" title="8.Properties"></a>8.Properties</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;info&quot;&gt;</span><br><span class="line">           &lt;props&gt;</span><br><span class="line">               &lt;prop key=&quot;user&quot;&gt;root&lt;/prop&gt;</span><br><span class="line">           &lt;/props&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h2 id="c命令与p命令"><a href="#c命令与p命令" class="headerlink" title="c命令与p命令"></a>c命令与p命令</h2><p>在xml文件上方添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">xmlns:c=&quot;http://www.springframework.org/schema/c&quot;</span><br><span class="line">&lt;bean id=&quot;getName&quot; class=&quot;pojo.Student&quot; p:name=&quot;冯越&quot;&gt;</span><br><span class="line">&lt;bean id=&quot;getName&quot; class=&quot;pojo.Student&quot; c:name=&quot;冯越&quot; c:age=18&gt;</span><br></pre></td></tr></table></figure><p>p表示property，c表示construct(有参构造器)</p><h1 id="bean的作用域"><a href="#bean的作用域" class="headerlink" title="bean的作用域"></a>bean的作用域</h1><h2 id="singleton-单例模式-默认"><a href="#singleton-单例模式-默认" class="headerlink" title="singleton 单例模式(默认)"></a>singleton 单例模式(默认)</h2><p>共享对象 同一个bean造出来的对象相等</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;getName&quot; class=&quot;pojo.Student&quot; scorpe=&quot;singleton&quot;&gt;</span><br></pre></td></tr></table></figure><h2 id="prototype原型模式"><a href="#prototype原型模式" class="headerlink" title="prototype原型模式"></a>prototype原型模式</h2><p>独立对象 同一个bean造出来的对象会一样,每次getBean时都会产生新的对象</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;getName&quot; class=&quot;pojo.Student&quot; scorpe=&quot;prototype&quot;&gt;</span><br></pre></td></tr></table></figure><h2 id="其余session-application-request-只能在web开发中使用到"><a href="#其余session-application-request-只能在web开发中使用到" class="headerlink" title="其余session application request 只能在web开发中使用到"></a>其余session application request 只能在web开发中使用到</h2><h1 id="Bean的自动装配"><a href="#Bean的自动装配" class="headerlink" title="Bean的自动装配"></a>Bean的自动装配</h1><p>spring会上下文自动寻找，并自动个bean装配属性<br>自动装配是spring满足bean依赖的一种方式</p><h2 id="spring的三种装配的方式"><a href="#spring的三种装配的方式" class="headerlink" title="spring的三种装配的方式"></a>spring的三种装配的方式</h2><h3 id="1-在xml中显示的配置"><a href="#1-在xml中显示的配置" class="headerlink" title="1.在xml中显示的配置"></a>1.在xml中显示的配置</h3><h3 id="2-在java中显示配置"><a href="#2-在java中显示配置" class="headerlink" title="2.在java中显示配置"></a>2.在java中显示配置</h3><p>不使用spring的xml配置，全权交给java<br>在Java中生成一个类，在类上面写@Configration<br>@Bean相当于xml写的一个bean而id就是方法名<br>这个方法的返回值相当于bean的class</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@ComponentScan(&quot;pojo&quot;)</span><br><span class="line">@import(&quot;&quot;)</span><br><span class="line">public class Configfeng &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public User getUser()&#123;</span><br><span class="line">        return new User();//就是返回到注入bean的对象</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@import相当于</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;import resource=&quot;bean.xml&quot;/&gt;</span><br></pre></td></tr></table></figure><h3 id="3-隐式的自动装配"><a href="#3-隐式的自动装配" class="headerlink" title="3.隐式的自动装配"></a>3.隐式的自动装配</h3><p>byName：会自动在容器上下文中查找，和自己对象set方法后面值对应的beanid id</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;getName&quot; autowire=&quot;byName&quot;&gt;</span><br></pre></td></tr></table></figure><p>byType：会自动在容器上下文中查找，和自己对象属性类型相同的bean,但必须类型全局唯一 class</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;pojo.Student&quot; autowire=&quot;byType&quot;&gt;</span><br></pre></td></tr></table></figure><p>byName时保证所有bean的id唯一，并且这个bean需要和自动注入属性的set方法保持一致<br>byType需要保证所有bean的对象类型唯一，并且这个bean需要和自动注入的属性类型一致</p><h1 id="注解开发"><a href="#注解开发" class="headerlink" title="注解开发"></a>注解开发</h1><p>导入约束：context约束<br>配置注解的支持：context:annotation-config&#x2F;<br>指定要扫描的包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;context:component-scan base-package=&quot;com.kuang.pojo&quot;/&gt;</span><br><span class="line">&lt;context:annotation-config/&gt;</span><br></pre></td></tr></table></figure><p>@Component写在对应实体类上面<br>等价于</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;userServer&quot; class=&quot;server.UserServerImplement&quot;&gt;</span><br></pre></td></tr></table></figure><p>@Value(“冯越”)写在实体类对应属性上面或者写在set方法上面<br>等价于</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;user&quot; ref=&quot;userDao&quot;/&gt;</span><br></pre></td></tr></table></figure><p>@Component的衍生注解 功能都一样<br>在dao层@Repository<br>在server层@Service<br>在controller层@Controller</p><p>作用域注解<br>@Scorpe(“singleton”)</p><p>小结<br>xml配置：更加万能，适用于任何场合维护简单<br>注解:不是自己的类使用不了，维护复杂<br>xml用来管理bean<br>注解只负责完成属性的注入</p><h1 id="Aop"><a href="#Aop" class="headerlink" title="Aop"></a>Aop</h1><h2 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h2><h3 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h3><p>角色分析：<br>    抽象角色：一般会使用接口或者抽象类<br /><br>    真实角色：被代理的角色<br /><br>    代理角色：代理真实角色，代理真实角色后，我们一般会做一些附操作<br /><br>    客户：访问代理对象的人<br /><br>代码举例：</p><h4 id="抽象角色：出租"><a href="#抽象角色：出租" class="headerlink" title="抽象角色：出租"></a>抽象角色：出租</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Hire &#123;</span><br><span class="line">    public void hire();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="真实角色：房东"><a href="#真实角色：房东" class="headerlink" title="真实角色：房东"></a>真实角色：房东</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Host implements Hire&#123;</span><br><span class="line">    private String name;</span><br><span class="line">    @Override</span><br><span class="line">    public void hire() &#123;</span><br><span class="line">        System.out.println(name+&quot;出租房屋了&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="代理角色：中介"><a href="#代理角色：中介" class="headerlink" title="代理角色：中介"></a>代理角色：中介</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class Proxy implements Hire&#123;</span><br><span class="line">    private Host host;</span><br><span class="line">    public Proxy(Host host) &#123;</span><br><span class="line">        this.host = host;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void hire() &#123;</span><br><span class="line">        lookAround();</span><br><span class="line">        speak();</span><br><span class="line">        writePaper();</span><br><span class="line">        profitable();</span><br><span class="line">        host.hire();</span><br><span class="line">    &#125;</span><br><span class="line">    private void lookAround()&#123;</span><br><span class="line">        System.out.println(&quot;带你去看看房&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    private  void writePaper()&#123;</span><br><span class="line">        System.out.println(&quot;签合同&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    private  void speak()&#123;</span><br><span class="line">        System.out.println(&quot;谈判&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    private  void profitable()&#123;</span><br><span class="line">        System.out.println(&quot;收钱&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="客户：需要租房子的人"><a href="#客户：需要租房子的人" class="headerlink" title="客户：需要租房子的人"></a>客户：需要租房子的人</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">    public static void main(String []arg)&#123;</span><br><span class="line">        Host host=new Host();</span><br><span class="line">        host.setName(&quot;冯越&quot;);</span><br><span class="line">        Proxy proxy=new Proxy(host);</span><br><span class="line">        proxy.hire();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Aop的作用"><a href="#Aop的作用" class="headerlink" title="Aop的作用"></a>Aop的作用</h3><p>一般业务中是纵向开发流程也就是从dao-server-controller-前端但是业务大时要对业务修改又不能破坏原有代码哪就要用到我们的横向开发也就是AOP</p><h3 id="代理模式的好与坏"><a href="#代理模式的好与坏" class="headerlink" title="代理模式的好与坏"></a>代理模式的好与坏</h3><h4 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h4><p>1.可以使真实角色的操作更加纯粹！不用去关注一些公用的业务<br/><br>2.公共就交给代理角色！实现了业务的分工<br/><br>3.公共业发生扩展的时候，方便集中管理！<br/></p><h4 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h4><p>1.一个真实角色就会产生一个代理角色，代码量会翻倍，开发效率也会遍地</p><h3 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h3><p>动态代理和静态代理角色一样，但动态代理可以弥补静态代理中的缺点，<br>额，一下代码相当于中介</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class ProxyInvocationHandler implements InvocationHandler &#123;</span><br><span class="line">    private Object target;</span><br><span class="line">    public void setHire(Object target)&#123;</span><br><span class="line">        this.target=target;</span><br><span class="line">    &#125;</span><br><span class="line">    public Object getProxy()&#123;</span><br><span class="line">        return Proxy.newProxyInstance(this.getClass().getClassLoader(),target.getClass().getInterfaces(),this);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">        log(method.getName());</span><br><span class="line">        Object result=method.invoke(target,args);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">    public void log(String msg)&#123;</span><br><span class="line">        System.out.println(&quot;你调用了&quot;+msg+&quot;方法&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来是客户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host host=new Host();</span><br><span class="line">        host.setName(&quot;冯越&quot;);</span><br><span class="line">        ProxyInvocationHandler proxy = new ProxyInvocationHandler();</span><br><span class="line">        proxy.setHire(host);</span><br><span class="line">        Hire proxy1 = (Hire) proxy.getProxy();</span><br><span class="line">        proxy1.hire();</span><br></pre></td></tr></table></figure><p>动态太难了，直接学aop</p><h2 id="Aop的实现"><a href="#Aop的实现" class="headerlink" title="Aop的实现"></a>Aop的实现</h2><h3 id="1-用spring接口实现Aop"><a href="#1-用spring接口实现Aop" class="headerlink" title="1.用spring接口实现Aop"></a>1.用spring接口实现Aop</h3><p>导入依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.8.7&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>运行后的方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class log implements MethodBeforeAdvice&#123;</span><br><span class="line">    @Override //method</span><br><span class="line">    public void before(Method method, Object[] args, Object target) throws Throwable &#123;</span><br><span class="line">        System.out.println(target.getClass().getName()+&quot; is &quot;+method.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行前的方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class After implements AfterReturningAdvice &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;have begin &quot;+method.getName()+&quot; response is &quot;+returnValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编写配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;</span><br><span class="line">       http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">       http://www.springframework.org/schema/aop</span><br><span class="line">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span><br><span class="line">    &lt;bean id=&quot;userServer&quot; class=&quot;user.UserServerImplement&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;beforeLog&quot; class=&quot;log.log&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;after&quot; class=&quot;log.After&quot;/&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;aop:pointcut id=&quot;poingcut&quot; expression=&quot;execution(* user.UserServerImplement.*(..))&quot;/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=&quot;after&quot; pointcut-ref=&quot;poingcut&quot;/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=&quot;beforeLog&quot; pointcut-ref=&quot;poingcut&quot;/&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>测试(用接口接收)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class Text &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationConfig.xml&quot;);</span><br><span class="line">        UserServer userServer = context.getBean(&quot;userServer&quot;, UserServer.class);</span><br><span class="line">        userServer.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-自定义切面"><a href="#2-自定义切面" class="headerlink" title="2.自定义切面"></a>2.自定义切面</h3><p>配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;</span><br><span class="line">       http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">       http://www.springframework.org/schema/aop</span><br><span class="line">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span><br><span class="line">    &lt;bean id=&quot;userServer&quot; class=&quot;user.UserServerImplement&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;beforeLog&quot; class=&quot;log.log&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;after&quot; class=&quot;log.After&quot;/&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;aop:pointcut id=&quot;poingcut&quot; expression=&quot;execution(* user.UserServerImplement.*(..))&quot;/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=&quot;after&quot; pointcut-ref=&quot;poingcut&quot;/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=&quot;beforeLog&quot; pointcut-ref=&quot;poingcut&quot;/&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>写自定义的切面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class point &#123;</span><br><span class="line">    public void before()&#123;</span><br><span class="line">        System.out.println(&quot;=======before=======&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public void after()&#123;</span><br><span class="line">        System.out.println(&quot;=======after=======&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class Text &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationSelfConfig.xml&quot;);</span><br><span class="line">        UserServer userServer = context.getBean(&quot;userServer&quot;, UserServer.class);</span><br><span class="line">        userServer.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-注解实现Aop"><a href="#3-注解实现Aop" class="headerlink" title="3.注解实现Aop"></a>3.注解实现Aop</h3><p>@Aspect 标记一个类为切面<br>@Befor(expression&#x3D;”execution(* user.UserServerImplement.<em>(..))”)写在方法执行前上面<br>@After(expression&#x3D;”execution(</em> user.UserServerImplement.*(..))”)写在方法执行后上面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Around(&quot;execution(* user.UserServerImplement.*(..))&quot;)</span><br><span class="line">    public void around(ProceedingJoinPoint jp) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;环绕前&quot;);</span><br><span class="line">        Signature signature = jp.getSignature();</span><br><span class="line">        Object proceed = jp.proceed();</span><br><span class="line">        System.out.println(&quot;环绕后&quot;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>配置信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;</span><br><span class="line">       http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">       http://www.springframework.org/schema/aop</span><br><span class="line">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span><br><span class="line">    &lt;bean id=&quot;userServer&quot; class=&quot;user.UserServerImplement&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;annotation&quot; class=&quot;AnnotationAop.Annotation&quot;/&gt;</span><br><span class="line">    &lt;aop:aspectj-autoproxy/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><h2 id="合并mybatis"><a href="#合并mybatis" class="headerlink" title="合并mybatis"></a>合并mybatis</h2>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一篇博客</title>
      <link href="/myBlog.github.io/2024/02/26/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/myBlog.github.io/2024/02/26/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><p>代码测试：<br>`&#96;&#96;py<br>print(“Hello”)<br>`&#96;&#96;</p><p>注意：这里因为我放在md文件中的，所以加上了\，不解析&#96;&#96;&#96;，实际测试时请去掉\。</p><p>图片测试：</p><p><img src="https://cdn.jsdelivr.net/gh/fengyue123-deep/wallpaper-blog/b.png"></p><p>引用测试：</p><blockquote><p>这是一条引用</p></blockquote><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><p>无序列表测试：</p><ul><li>哈哈</li><li>嘿嘿</li><li>吼吼</li></ul><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4>]]></content>
      
      
      <categories>
          
          <category> 一级分类 </category>
          
          <category> 二级分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
            <tag> 测试展示 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/myBlog.github.io/2024/02/18/hello-world/"/>
      <url>/myBlog.github.io/2024/02/18/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
